function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),a=n("q/0M"),l=n("zVF4"),u=n("S+S0"),s=n("x7I3"),c=i.SDK_VERSION,h=new a.Logger("@firebase/firestore"),f=function(e){return e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT",e}({});function d(){return h.logLevel===a.LogLevel.DEBUG?f.DEBUG:h.logLevel===a.LogLevel.SILENT?f.SILENT:f.ERROR}function p(e){switch(e){case f.DEBUG:h.logLevel=a.LogLevel.DEBUG;break;case f.ERROR:h.logLevel=a.LogLevel.ERROR;break;case f.SILENT:h.logLevel=a.LogLevel.SILENT;break;default:h.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function g(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(h.logLevel<=a.LogLevel.DEBUG){var i=n.map(v);h.debug.apply(h,o.__spreadArrays(["Firestore ("+c+") ["+e+"]: "+t],i))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.ERROR){var r=t.map(v);h.error.apply(h,o.__spreadArrays(["Firestore ("+c+"): "+e],r))}}function v(e){if("string"==typeof e)return e;var t=_.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function y(e){var t="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function b(e,t){e||y(t)}var _=function(){function e(){}return e.setPlatform=function(t){e.platform&&y("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||y("Platform not set"),e.platform},e}();function w(){return _.getPlatform().emptyByteString}var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(t,e),t}(Error);function T(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new k(C.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){return void 0!==e?e:t}function I(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function x(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A(e){for(var t in b(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O(e,t){if(0!==t.length)throw new k(C.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+Y(t.length,"argument")+".")}function N(e,t,n){if(t.length!==n)throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires "+Y(n,"argument")+", but was called with "+Y(t.length,"argument")+".")}function P(e,t,n){if(t.length<n)throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires at least "+Y(n,"argument")+", but was called with "+Y(t.length,"argument")+".")}function D(e,t,n,r){if(t.length<n||t.length>r)throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+Y(t.length,"argument")+".")}function R(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+Y(r,"element")+".")}function M(e,t,n,r){j(e,t,Q(n)+" argument",r)}function L(e,t,n,r){void 0!==r&&M(e,t,n,r)}function V(e,t,n,r){j(e,t,n+" option",r)}function U(e,t,n,r){void 0!==r&&V(e,t,n,r)}function F(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,l=i;a<l.length;a++){var u=l[a];if(u===r)return;o.push(z(u))}var s=z(r);throw new k(C.INVALID_ARGUMENT,"Invalid value "+s+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function B(e,t,n,r){if(!t.some((function(e){return e===r})))throw new k(C.INVALID_ARGUMENT,"Invalid value "+z(r)+" provided to function "+e+"() for its "+Q(n)+" argument. Acceptable values: "+t.join(", "))}function j(e,t,n,r){if(!("object"===t?q(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=z(r);throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function q(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function z(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y("Unknown wrong type: "+typeof e)}function H(e,t,n){if(void 0===n)throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+Q(t)+" argument, but it was undefined.")}function W(e,t,n){x(t,(function(t,r){if(n.indexOf(t)<0)throw new k(C.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function K(e,t,n,r){var i=z(r);return new k(C.INVALID_ARGUMENT,"Function "+e+"() requires its "+Q(n)+" argument to be a "+t+", but it was: "+i)}function G(e,t,n){if(n<=0)throw new k(C.INVALID_ARGUMENT,'Function "'+e+'()" requires its '+Q(t)+" argument to be a positive number, but it was: "+n+".")}function Q(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function Y(e,t){return e+" "+t+(1===e?"":"s")}var X=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return b(20===t.length,"Invalid auto ID: "+t),t},e}();function J(e,t){return e<t?-1:e>t?1:0}function Z(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function $(e){return e+"\0"}function ee(){if("undefined"==typeof Uint8Array)throw new k(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function te(){if(!_.getPlatform().base64Available)throw new k(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ne=function(){function e(e){te(),this._binaryString=e}return e.fromBase64String=function(t){N("Blob.fromBase64String",arguments,1),M("Blob.fromBase64String","string",1,t),te();try{var n=_.getPlatform().atob(t);return new e(n)}catch(r){throw new k(C.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(N("Blob.fromUint8Array",arguments,1),ee(),!(t instanceof Uint8Array))throw K("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return N("Blob.toBase64",arguments,0),te(),_.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){N("Blob.toUint8Array",arguments,0),ee();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._approximateByteSize=function(){return 2*this._binaryString.length},e.prototype._compareTo=function(e){return J(this._binaryString,e._binaryString)},e}(),re=T(ne,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ie=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},oe=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return J(this.projectId,e.projectId)||J(this.database,e.database)},e}(),ae=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),le=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&y("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return b(this.length>=(e=void 0===e?1:e),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return b(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return b(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return b(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new k(C.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(le),se=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return se.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new k(C.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var l=e[i];if("\\"===l){if(i+1===e.length)throw new k(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new k(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===l?(a=!a,i++):"."!==l||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new k(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(le),he=function(){function e(t){this.path=t,b(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ue.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ue.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ue(t.slice()))},e.fromPathString=function(t){return new e(ue.fromString(t))},e.EMPTY=new e(new ue([])),e}(),fe=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},de=function(e){return e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction",e}({}),pe=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),ge=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),b(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var i=pe.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){b(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){b(e===de.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==de.All&&i.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);b(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}();function me(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ye(t)),t=ve(e.get(n),t);return ye(t)}function ve(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ye(e){return e+"\x01\x01"}function be(e){var t=e.length;if(b(t>=2,"Invalid path "+e),2===t)return b("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),"Non-empty path "+e+" had length 2"),ue.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&y('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case"\x01":var l=e.substring(o,a),u=void 0;0===i.length?u=l:(u=i+=l,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:y('Invalid encoded resource path: "'+e+'"')}o=a+2}return new ue(r)}var _e=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new k(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new k(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new k(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),we=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new _e(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new _e(0,0)),e}(),Ce=function(){function e(e,t){this.comparator=e,this.root=t||Te.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Te.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Te.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new ke(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new ke(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ke(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new ke(this.root,e,this.comparator,!0)},e}(),ke=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){b(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Te=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw y("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Se=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Te(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();Te.EMPTY=new Se;var Ee=function(){function e(e){this.comparator=e,this.data=new Ce(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ie(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ie(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ie=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),xe=new Ce(he.comparator);function Ae(){return xe}function Oe(){return Ae()}var Ne=new Ce(he.comparator);function Pe(){return Ne}var De=new Ce(he.comparator);function Re(){return De}var Me=new Ee(he.comparator);function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Me,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ve=new Ee(J);function Ue(){return Ve}var Fe=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,b(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&b(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;b(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=o.applyToRemoteDocument(t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){t&&b(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(l=r[n]).key.isEqual(e)&&(t=l.applyToLocalView(t,t,this.localWriteTime));for(var i=t,o=0,a=this.mutations;o<a.length;o++){var l;(l=a[o]).key.isEqual(e)&&(t=l.applyToLocalView(t,i,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Le())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations)&&Z(this.baseMutations,e.baseMutations)},e}(),Be=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){b(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=Re(),a=t.mutations,l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new e(t,n,r,i,o)},e}(),je=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),qe="SimpleDb",ze=function(){function e(t){this.db=t,12.2===e.getIOSVersion(l.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return b(e.isAvailable(),"IndexedDB not supported in current environment."),g(qe,"Opening database:",t),new je((function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){i(new e(t.target.result))},a.onblocked=function(){o(new k(C.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;o("VersionError"===t.name?new k(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},a.onupgradeneeded=function(e){g(qe,'Database "'+t+'" requires upgrade from version:',e.oldVersion),r.createOrUpgrade(e.target.result,a.transaction,e.oldVersion,Zt).next((function(){g(qe,"Database upgrade to version "+Zt+" complete")}))}})).toPromise()},e.delete=function(e){return g(qe,"Removing database:",e),Ge(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var t=l.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.isMockPersistence=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.USE_MOCK_PERSISTENCE)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,a,l,u,s;return o.__generator(this,(function(c){switch(c.label){case 0:r=e.startsWith("readonly"),i=e.endsWith("idempotent"),a=0,l=function(){var e,l,s,c;return o.__generator(this,(function(o){switch(o.label){case 0:++a,e=We.open(u.db,r?"readonly":"readwrite",t),o.label=1;case 1:return o.trys.push([1,3,,4]),(l=n(e).catch((function(t){return e.abort(t),je.reject(t)})).toPromise()).catch((function(){})),[4,e.completionPromise];case 2:return o.sent(),[2,{value:l}];case 3:return s=o.sent(),g(qe,"Transaction failed with error: %s. Retrying: %s.",s.message,c=i&&"FirebaseError"!==s.name&&a<3),c?[3,4]:[2,{value:Promise.reject(s)}];case 4:return[2]}}))},u=this,c.label=1;case 1:return[5,l()];case 2:return"object"==typeof(s=c.sent())?[2,s.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),He=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return Ge(this.dbCursor.delete())},e}(),We=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new fe,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=Ye(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(g(qe,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return b(!!t,"Object store not part of transaction: "+e),new Ke(t)},e}(),Ke=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(g(qe,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(g(qe,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ge(n)},e.prototype.add=function(e){return g(qe,"ADD",this.store.name,e,e),Ge(this.store.add(e))},e.prototype.get=function(e){var t=this;return Ge(this.store.get(e)).next((function(n){return void 0===n&&(n=null),g(qe,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return g(qe,"DELETE",this.store.name,e),Ge(this.store.delete(e))},e.prototype.count=function(){return g(qe,"COUNT",this.store.name),Ge(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){g(qe,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new je((function(n,r){t.onerror=function(e){var t=Ye(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new je((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new He(i),a=t(i.primaryKey,i.value,o);if(a instanceof je){var l=a.catch((function(e){return o.done(),je.reject(e)}));n.push(l)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return je.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(b(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Ge(e){return new je((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Ye(e.target.error);n(t)}}))}var Qe=!1;function Ye(e){var t=ze.getIOSVersion(l.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new k("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Qe||(Qe=!0,setTimeout((function(){throw r}),0)),r}}return e}var Xe=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return b(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return et(e).iterate({index:rn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=$e(n),nt(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=$e(t),nt(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=tt(e),a=et(e);return a.add({}).next((function(l){b("number"==typeof l,"Auto-generated key is not a number");for(var u=new Fe(l,t,n,r),s=i.serializer.toDbMutationBatch(i.userId,u),c=[],h=new Ee((function(e,t){return J(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=on.key(i.userId,p.key.path,l);h=h.add(p.key.path.popLast()),c.push(a.put(s)),c.push(o.put(g,on.PLACEHOLDER))}return h.forEach((function(t){c.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.documentKeysByBatchId[l]=u.keys()})),je.waitFor(c).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return et(e).get(t).next((function(e){return e?(b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?je.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return et(e).iterate({index:rn.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(b(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return et(e).iterate({index:rn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return et(e).loadAll(rn.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=on.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return tt(e).iterate({range:i},(function(r,i,a){var l=r[0],u=r[2],s=be(r[1]);if(l===n.userId&&t.path.isEqual(s))return et(e).get(u).next((function(e){if(!e)throw y("Dangling document-mutation reference found: "+r+" which points to "+u);b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+u),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ee(J),i=[];return t.forEach((function(t){var o=on.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),l=tt(e).iterate({range:a},(function(e,i,o){var a=e[0],l=e[2],u=be(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(l):o.done()}));i.push(l)})),je.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;b(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=on.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),l=new Ee(J);return tt(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[2],s=be(e[1]);a===n.userId&&r.isPrefixOf(s)?s.length===i&&(l=l.add(u)):o.done()})).next((function(){return n.lookupMutationBatches(e,l)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(et(e).get(t).next((function(e){if(null===e)throw y("Dangling document-mutation reference found, which points to "+t);b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),je.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ze(e.simpleDbTransaction,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.removeCachedMutationKeys(t.batchId)})),je.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return je.resolve();var r=IDBKeyRange.lowerBound(on.prefixForUser(t.userId)),i=[];return tt(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=be(e[1]);i.push(o)}else r.done()})).next((function(){b(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return Je(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return nt(e).get(this.userId).next((function(e){return e||new nn(t.userId,-1,"")}))},e}();function Je(e,t,n){var r=on.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return tt(e).iterate({range:o,keysOnly:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Ze(e,t,n){var r=e.store(rn.store),i=e.store(on.store),o=[],a=IDBKeyRange.only(n.batchId),l=0,u=r.iterate({range:a},(function(e,t,n){return l++,n.delete()}));o.push(u.next((function(){b(1===l,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var s=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=on.key(t,f.key.path,n.batchId);o.push(i.delete(d)),s.push(f.key)}return je.waitFor(o).next((function(){return s}))}function $e(e){return e instanceof Uint8Array?(b(ze.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function et(e){return Bn.getStore(e,rn.store)}function tt(e){return Bn.getStore(e,on.store)}function nt(e){return Bn.getStore(e,nn.store)}var rt=function(e){return e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine",e}({}),it=function(){function e(e,t){this.generatorId=e,b((1&e)===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},e.prototype.after=function(e){return this.seek(e+2),this.next()},e.prototype.seek=function(e){b((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forTargetCache=function(){return new e(rt.QueryCache,2)},e.forSyncEngine=function(){return new e(rt.SyncEngine)},e}(),ot=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=it.forTargetCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return we.fromTimestamp(new _e(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return ut(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.saveTargetData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.saveTargetData(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return at(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return b(t.targetCount>0,"Removing from an empty target cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return at(e).iterate((function(a,l){var u=r.serializer.fromDbTarget(l);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return je.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){var n=this;return at(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},e.prototype.retrieveMetadata=function(e){return lt(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Bn.getStore(n,fn.store)).put(fn.key,t);var n},e.prototype.saveTargetData=function(e,t){return at(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromTargetData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return at(e).iterate({range:i,index:cn.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.target)&&(o=a,i.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=st(e);return t.forEach((function(t){var a=me(t.path);i.push(o.put(new hn(n,a))),i.push(r.referenceDelegate.addReference(e,t))})),je.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=st(e);return je.forEach(t,(function(t){var o=me(t.path);return je.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=st(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=st(e),i=Le();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=be(e[1]),o=new he(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=me(t.path),r=IDBKeyRange.bound([n],[$(n)],!1,!0),i=0;return st(e).iterate({index:hn.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.getTargetDataForTarget=function(e,t){var n=this;return at(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function at(e){return Bn.getStore(e,cn.store)}function lt(e){return ze.getStore(e,fn.store).get(fn.key).next((function(e){return b(null!==e,"Missing metadata row."),e}))}function ut(e){return lt(e).next((function(e){return e.highestListenSequenceNumber}))}function st(e){return Bn.getStore(e,hn.store)}var ct=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Ee(ce.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),ht=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),ft=function(e,t){this.version=e,this.transformResults=t},dt=function(e){return e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete",e[e.Verify=4]="Verify",e}({}),pt=function(){function e(e,t){this.updateTime=e,this.exists=t,b(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Bt&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Bt:(b(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return n=e.updateTime,(null!=(t=this.updateTime)?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),gt=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&b(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Bt?e.version:we.MIN},e}(),mt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=dt.Set,i}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by SetMutation."),new Bt(this.key,t.version,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=gt.getPostMutationVersion(e);return new Bt(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(gt),vt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=dt.Patch,o}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new qt(this.key,t.version);var n=this.patchDocument(e);return new Bt(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=gt.getPostMutationVersion(e),i=this.patchDocument(e);return new Bt(this.key,r,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Bt?e.data():Vt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},t}(gt),yt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=dt.Transform,r.precondition=pt.exists(!0),r}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),b(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new qt(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new Bt(this.key,i,{hasCommittedMutations:!0},o)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new Bt(this.key,r.version,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Bt?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?Vt.EMPTY.set(i.field,a):t.set(i.field,a))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&Z(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){return b(e instanceof Bt,"Unknown MaybeDocument type "+e),b(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},t.prototype.serverTransformResults=function(e,t){var n=[];b(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Bt&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],l=a.transform,u=null;t instanceof Bt&&(u=t.field(a.field)),null===u&&n instanceof Bt&&(u=n.field(a.field)),r.push(l.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){b(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)e=e.set(this.fieldTransforms[n].field,t[n]);return e},t}(gt),bt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=dt.Delete,r}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by DeleteMutation."),new jt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&b(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new jt(this.key,we.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(gt),_t=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=dt.Verify,r}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){y("VerifyMutation should only be used in Transactions.")},t.prototype.applyToLocalView=function(e,t,n){y("VerifyMutation should only be used in Transactions.")},t.prototype.extractBaseValue=function(e){y("VerifyMutation should only be used in Transactions.")},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(gt),wt=function(e){return e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue",e}({}),Ct=function(e){return e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous",e}({}),kt=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(Ct.Estimate,n);case"previous":return new e(Ct.Previous,n);case"none":case void 0:return new e(Ct.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},e}(),Tt=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return b(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),J(this.typeOrder,e.typeOrder)},e}(),St=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=wt.NullValue,t.internalValue=null,t}return o.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 4},t.INSTANCE=new t,t}(Tt),Et=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.BooleanValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?J(this,e):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 4},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Tt),It=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.NumberValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue)<(r=e.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(e);var n,r},t.prototype.approximateByteSize=function(){return 8},t}(Tt);function xt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&xt(this.internalValue,e.internalValue)},t}(It),Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&xt(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(It),Nt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.StringValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?J(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 2*this.internalValue.length},t}(Tt),Pt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.TimestampValue,n}return o.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Dt?-1:this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 16},t}(Tt),Dt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=wt.TimestampValue,r}return o.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===Ct.Estimate?new Pt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Ct.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Pt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t.prototype.approximateByteSize=function(){return 16+(this.previousValue?this.previousValue.approximateByteSize():0)},t}(Tt),Rt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.BlobValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return this.internalValue._approximateByteSize()},t}(Tt),Mt=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=wt.RefValue,r}return o.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:he.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return this.databaseId.projectId.length+this.databaseId.database.length+this.key.toString().length},t}(Tt),Lt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.GeoPointValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 16},t}(Tt),Vt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.ObjectValue,n}return o.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=J(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return J(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(b(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(b(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){b(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t?n.internalValue.get(e):null})),n},t.prototype.fieldMask=function(){var e=new Ee(ce.comparator);return this.internalValue.forEach((function(n,r){var i=new ce([n]);if(r instanceof t){var o=r.fieldMask().fields;o.isEmpty()?e=e.add(i):o.forEach((function(t){e=e.add(i.child(t))}))}else e=e.add(i)})),ct.fromSet(e)},t.prototype.approximateByteSize=function(){var e=0;return this.internalValue.inorderTraversal((function(t,n){e+=t.length+n.approximateByteSize()})),e},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Ce(J)),t}(Tt),Ut=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.ArrayValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return J(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return this.internalValue.reduce((function(e,t){return e+t.approximateByteSize()}),0)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(Tt),Ft=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return he.comparator(e.key,t.key)},e}(),Bt=function(e){function t(t,n,r,i,o,a){var l=e.call(this,t,n)||this;return l.objectValue=i,l.proto=o,l.converter=a,b(void 0!==l.objectValue||void 0!==l.proto&&void 0!==l.converter,"If objectValue is not defined, proto and converter need to be set."),l.hasLocalMutations=!!r.hasLocalMutations,l.hasCommittedMutations=!!r.hasCommittedMutations,l}return o.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Vt.EMPTY;x(this.proto.fields||{},(function(n,r){t=t.set(new ce([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){b(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},t}(Ft),jt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ft),qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ft),zt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){x(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return A(this.inner)},e}(),Ht=function(){function e(){this.changes=new zt((function(e){return e.toString()})),this.changesApplied=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return b(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){b(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},e.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?je.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){b(!this.changesApplied,"Changes have already been applied.")},e}(),Wt=function(){function e(e,t){this.serializer=e,this.indexManager=t}return e.prototype.addEntry=function(e,t,n){return Gt(e).put(Qt(t),n)},e.prototype.removeEntry=function(e,t){var n=Gt(e),r=Qt(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Gt(e).get(Qt(t)).next((function(e){return n.maybeDecodeDocument(e)}))},e.prototype.getSizedEntry=function(e,t){var n=this;return Gt(e).get(Qt(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:Yt(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Oe();return this.forEachDbEntry(e,t,(function(e,t){var i=n.maybeDecodeDocument(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=Oe(),i=new Ce(he.comparator);return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);o?(r=r.insert(e,o),i=i.insert(e,Yt(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return je.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Gt(e).iterate({range:r},(function(e,t,r){for(var a=he.fromSegments(e);o&&he.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Pe(),o=t.path.length+1,a={};if(n.isEqual(we.MIN)){var l=t.path.toArray();a.range=IDBKeyRange.lowerBound(l)}else{var u=t.path.toArray(),s=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,s],!0),a.index=un.collectionReadTimeIndex}return Gt(e).iterate(a,(function(e,n,a){if(e.length===o){var l=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(l.key.path)?l instanceof Bt&&t.matches(l)&&(i=i.insert(l.key,l)):a.done()}})).next((function(){return i}))},e.prototype.getNewDocumentChanges=function(e,t){var n=this,r=Ae(),i=this.serializer.toDbTimestampKey(t),o=Gt(e),a=IDBKeyRange.lowerBound(i,!0);return o.iterate({index:un.readTimeIndex,range:a},(function(e,t){var o=n.serializer.fromDbRemoteDocument(t);r=r.insert(o.key,o),i=t.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(i)}}))},e.prototype.getLastReadTime=function(e){var t=this,n=Gt(e),r=we.MIN;return n.iterate({index:un.readTimeIndex,reverse:!0},(function(e,n,i){n.readTime&&(r=t.serializer.fromDbTimestampKey(n.readTime)),i.done()})).next((function(){return r}))},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Kt(e).get(sn.key).next((function(e){return b(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return Kt(e).put(sn.key,t)},e.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof jt&&t.version.isEqual(we.forDeletedDoc())?null:t}return null},e.RemoteDocumentChangeBuffer=function(e){function t(t,n){var r=e.call(this)||this;return r.documentCache=t,r.trackRemovals=n,r.documentSizes=new zt((function(e){return e.toString()})),r}return o.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ee((function(e,t){return J(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var l=t.documentSizes.get(o);if(b(void 0!==l,"Cannot modify a document that wasn't read (for "+o+")"),a){b(!t.readTime.isEqual(we.MIN),"Cannot add a document with a read time of zero");var u=t.documentCache.serializer.toDbRemoteDocument(a,t.readTime);i=i.add(o.path.popLast());var s=Yt(u);r+=s-l,n.push(t.documentCache.addEntry(e,o,u))}else if(r-=l,t.trackRemovals){var c=t.documentCache.serializer.toDbRemoteDocument(new jt(o,we.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,o,c))}else n.push(t.documentCache.removeEntry(e,o))})),i.forEach((function(r){n.push(t.documentCache.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.documentCache.updateMetadata(e,r)),je.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(Ht),e}();function Kt(e){return Bn.getStore(e,sn.store)}function Gt(e){return Bn.getStore(e,un.store)}function Qt(e){return e.path.toArray()}function Yt(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var Xt=function(){function e(){this.collectionParentIndex=new Jt}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),je.resolve()},e.prototype.getCollectionParents=function(e,t){return je.resolve(this.collectionParentIndex.getEntries(t))},e}(),Jt=function(){function e(){this.index={}}return e.prototype.add=function(e){b(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ee(ue.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ee(ue.comparator)).toArray()},e}(),Zt=9,$t=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;b(n<r&&n>=0&&r<=Zt,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new We(t);n<1&&r>=1&&(function(e){e.createObjectStore(tn.store)}(e),function(e){e.createObjectStore(nn.store,{keyPath:nn.keyPath}),e.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(on.store)}(e),pn(e),function(e){e.createObjectStore(un.store)}(e));var a=je.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(hn.store),e.deleteObjectStore(cn.store),e.deleteObjectStore(fn.store)}(e),pn(e)),a=a.next((function(){return function(e){var t=e.store(fn.store),n=new fn(0,0,we.MIN.toTimestamp(),0);return t.put(fn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(rn.store).loadAll().next((function(n){e.deleteObjectStore(rn.store),e.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0});var r=t.store(rn.store),i=n.map((function(e){return r.put(e)}));return je.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(gn.store,{keyPath:gn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(sn.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(un.store);t.createIndex(un.readTimeIndex,un.readTimeIndexPath,{unique:!1}),t.createIndex(un.collectionReadTimeIndex,un.collectionReadTimeIndexPath,{unique:!1})}(t)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(un.store).iterate((function(e,n){t+=Yt(n)})).next((function(){var n=new sn(t);return e.store(sn.store).put(sn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(nn.store),r=e.store(rn.store);return n.loadAll().next((function(n){return je.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(rn.userMutationsIndex,i).next((function(r){return je.forEach(r,(function(r){b(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return Ze(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(hn.store),n=e.store(un.store);return ut(e).next((function(e){var r=[];return n.iterate((function(n,i){var o=new ue(n),a=function(e){return[0,me(e)]}(o);r.push(t.get(a).next((function(n){return n?je.resolve():function(n){return t.put(new hn(0,me(n),e))}(o)})))})).next((function(){return je.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(dn.store,{keyPath:dn.keyPath});var n=t.store(dn.store),r=new Jt,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:me(i)})}};return t.store(un.store).iterate({keysOnly:!0},(function(e,t){var n=new ue(e);return i(n.popLast())})).next((function(){return t.store(on.store).iterate({keysOnly:!0},(function(e,t){var n=be(e[1]);return i(n.popLast())}))}))},e}(),en=function(e,t){this.seconds=e,this.nanoseconds=t},tn=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}(),nn=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),rn=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}(),on=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,me(t)]},e.key=function(e,t,n){return[e,me(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),an=function(e,t){this.path=e,this.readTime=t},ln=function(e,t){this.path=e,this.version=t},un=function(){function e(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return e.store="remoteDocuments",e.readTimeIndex="readTimeIndex",e.readTimeIndexPath="readTime",e.collectionReadTimeIndex="collectionReadTimeIndex",e.collectionReadTimeIndexPath=["parentPath","readTime"],e}(),sn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}(),cn=function(){function e(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),hn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,b(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),fn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),dn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function pn(e){e.createObjectStore(hn.store,{keyPath:hn.keyPath}).createIndex(hn.documentTargetsIndex,hn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(cn.store,{keyPath:cn.keyPath}).createIndex(cn.queryTargetsIndexName,cn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(fn.store)}var gn=function(){function e(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}return e.store="clientMetadata",e.keyPath="clientId",e}(),mn=o.__spreadArrays([nn.store,rn.store,on.store,un.store,cn.store,tn.store,fn.store,hn.store],[gn.store]),vn=o.__spreadArrays(mn,[sn.store]),yn=o.__spreadArrays(vn,[dn.store]),bn=function(){function e(){this.collectionParentsCache=new Jt}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(b(t.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.collectionParentsCache.add(t)}));var o={collectionId:r,parent:me(i)};return _n(e).put(o)}return je.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$(t),""],!1,!0);return _n(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(be(o.parent))}return n}))},e}();function _n(e){return Bn.getStore(e,dn.store)}var wn=function(e){return e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution",e}({}),Cn=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=we.MIN),void 0===o&&(o=we.MIN),void 0===a&&(a=w()),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.target.isEqual(e.target)},e}(),kn=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=he.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new jt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=he.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new qt(t,n)):y("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof Bt){var i=e.proto?e.proto:this.remoteSerializer.toDocument(e);return new un(null,null,i,l=e.hasCommittedMutations,n,r)}if(e instanceof jt){var o=e.key.path.toArray(),a=this.toDbTimestamp(e.version),l=e.hasCommittedMutations;return new un(null,new an(o,a),null,l,n,r)}if(e instanceof qt){o=e.key.path.toArray();var u=this.toDbTimestamp(e.version);return new un(new ln(o,u),null,null,!0,n,r)}return y("Unexpected MaybeDocument")},e.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},e.prototype.fromDbTimestampKey=function(e){var t=new _e(e[0],e[1]);return we.fromTimestamp(t)},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new en(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new _e(e.seconds,e.nanoseconds);return we.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new rn(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=_e.fromMillis(e.localWriteTimeMs);return new Fe(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(me(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Le(),n=0,r=e;n<r.length;n++)t=t.add(new he(be(r[n])));return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):we.MIN,i=e.resumeToken;return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Cn(t,e.targetId,wn.Listen,e.lastListenSequenceNumber,n,r,i)},e.prototype.toDbTarget=function(e){b(wn.Listen===e.purpose,"Only queries with purpose "+wn.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),i=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.target):this.remoteSerializer.toQueryTarget(e.target),e.resumeToken instanceof Uint8Array?(b(ze.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new cn(e.targetId,e.target.canonicalId(),r,n,e.sequenceNumber,i,t)},e}(),Tn=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Oe();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=Ae();return i.forEach((function(e,t){t||(t=new jt(e,we.forDeletedDoc())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new he(t)).next((function(e){var t=Pe();return e instanceof Bt&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;b(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=t.collectionGroup,o=Pe();return this.indexManager.getCollectionParents(e,i).next((function(a){return je.forEach(a,(function(a){var l=t.asCollectionQueryAtPath(a.child(i));return r.getDocumentsMatchingCollectionQuery(e,l,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.addMissingBaseDocuments(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,l=o.mutations;a<l.length;a++){var u=l[a],s=u.key,c=r.get(s),h=u.applyToLocalView(c,c,o.localWriteTime);r=h instanceof Bt?r.insert(s,h):r.remove(s)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Le(),i=0,o=t;i<o.length;i++)for(var a=0,l=o[i].mutations;a<l.length;a++){var u=l[a];u instanceof vt&&null===n.get(u.key)&&(r=r.add(u.key))}var s=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Bt&&(s=s.insert(e,t))})),s}))},e}(),Sn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",En=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),In=function(){function e(){this.refsByKey=new Ee(xn.compareByKey),this.refsByTarget=new Ee(xn.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new xn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new xn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=he.EMPTY,r=new xn(n,e),i=new xn(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),o.push(e.key)})),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=he.EMPTY,n=new xn(t,e),r=new xn(t,e+1),i=Le();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new xn(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),xn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return he.comparator(e.key,t.key)||J(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return J(e.targetOrBatchId,t.targetOrBatchId)||he.comparator(e.key,t.key)},e}(),An=function(){function e(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new In,this.targetDataByTarget=new Ce(J),this.targetIdByTarget=new zt((function(e){return e.canonicalId()})),this.lastDocumentChangeReadTime=we.MIN,b(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.localDocuments=new Tn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return e.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},e.prototype.handleUserChange=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i=this;return o.__generator(this,(function(o){switch(o.label){case 0:return t=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.mutationQueue.getAllMutationBatches(r).next((function(a){return o=a,t=i.persistence.getMutationQueue(e),n=new Tn(i.remoteDocuments,t,i.persistence.getIndexManager()),t.getAllMutationBatches(r)})).next((function(e){for(var t=[],i=[],a=Le(),l=0,u=o;l<u.length;l++){t.push((d=u[l]).batchId);for(var s=0,c=d.mutations;s<c.length;s++)a=a.add(c[s].key)}for(var h=0,f=e;h<f.length;h++){var d;i.push((d=f[h]).batchId);for(var p=0,g=d.mutations;p<g.length;p++)a=a.add(g[p].key)}return n.getDocuments(r,a).next((function(e){return{affectedDocuments:e,removedBatchIds:t,addedBatchIds:i}}))}))}))];case 1:return r=o.sent(),this.mutationQueue=t,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},e.prototype.localWrite=function(e){var t,n=this,r=_e.now(),i=e.reduce((function(e,t){return e.add(t.key)}),Le());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.localDocuments.getDocuments(o,i).next((function(i){t=i;for(var a=[],l=0,u=e;l<u.length;l++){var s=u[l],c=s.extractBaseValue(t.get(s.key));null!=c&&a.push(new vt(s.key,c,c.fieldMask(),pt.exists(!0)))}return n.mutationQueue.addMutationBatch(o,r,a,e)}))})).then((function(e){var n=e.applyToLocalDocumentSet(t);return{batchId:e.batchId,changes:n}}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):je.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return b(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(t){return e.targetCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=t.snapshotVersion,i=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=n.targetDataByTarget;var l=[];I(t.targetChanges,(function(t,a){var u=i.get(t);if(u){l.push(n.targetCache.removeMatchingKeys(o,a.removedDocuments,t).next((function(){return n.targetCache.addMatchingKeys(o,a.addedDocuments,t)})));var s=a.resumeToken;if(s.length>0){var c=u.withResumeToken(s,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(t,c),e.shouldPersistTargetData(u,c,a)&&l.push(n.targetCache.updateTargetData(o,c))}}}));var u=Ae(),s=Le();if(t.documentUpdates.forEach((function(e,t){s=s.add(e)})),l.push(a.getEntries(o,s).next((function(e){t.documentUpdates.forEach((function(i,s){var c=e.get(i);s instanceof jt&&s.version.isEqual(we.MIN)?(a.removeEntry(i,r),u=u.insert(i,s)):null==c||s.version.compareTo(c.version)>0||0===s.version.compareTo(c.version)&&c.hasPendingWrites?(b(!we.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),a.addEntry(s,r),u=u.insert(i,s)):g("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",s.version),t.resolvedLimboDocuments.has(i)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))}))}))),!r.isEqual(we.MIN)){var c=n.targetCache.getLastRemoteSnapshotVersion(o).next((function(e){return b(r.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+e),n.targetCache.setTargetsMetadata(o,o.currentSequenceNumber,r)}));l.push(c)}return je.waitFor(l).next((function(){return a.apply(o)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(o,u)}))})).then((function(e){return n.targetDataByTarget=i,e}))},e.shouldPersistTargetData=function(e,t,n){return b(t.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},e.prototype.notifyLocalViewChanges=function(e){for(var t=this,n=0,r=e;n<r.length;n++){var i=r[n],o=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,o),this.localViewReferences.removeReferences(i.removedKeys,o),!i.fromCache){var a=this.targetDataByTarget.get(o);b(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var l=a.withLastLimboFreeSnapshotVersion(a.snapshotVersion);this.targetDataByTarget=this.targetDataByTarget.insert(o,l)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return je.forEach(e,(function(e){return je.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateTarget=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return t.targetCache.getTargetData(n,e).next((function(i){return i?je.resolve(r=i):t.targetCache.allocateTargetId(n).next((function(i){return r=new Cn(e,i,wn.Listen,n.currentSequenceNumber),t.targetCache.addTargetData(n,r).next((function(){return r}))}))}))})).then((function(n){return null===t.targetDataByTarget.get(n.targetId)&&(t.targetDataByTarget=t.targetDataByTarget.insert(n.targetId,n),t.targetIdByTarget.set(e,n.targetId)),n}))},e.prototype.getTargetData=function(e,t){var n=this.targetIdByTarget.get(t);return void 0!==n?je.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(e,t)},e.prototype.releaseTarget=function(e,t){var n=this,r=this.targetDataByTarget.get(e);return b(null!==r,"Tried to release nonexistent target: "+e),this.persistence.runTransaction("Release target",t?"readwrite-idempotent":"readwrite-primary-idempotent",(function(i){var o=n.localViewReferences.removeReferencesForId(e);return t?je.resolve():je.forEach(o,(function(e){return n.persistence.referenceDelegate.removeReference(i,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(i,r)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(e),n.targetIdByTarget.delete(r.target)}))},e.prototype.executeQuery=function(e,t){var n=this,r=we.MIN,i=Le();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.getTargetData(o,e.toTarget()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,e,t?r:we.MIN,t?i:Le())})).next((function(e){return{documents:e,remoteKeys:i}}))}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return t.targetCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=je.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var o=e,a=t.docVersions.get(r);b(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o,t.commitVersion):b(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return e.collect(n,t.targetDataByTarget)}))},e.prototype.getTarget=function(e){var t=this,n=this.targetDataByTarget.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return t.targetCache.getTargetDataForTarget(n,e).next((function(e){return e?e.target:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(t){return e.remoteDocuments.getNewDocumentChanges(t,e.lastDocumentChangeReadTime)})).then((function(t){var n=t.changedDocs;return e.lastDocumentChangeReadTime=t.readTime,n}))},e.prototype.synchronizeLastDocumentChangeReadTime=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t=this;return o.__generator(this,(function(n){switch(n.label){case 0:return e=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(e){return t.remoteDocuments.getLastReadTime(e)}))];case 1:return e.lastDocumentChangeReadTime=n.sent(),[2]}}))}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}();function On(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){if(e.code!==C.FAILED_PRECONDITION||e.message!==Sn)throw e;return g("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Nn(e,t){var n=e[1],r=t[1],i=J(e[0],t[0]);return 0===i?J(n,r):i}var Pn=function(){function e(e){this.maxElements=e,this.buffer=new Ee(Nn),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Nn(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Dn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rn=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),Mn=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){b(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Rn.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;b(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;g("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(de.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(On)}))},e}(),Ln=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return je.resolve(ae.INVALID);var r=new Pn(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Rn.COLLECTION_DISABLED?(g("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(Dn)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(g("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Dn):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,i,o,a,l,u,s=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>s.params.maximumSequenceNumbersToCollect?(g("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+s.params.maximumSequenceNumbersToCollect+" from "+t),r=s.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),s.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),s.removeTargets(e,n,t)})).next((function(t){return i=t,l=Date.now(),s.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),d()<=f.DEBUG&&g("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(l-a)+"ms\n\tRemoved "+e+" documents in "+(u-l)+"ms\nTotal Duration: "+(u-c)+"ms"),je.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Vn="IndexedDbPersistence",Un="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Fn=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return o.__extends(t,e),t}(En),Bn=function(){function e(t,n,r,i,o,a,l,u){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new zn(this,o),this.dbName=n+e.MAIN_DATABASE,this.serializer=new kn(l),this.document=i.document,this.targetCache=new ot(this.referenceDelegate,this.serializer),this.indexManager=new bn,this.remoteDocumentCache=new Wt(this.serializer,this.indexManager),!i.window||!i.window.localStorage)throw new k(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Fn)return ze.getStore(e.simpleDbTransaction,t);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!e.isAvailable())throw new k(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return b(!this.started,"IndexedDbPersistence double-started!"),b(null!==this.window,"Expected 'window' to be defined"),ze.openOrCreate(this.dbName,Zt,new $t(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[fn.store],(function(e){return ut(e)}))})).then((function(t){e.listenSequence=new ae(t,e.sequenceNumberSyncer)})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite-idempotent",yn,(function(t){return qn(t).put(new gn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){return e.isPrimary&&!n?e.releasePrimaryLeaseIfHeld(t).next((function(){return!1})):!!n&&e.acquireOrExtendPrimaryLease(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization)throw t;return g(Vn,"Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(t)})),e.isPrimary=t}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return jn(e).get(tn.key).next((function(e){return je.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return qn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=e.getStore(n,gn.store);return r.loadAll().next((function(e){var n=t.filterActiveClients(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return je.forEach(i,(function(e){return r.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(e){t.window.localStorage.removeItem(t.zombiedClientLocalStorageKey(e.clientId))})),n.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(de.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return jn(e).get(tn.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new k(C.FAILED_PRECONDITION,Un);return!1}}return!(!t.networkEnabled||!t.inForeground)||qn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&g(Vn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[tn.store,gn.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[gn.store],(function(t){return qn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return e.isAvailable()?[4,ze.delete(t+e.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return b(this.started,"Cannot initialize MutationQueue before persistence is started."),Xe.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getTargetCache=function(){return b(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},e.prototype.getRemoteDocumentCache=function(){return b(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return b(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;g(Vn,"Starting transaction:",e);var i,o=t.endsWith("idempotent"),a=t.startsWith("readonly");return this.simpleDb.runTransaction(a?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite",yn,(function(o){return i=new Fn(o,r.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?r.verifyPrimaryLease(o).next((function(e){return!!e||r.canActAsPrimary(o)})).next((function(t){if(!t)throw m("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new k(C.FAILED_PRECONDITION,Sn);return n(i)})).next((function(e){return r.acquireOrExtendPrimaryLease(o).next((function(){return e}))})):r.verifyAllowTabSynchronization(o).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return jn(e).get(tn.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new k(C.FAILED_PRECONDITION,Un)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new tn(this.clientId,this.allowTabSynchronization,Date.now());return jn(e).put(tn.key,t)},e.isAvailable=function(){return ze.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=jn(e);return n.get(tn.key).next((function(e){return t.isLocalClient(e)?(g(Vn,"Releasing primary lease."),n.delete(tn.key)):je.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(m("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(b(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(b("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return g(Vn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return m(Vn,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function jn(e){return e.store(tn.store)}function qn(e){return e.store(gn.store)}var zn=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Ln(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Hn(e,t)},e.prototype.removeReference=function(e,t){return Hn(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Hn(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?je.resolve(!0):function(e,t){var n=!1;return nt(e).iterateSerial((function(r){return Je(e,r,t).next((function(e){return e&&(n=!0),je.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,(function(a,l){if(l<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),st(e).delete([0,me(a.path)])}))}));i.push(u)}})).next((function(){return je.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Hn(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=st(e),i=ae.INVALID;return r.iterate({index:hn.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==ae.INVALID&&t(new he(be(n)),i),i=a,n=o):i=ae.INVALID})).next((function(){i!==ae.INVALID&&t(new he(be(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Hn(e,t){return st(e).put(function(e,t){return new hn(0,me(e.path),t)}(t,e.currentSequenceNumber))}var Wn=Number,Kn=Wn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Gn=Wn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Qn=Wn.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Yn(e){return null==e}function Xn(e){return Qn(e)&&e<=Gn&&e>=Kn}var Jn=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}return e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();null!==this.collectionGroup&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";Yn(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e=this.path.canonicalString();return null!==this.collectionGroup&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Yn(this.limit)||(e+=", limit: "+this.limit),this.orderBy.length>0&&(e+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),"Target("+e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},e.prototype.isDocumentQuery=function(){return he.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e}(),Zn=function(e){return e.First="F",e.Last="L",e}({}),$n=function(){function e(e,t,n,r,i,o,a,l){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=Zn.First),void 0===a&&(a=null),void 0===l&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.memoizedOrderBy=null,this.memoizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)this.memoizedOrderBy=e.isKeyField()?[hr]:[new cr(e),hr];else{b(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ur.ASCENDING)===ur.ASCENDING?hr:fr)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){b(null==this.getInequalityFilterField()||!(t instanceof nr)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),b(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){b(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.withLimitToFirst=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,Zn.First,this.startAt,this.endAt)},e.prototype.withLimitToLast=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,Zn.Last,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},e.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},e.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},e.prototype.isEqual=function(e){return this.toTarget().isEqual(e.toTarget())&&this.limitType===e.limitType},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return b(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimitToFirst=function(){return!Yn(this.limit)&&this.limitType===Zn.First},e.prototype.hasLimitToLast=function(){return!Yn(this.limit)&&this.limitType===Zn.Last},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof nr&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof nr&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.toTarget=function(){if(!this.memoizedTarget)if(this.limitType===Zn.First)this.memoizedTarget=new Jn(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t];e.push(new cr(r.field,r.dir===ur.DESCENDING?ur.ASCENDING:ur.DESCENDING))}var i=this.endAt?new sr(this.endAt.position,!this.endAt.before):null,o=this.startAt?new sr(this.startAt.position,!this.startAt.before):null;this.memoizedTarget=new Jn(this.path,this.collectionGroup,e,this.filters,this.limit,i,o)}return this.memoizedTarget},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):he.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){b(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),er=function(){},tr=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),nr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return o.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===tr.IN?(b(r instanceof Ut,"Comparing on key with IN, but filter value not an ArrayValue"),b(r.internalValue.every((function(e){return e instanceof Mt})),"Comparing on key with IN, but an array value was not a RefValue"),new ir(e,r)):(b(r instanceof Mt,"Comparing on key, but filter value not a RefValue"),b(n!==tr.ARRAY_CONTAINS&&n!==tr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new rr(e,n,r));if(r.isEqual(St.INSTANCE)){if(n!==tr.EQUAL)throw new k(C.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Ot.NAN)){if(n!==tr.EQUAL)throw new k(C.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===tr.ARRAY_CONTAINS?new or(e,r):n===tr.IN?(b(r instanceof Ut,"IN filter has invalid value: "+r.toString()),new ar(e,r)):n===tr.ARRAY_CONTAINS_ANY?(b(r instanceof Ut,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new lr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case tr.LESS_THAN:return e<0;case tr.LESS_THAN_OR_EQUAL:return e<=0;case tr.EQUAL:return 0===e;case tr.GREATER_THAN:return e>0;case tr.GREATER_THAN_OR_EQUAL:return e>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[tr.LESS_THAN,tr.LESS_THAN_OR_EQUAL,tr.GREATER_THAN,tr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(er),rr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.matches=function(e){var t=he.comparator(e.key,this.value.key);return this.matchesComparison(t)},t}(nr),ir=function(e){function t(t,n){var r=e.call(this,t,tr.IN,n)||this;return r.value=n,r}return o.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(nr),or=function(e){function t(t,n){return e.call(this,t,tr.ARRAY_CONTAINS,n)||this}return o.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Ut&&t.contains(this.value)},t}(nr),ar=function(e){function t(t,n){var r=e.call(this,t,tr.IN,n)||this;return r.value=n,r}return o.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(nr),lr=function(e){function t(t,n){var r=e.call(this,t,tr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Ut&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(nr),ur=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),sr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},e.prototype.sortsBeforeDocument=function(e,t){b(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())b(o instanceof Mt,"Bound has a non-key value where the key path is being used."),n=he.comparator(o.key,t.key);else{var a=t.field(i.field);b(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===ur.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++)if(!this.position[t].isEqual(e.position[t]))return!1;return!0},e}(),cr=function(){function e(e,t){this.field=e,void 0===t&&(t=ur.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Bt.compareByKey(e,t):Bt.compareByField(this.field,e,t);switch(this.dir){case ur.ASCENDING:return n;case ur.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),hr=new cr(ce.keyField(),ur.ASCENDING),fr=new cr(ce.keyField(),ur.DESCENDING),dr=function(){function e(){}return e.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return b(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),t.matchesAllDocuments()?this.executeFullCollectionScan(e,t):n.isEqual(we.MIN)?this.executeFullCollectionScan(e,t):this.localDocumentsView.getDocuments(e,r).next((function(o){var a=i.applyQuery(t,o);return(t.hasLimitToFirst()||t.hasLimitToLast())&&i.needsRefill(t.limitType,a,r,n)?i.executeFullCollectionScan(e,t):(d()<=f.DEBUG&&g("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),t.toString()),i.localDocumentsView.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.applyQuery=function(e,t){var n=new Ee((function(t,n){return e.docComparator(t,n)}));return t.forEach((function(t,r){r instanceof Bt&&e.matches(r)&&(n=n.add(r))})),n},e.prototype.needsRefill=function(e,t,n,r){if(n.size!==t.size)return!0;var i=e===Zn.First?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.executeFullCollectionScan=function(e,t){return d()<=f.DEBUG&&g("IndexFreeQueryEngine","Using full collection scan to execute query: %s",t.toString()),this.localDocumentsView.getDocumentsMatchingQuery(e,t,we.MIN)},e}(),pr=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new Ee(xn.compareByKey)}return e.prototype.checkEmpty=function(e){return je.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");b(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return b(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,je.resolve()},e.prototype.getLastStreamToken=function(e){return je.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,je.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){b(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&b(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Fe(i,t,n,r);this.mutationQueue.push(o);for(var a=0,l=r;a<l.length;a++){var u=l[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new xn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return je.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return je.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return b(null!=n,"Failed to find local mutation batch."),je.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.indexOfBatchId(t+1),r=n<0?0:n;return je.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return je.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return je.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new xn(t,0),i=new xn(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){b(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);b(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),je.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ee(J);return t.forEach((function(e){var t=new xn(e,0),i=new xn(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){b(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),je.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;he.isDocumentKey(i)||(i=i.child(""));var o=new xn(new he(i),0),a=new Ee(J);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),o),je.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;b(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return je.forEach(t.mutations,(function(i){var o=new xn(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new xn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return je.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&b(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),je.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return b(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return b(n.batchId===e,"If found batch must match"),n},e}(),gr=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Ce(he.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){b(!n.isEqual(we.MIN),"Cannot add a document with a read time of zero");var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return je.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Oe();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),je.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Pe(),i=new he(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),l=a.value,u=l.maybeDocument,s=l.readTime;if(!t.path.isPrefixOf(a.key.path))break;s.compareTo(n)<=0||u instanceof Bt&&t.matches(u)&&(r=r.insert(u.key,u))}return je.resolve(r)},e.prototype.forEachDocumentKey=function(e,t){return je.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e,t){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},e.prototype.getLastReadTime=function(e){return je.resolve(we.MIN)},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return je.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return o.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i?n.push(t.documentCache.addEntry(e,i,t.readTime)):t.documentCache.removeEntry(r)})),je.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(Ht),e}(),mr=function(){function e(e){this.persistence=e,this.targets=new zt((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=we.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new In,this.targetCount=0,this.targetIdGenerator=it.forTargetCache()}return e.prototype.forEachTarget=function(e,t){return this.targets.forEach((function(e,n){return t(n)})),je.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return je.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return je.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,je.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),je.resolve()},e.prototype.saveTargetData=function(e){this.targets.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return b(!this.targets.has(t.target),"Adding a target that already exists"),this.saveTargetData(t),this.targetCount+=1,je.resolve()},e.prototype.updateTargetData=function(e,t){return b(this.targets.has(t.target),"Updating a non-existent target"),this.saveTargetData(t),je.resolve()},e.prototype.removeTargetData=function(e,t){return b(this.targetCount>0,"Removing a target from an empty cache"),b(this.targets.has(t.target),"Removing a non-existent target from the cache"),this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,je.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.targets.forEach((function(a,l){l.sequenceNumber<=t&&null===n.get(l.targetId)&&(r.targets.delete(a),o.push(r.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),je.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return je.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.targets.get(t)||null;return je.resolve(n)},e.prototype.getTargetDataForTarget=function(e,t){return y("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),je.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),je.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),je.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return je.resolve(n)},e.prototype.containsKey=function(e,t){return je.resolve(this.references.containsKey(t))},e}(),vr=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ae(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.targetCache=new mr(this),this.indexManager=new Xt,this.remoteDocumentCache=new gr(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n){return new e(t,(function(e){return new _r(e,n)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new br(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new pr(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.targetCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;g("MemoryPersistence","Starting transaction:",e);var i=new yr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.mutationQueuesContainKey=function(e,t){return je.or((n=this.mutationQueues,r=[],x(n,(function(e,t){return r.push(t)})),r).map((function(n){return function(){return n.containsKey(e,t)}})));var n,r},e}(),yr=function(e){function t(t){var n=e.call(this)||this;return n.currentSequenceNumber=t,n}return o.__extends(t,e),t}(En),br=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),je.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),je.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),je.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return je.or([function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return je.resolve(n.inMemoryPins.containsKey(t))}])},e}(),_r=function(){function e(e,t){this.persistence=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new zt((function(e){return me(e.path)})),this.garbageCollector=new Ln(this,t)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return je.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return je.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?je.resolve():t(i)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,(function(i){return n.isPinned(e,i,t).next((function(e){e||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(e)})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.documentSize=function(e){var t=e.key.toString().length;return e instanceof Bt&&(t+=e.data().approximateByteSize()),t},e.prototype.isPinned=function(e,t,n){var r=this;return je.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return je.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return je.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),wr=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&g("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),Cr=function(e){return e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff",e}({}),kr=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Cr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new wr(e,t)}return e.prototype.isStarted=function(){return this.state===Cr.Starting||this.state===Cr.Open||this.state===Cr.Backoff},e.prototype.isOpen=function(){return this.state===Cr.Open},e.prototype.start=function(){this.state!==Cr.Error?(b(this.state===Cr.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Cr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){b(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Cr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.isOpen()?[2,this.close(Cr.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return b(this.isStarted(),"Only started streams should be closed."),b(e===Cr.Error||Yn(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Cr.Error?this.backoff.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===C.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;b(this.state===Cr.Initial,"Must be in initial state to auth"),this.state=Cr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new k(C.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;b(this.state===Cr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return b(t.state===Cr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Cr.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;b(this.state===Cr.Error,"Should only perform backoff when in Error state"),this.state=Cr.Backoff,this.backoff.backoffAndRun((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return b(this.state===Cr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Cr.Initial,this.start(),b(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return b(this.isStarted(),"Can't handle server close on non-started stream"),g("PersistentStream","close with error: "+e),this.stream=null,this.close(Cr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(g("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Tr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,de.ListenStreamConnectionBackoff,de.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return o.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(kr),Sr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,de.WriteStreamConnectionBackoff,de.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a.lastStreamToken=w(),a}return o.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(b(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return b(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){b(this.isOpen(),"Writing handshake requires an opened stream"),b(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;b(this.isOpen(),"Writing mutations requires an opened stream"),b(this.handshakeComplete_,"Handshake must be complete before writing mutations"),b(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(kr),Er=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new Sr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Tr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Ae();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);b(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),Ir=function(){function e(e){this.datastore=e,this.readVersions=Re(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new k(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof jt||e instanceof Bt?n.recordVersion(e):y("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new bt(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),e.forEach((function(e,n){t.mutations.push(new _t(e,t.precondition(e)))})),[4,this.datastore.commit(this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof Bt)t=e.version;else{if(!(e instanceof jt))throw y("Document in a transaction was a "+e.constructor.name);t=we.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new k(C.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?pt.updateTime(t):pt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(we.forDeletedDoc()))throw new k(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pt.updateTime(t)}return pt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){b(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}(),xr=function(e){return e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline",e}({}),Ar=function(e){return e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState",e}({}),Or=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=xr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(xr.Unknown),b(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(de.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,b(e.state===xr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(xr.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===xr.Online?(this.setAndBroadcast(xr.Unknown),b(0===this.watchStreamFailures,"watchStreamFailures must be 0"),b(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(xr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===xr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(t),this.shouldWarnClientIsOffline=!1):g("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),Nr=function(e){return e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e}({});function Pr(e){switch(e){case C.OK:return y("Treated status OK as error");case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return y("Unknown status code: "+e)}}function Dr(e){if(void 0===e)return m("GRPC error has no .code"),C.UNKNOWN;switch(e){case Nr.OK:return C.OK;case Nr.CANCELLED:return C.CANCELLED;case Nr.UNKNOWN:return C.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return C.INTERNAL;case Nr.UNAVAILABLE:return C.UNAVAILABLE;case Nr.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Nr.NOT_FOUND:return C.NOT_FOUND;case Nr.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Nr.ABORTED:return C.ABORTED;case Nr.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Nr.DATA_LOSS:return C.DATA_LOSS;default:return y("Unknown status code: "+e)}}function Rr(e){if(void 0===e)return Nr.OK;switch(e){case C.OK:return Nr.OK;case C.CANCELLED:return Nr.CANCELLED;case C.UNKNOWN:return Nr.UNKNOWN;case C.DEADLINE_EXCEEDED:return Nr.DEADLINE_EXCEEDED;case C.RESOURCE_EXHAUSTED:return Nr.RESOURCE_EXHAUSTED;case C.INTERNAL:return Nr.INTERNAL;case C.UNAVAILABLE:return Nr.UNAVAILABLE;case C.UNAUTHENTICATED:return Nr.UNAUTHENTICATED;case C.INVALID_ARGUMENT:return Nr.INVALID_ARGUMENT;case C.NOT_FOUND:return Nr.NOT_FOUND;case C.ALREADY_EXISTS:return Nr.ALREADY_EXISTS;case C.PERMISSION_DENIED:return Nr.PERMISSION_DENIED;case C.FAILED_PRECONDITION:return Nr.FAILED_PRECONDITION;case C.ABORTED:return Nr.ABORTED;case C.OUT_OF_RANGE:return Nr.OUT_OF_RANGE;case C.UNIMPLEMENTED:return Nr.UNIMPLEMENTED;case C.DATA_LOSS:return Nr.DATA_LOSS;default:return y("Unknown status code: "+e)}}var Mr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||he.comparator(t.key,n.key)}:function(e,t){return he.comparator(e.key,t.key)},this.keyedMap=Pe(),this.sortedSet=new Ce(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Lr=function(e){return e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata",e}({}),Vr=function(e){return e[e.Local=0]="Local",e[e.Synced=1]="Synced",e}({}),Ur=function(){function e(){this.changeMap=new Ce(he.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Lr.Added&&n.type===Lr.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Lr.Metadata&&n.type!==Lr.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Lr.Modified&&n.type===Lr.Modified?this.changeMap=this.changeMap.insert(t,{type:Lr.Modified,doc:e.doc}):e.type===Lr.Modified&&n.type===Lr.Added?this.changeMap=this.changeMap.insert(t,{type:Lr.Added,doc:e.doc}):e.type===Lr.Removed&&n.type===Lr.Added?this.changeMap=this.changeMap.remove(t):e.type===Lr.Removed&&n.type===Lr.Modified?this.changeMap=this.changeMap.insert(t,{type:Lr.Removed,doc:n.doc}):e.type===Lr.Added&&n.type===Lr.Removed?this.changeMap=this.changeMap.insert(t,{type:Lr.Modified,doc:e.doc}):y("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Fr=function(){function e(e,t,n,r,i,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:Lr.Added,doc:e})})),new e(t,n,Mr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Br=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=jr.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(we.MIN,i,Ue(),Ae(),Le())},e}(),jr=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(w(),n,Le(),Le(),Le())},e}(),qr=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},zr=function(e,t){this.targetId=e,this.existenceFilter=t},Hr=function(e){return e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset",e}({}),Wr=function(e,t,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Kr=function(){function e(){this.pendingResponses=0,this.documentChanges=Yr(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Le(),t=Le(),n=Le();return this.documentChanges.forEach((function(r,i){switch(i){case Lr.Added:e=e.add(r);break;case Lr.Modified:t=t.add(r);break;case Lr.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}})),new jr(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Yr()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Gr=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Ae(),this.pendingDocumentTargetMapping=Qr(),this.pendingTargetResets=new Ee(J)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Bt?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof jt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],e.key,e.newDoc)},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Hr.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Hr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Hr.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),b(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Hr.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Hr.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:y("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):I(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.targetDataForActiveTarget(t);if(r){var i=r.target;if(i.isDocumentQuery())if(0===n){var o=new he(i.path);this.removeDocumentFromTarget(t,o,new jt(o,we.forDeletedDoc()))}else b(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};I(this.targetStates,(function(r,i){var o=t.targetDataForActiveTarget(r);if(o){if(i.current&&o.target.isDocumentQuery()){var a=new he(o.target.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new jt(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Le();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.targetDataForActiveTarget(e);return!n||n.purpose===wn.LimboResolution||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Br(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ae(),this.pendingDocumentTargetMapping=Qr(),this.pendingTargetResets=new Ee(J),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Lr.Modified:Lr.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Lr.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Kr),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Ee(J),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.targetDataForActiveTarget(e);return t||g("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.targetDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;b(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Kr,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Qr(){return new Ce(he.comparator)}function Yr(){return new Ce(he.comparator)}var Xr=function(){function e(e,t,n,r,i){var a=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(g("RemoteStore","Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Or(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(xr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(xr.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(g("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return g("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(xr.Unknown),[2]}}))}))},e.prototype.listen=function(e){S(this.listenTargets,e.targetId)||(this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e))},e.prototype.unlisten=function(e){b(S(this.listenTargets,e),"unlisten called on target no currently watched: "+e),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(xr.Unknown))},e.prototype.getTargetDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){b(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Gr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(t){return I(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return void 0===e&&b(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(xr.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(xr.Online),e instanceof Wr&&e.state===Hr.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof qr?this.watchChangeAggregator.handleDocumentChange(e):e instanceof zr?this.watchChangeAggregator.handleExistenceFilter(e):(b(e instanceof Wr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(we.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;b(!e.isEqual(we.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return I(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(w(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new Cn(n.target,e,wn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;b(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return S(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(e=t.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:t.sent(),t.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){b(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){b(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++)e.writeStream.writeMutations(n[t].mutations)})).catch(On)},e.prototype.onMutationResult=function(e,t){var n=this;b(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Be.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(n){return void 0===e&&b(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},e.prototype.handleHandshakeError=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return Pr(e.code)?(g("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(On)]):[2]}))}))},e.prototype.handleWriteError=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){return Pr(i=e.code)&&i!==C.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},e.prototype.createTransaction=function(){return new Ir(this.datastore)},e.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(xr.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(g("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(xr.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),Jr=function(){function e(e,t){if(N("GeoPoint",arguments,2),M("GeoPoint","number",1,e),M("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new k(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new k(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return J(this._lat,e._lat)||J(this._long,e._long)},e}(),Zr=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Dt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),$r=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ni(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ut(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&Z(t.elements,this.elements)},e}(),ei=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ni(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ut(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&Z(t.elements,this.elements)},e}(),ti=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);return n instanceof At&&this.operand instanceof At?new At(n.internalValue+this.operand.internalValue):new Ot(n.internalValue+this.operand.internalValue)},e.prototype.applyToRemoteDocument=function(e,t){return b(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof It?e:new At(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function ni(e){return e instanceof Ut?e.internalValue.slice():[]}var ri,ii,oi=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),ai=((ri={})[ur.ASCENDING.name]="ASCENDING",ri[ur.DESCENDING.name]="DESCENDING",ri),li=((ii={})[tr.LESS_THAN.name]="LESS_THAN",ii[tr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ii[tr.GREATER_THAN.name]="GREATER_THAN",ii[tr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ii[tr.EQUAL.name]="EQUAL",ii[tr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ii[tr.IN.name]="IN",ii[tr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ii),ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(e,t){b(!Yn(e),t+" is missing")}function ci(e){return"number"==typeof e?e:"string"==typeof e?Number(e):y("can't parse "+e)}var hi=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?C.UNKNOWN:Dr(e.code);return new k(t,e.message||"")},e.prototype.toInt32Value=function(e){return this.options.useProto3Json||Yn(e)?e:{value:e}},e.prototype.fromInt32Value=function(e){var t;return Yn(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return this.options.useProto3Json?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);b(!!e,"Cannot deserialize null or undefined timestamp.");var t=ci(e.seconds||"0");return new _e(t,e.nanos||0)},e.prototype.fromIso8601String=function(e){var t=0,n=ui.exec(e);if(b(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new _e(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(b(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ne.fromBase64String(e)):(b(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ne.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return b(!!e,"Trying to deserialize version that isn't set"),we.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=ue.fromString(e);return b(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return b(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),b(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new he(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ue.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ue(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ue(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return b(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof St)return{nullValue:"NULL_VALUE"};if(e instanceof Et)return{booleanValue:e.value()};if(e instanceof At)return{integerValue:""+e.value()};if(e instanceof Ot){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Nt?{stringValue:e.value()}:e instanceof Vt?{mapValue:this.toMapValue(e)}:e instanceof Ut?{arrayValue:this.toArrayValue(e)}:e instanceof Pt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Lt?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Rt?{bytesValue:this.toBytes(e.value())}:e instanceof Mt?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:y("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return St.INSTANCE;if("booleanValue"in e)return Et.of(e.booleanValue);if("integerValue"in e)return new At(ci(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Ot.NAN;if("Infinity"===e.doubleValue)return Ot.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Ot.NEGATIVE_INFINITY}return new Ot(e.doubleValue)}if("stringValue"in e)return new Nt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e)return si(e.arrayValue,"arrayValue"),new Ut((e.arrayValue.values||[]).map((function(e){return t.fromValue(e)})));if("timestampValue"in e)return si(e.timestampValue,"timestampValue"),new Pt(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e)return si(e.geoPointValue,"geoPointValue"),new Lt(new Jr(e.geoPointValue.latitude||0,e.geoPointValue.longitude||0));if("bytesValue"in e){si(e.bytesValue,"bytesValue");var n=this.fromBlob(e.bytesValue);return new Rt(n)}if("referenceValue"in e){si(e.referenceValue,"referenceValue");var r=this.fromResourceName(e.referenceValue),i=new oe(r.get(1),r.get(3)),o=new he(this.extractLocalPathFromResourceName(r));return new Mt(i,o)}return y("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return b(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new Bt(r,i,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=Vt.EMPTY;return x(e,(function(e,r){n=n.set(new ce([e]),t.fromValue(r))})),n},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;b(!!e.found,"Tried to deserialize a found document from a missing document."),si(e.found.name,"doc.found.name"),si(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Bt(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){b(!!e.missing,"Tried to deserialize a missing document from a found document."),b(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new jt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):y("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Hr.Added:return"ADD";case Hr.Current:return"CURRENT";case Hr.NoChange:return"NO_CHANGE";case Hr.Removed:return"REMOVE";case Hr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof zr)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof qr){var t;if(e.newDoc instanceof Bt)return{documentChange:{document:{name:this.toName((t=e.newDoc).key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}};if(e.newDoc instanceof jt)return{documentDelete:{document:this.toName((t=e.newDoc).key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Wr){var n=void 0;return e.cause&&(n={code:Rr(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){si(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,l=a&&this.fromRpcStatus(a);t=new Wr(r,i,o,l||null)}else if("documentChange"in e){si(e.documentChange,"documentChange");var u=e.documentChange;si(u.document,"documentChange.name"),si(u.document.name,"documentChange.document.name"),si(u.document.updateTime,"documentChange.document.updateTime");var s=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=new Bt(s,c,{},void 0,u.document,(function(e){return n.fromValue(e)}));t=new qr(u.targetIds||[],u.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){si(e.documentDelete,"documentDelete");var f=e.documentDelete;si(f.document,"documentDelete.document"),s=this.fromName(f.document),c=f.readTime?this.fromVersion(f.readTime):we.forDeletedDoc(),h=new jt(s,c),t=new qr([],f.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){si(e.documentRemove,"documentRemove");var d=e.documentRemove;si(d.document,"documentRemove"),s=this.fromName(d.document),t=new qr([],d.removedTargetIds||[],s,null)}else{if(!("filter"in e))return y("Unknown change type "+JSON.stringify(e));si(e.filter,"filter");var p=e.filter;si(p.targetId,"filter.targetId");var g=new oi(p.count||0);t=new zr(p.targetId,g)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Hr.NoChange:"ADD"===e?Hr.Added:"REMOVE"===e?Hr.Removed:"CURRENT"===e?Hr.Current:"RESET"===e?Hr.Reset:y("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return we.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?we.MIN:t.readTime?this.fromVersion(t.readTime):we.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof mt)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof bt)t={delete:this.toName(e.key)};else if(e instanceof vt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else if(e instanceof yt)t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}};else{if(!(e instanceof _t))return y("Unknown mutation type "+e.type);t={verify:this.toName(e.key)}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):pt.NONE;if(e.update){si(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new vt(r,i,o,n)}return new mt(r,i,n)}if(e.delete)return r=this.fromName(e.delete),new bt(r,n);if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return b(!0===n.exists,'Transforms only support precondition "exists == true"'),new yt(r,a)}return e.verify?(r=this.fromName(e.verify),new _t(r,n)):y("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return b(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?pt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?pt.exists(e.exists):pt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=this.fromVersion(e.updateTime?e.updateTime:t);r.isEqual(we.MIN)&&(r=this.fromVersion(t));var i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new ft(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(b(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof Zr)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $r)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof ei)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof ti)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)b("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=Zr.instance;else if("appendMissingElements"in e)n=new $r((e.appendMissingElements.values||[]).map((function(e){return t.fromValue(e)})));else if("removeAllFromArray"in e)n=new ei((e.removeAllFromArray.values||[]).map((function(e){return t.fromValue(e)})));else if("increment"in e){var r=this.fromValue(e.increment);b(r instanceof It,"NUMERIC_ADD transform requires a NumberValue"),n=new ti(r)}else y("Unknown transform proto: "+JSON.stringify(e));var i=ce.fromServerFormat(e.fieldPath);return new ht(i,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;return b(1===t,"DocumentsTarget contained other than 1 document: "+t),$n.atPath(this.fromQueryPath(e.documents[0])).toTarget()},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(b(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(b(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var l=[];n.orderBy&&(l=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new $n(t,i,l,a,u,Zn.First,s,c).toTarget()},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case wn.Listen:return null;case wn.ExistenceFilterMismatch:return"existence-filter-mismatch";case wn.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.target;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof nr?t.toUnaryOrFieldFilter(e):y("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):y("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new sr(r,n)},e.prototype.toDirection=function(e){return ai[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return ur.ASCENDING;case"DESCENDING":return ur.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return li[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return tr.EQUAL;case"GREATER_THAN":return tr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return tr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return tr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return tr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return tr.ARRAY_CONTAINS;case"IN":return tr.IN;case"ARRAY_CONTAINS_ANY":return tr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return ce.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new cr(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return nr.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===tr.EQUAL){if(e.value.isEqual(Ot.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(St.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return nr.create(t,tr.EQUAL,Ot.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return nr.create(n,tr.EQUAL,St.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return ce.fromServerFormat(e)}));return ct.fromArray(t)},e}(),fi=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},di=function(){function e(e){this.syncEngine=e,this.queries=new zt((function(e){return e.canonicalId()})),this.onlineState=xr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new fi,this.queries.set(t,r)),r.listeners.push(e),b(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap&&e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){return n=!1,(r=this.queries.get(t=e.query))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=this.queries.get(i.query);if(o){for(var a=0,l=o.listeners;a<l.length;a++)l[a].onViewSnapshot(i)&&(t=!0);o.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),pi=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=xr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(b(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Lr.Metadata&&t.push(i)}e=new Fr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){return b(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache||(this.options.waitForSyncWhenOnline&&t!==xr.Offline?(b(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===xr.Offline)},e.prototype.shouldRaiseEvent=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){b(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Fr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),gi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}return e.fromSnapshot=function(t,n){for(var r=Le(),i=Le(),o=0,a=n.docChanges;o<a.length;o++){var l=a[o];switch(l.type){case Lr.Added:r=r.add(l.doc.key);break;case Lr.Removed:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),mi=function(e){this.key=e},vi=function(e){this.key=e},yi=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Le(),this.mutatedKeys=Le(),this.documentSet=new Mr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Ur,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,l=!1,u=this.query.hasLimitToFirst()&&i.size===this.query.limit?i.last():null,s=this.query.hasLimitToLast()&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=t instanceof Bt?t:null;h&&(b(e.isEqual(h.key),"Mismatching keys found in document changes: "+e+" != "+h.key),h=n.query.matches(h)?h:null);var f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:Lr.Metadata,doc:h}),p=!0):n.shouldWaitForSyncedDocument(c,h)||(r.track({type:Lr.Modified,doc:h}),p=!0,(u&&n.query.docComparator(h,u)>0||s&&n.query.docComparator(h,s)<0)&&(l=!0)):!c&&h?(r.track({type:Lr.Added,doc:h}),p=!0):c&&!h&&(r.track({type:Lr.Removed,doc:c}),p=!0,(u||s)&&(l=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;a.size>this.query.limit;){var c=this.query.hasLimitToFirst()?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Lr.Removed,doc:c})}return b(!l||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:l,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;b(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Lr.Added:return 1;case Lr.Modified:case Lr.Metadata:return 2;case Lr.Removed:return 0;default:return y("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],l=0===this.limboDocuments.size&&this.current?Vr.Synced:Vr.Local,u=l!==this.syncState;return this.syncState=l,0!==o.length||u?{snapshot:new Fr(this.query,e.documentSet,i,o,e.mutatedKeys,l===Vr.Local,u,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===xr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ur,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return b(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Le(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new vi(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new mi(e))})),n},e.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Le();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},e.prototype.computeInitialSnapshot=function(){return Fr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Vr.Local)},e}(),bi=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new wr(this.asyncQueue,de.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return o.__generator(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Yn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(m){return this.deferred.reject(m),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Pr(t)}return!1},e}(),_i=function(e,t,n){this.query=e,this.targetId=t,this.view=n},wi=function(e){this.key=e,this.receivedDocument=!1},Ci=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new zt((function(e){return e.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new Ce(he.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new In,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=it.forSyncEngine(),this.isPrimary=void 0,this.onlineState=xr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){b(null!==e,"SyncEngine listener cannot be null"),b(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(this.sharedClientState.addLocalQueryTarget(t=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(e.toTarget())];case 2:return i=o.sent(),a=this.sharedClientState.addLocalQueryTarget(i.targetId),[4,this.initializeViewAndComputeSnapshot(e,t=i.targetId,"current"===a)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,a,l,u,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return r=o.sent(),i=new yi(e,r.remoteKeys),a=i.computeDocChanges(r.documents),l=jr.createSynthesizedTargetChangeForCurrentChange(t,n&&this.onlineState!==xr.Offline),b(0===(u=i.applyChanges(a,!0===this.isPrimary,l)).limboChanges.length,"View returned limbo docs before target ack from the server."),b(!!u.snapshot,"applyChanges for new view should always return a snapshot"),s=new _i(e,t,i),this.queryViewsByQuery.set(e,s),this.queriesByTarget[t]||(this.queriesByTarget[t]=[]),this.queriesByTarget[t].push(e),[2,u.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},e.prototype.unlisten=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),b(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),(n=this.queriesByTarget[t.targetId]).length>1?(this.queriesByTarget[t.targetId]=n.filter((function(t){return!t.isEqual(e)})),this.queryViewsByQuery.delete(e),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseTarget(t.targetId,!1).then((function(){r.sharedClientState.clearQueryState(t.targetId),r.remoteStore.unlisten(t.targetId),r.removeAndCleanupTarget(t.targetId)})).catch(On)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(t.targetId),[4,this.localStore.releaseTarget(t.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new bi(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),x(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(b(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?b(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(b(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,On(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===Ar.RemoteStore||!this.isPrimary&&t===Ar.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);b(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a,l,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),(r=(n=this.limboResolutionsByTarget[e])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new Ce(he.comparator)).insert(r,new jt(r,we.forDeletedDoc())),a=Le().add(r),l=new Br(we.MIN,{},new Ee(J),i,a),[2,this.applyRemoteEvent(l)]):[3,1];case 1:return[4,this.localStore.releaseTarget(e,!1).then((function(){return u.removeAndCleanupTarget(e,t)})).catch(On)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(g("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):y("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t=e.batch.batchId,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,On(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,On(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||g("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new k(C.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Ce(J)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(b(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupTarget=function(e,t){var n=this;void 0===t&&(t=null),this.sharedClientState.removeLocalQueryTarget(e),b(this.queriesByTarget[e]&&0!==this.queriesByTarget[e].length,"There are no queries mapped to target id "+e);for(var r=0,i=this.queriesByTarget[e];r<i.length;r++){var o=i[r];this.queryViewsByQuery.delete(o),t&&this.syncEngineListener.onWatchError(o,t)}if(delete this.queriesByTarget[e],this.isPrimary){var a=this.limboDocumentRefs.referencesForId(e);this.limboDocumentRefs.removeReferencesForId(e),a.forEach((function(e){n.limboDocumentRefs.containsKey(e)||n.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof mi?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof vi?(g("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){g("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=$n.atPath(t.path);this.limboResolutionsByTarget[n]=new wi(t),this.remoteStore.listen(new Cn(r.toTarget(),n,wn.LimboResolution,ae.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(o,l){i.push(Promise.resolve().then((function(){var t=l.view.computeDocChanges(e);return t.needsRefill?a.localStore.executeQuery(l.query,!1).then((function(e){return l.view.computeDocChanges(e.documents,t)})):t})).then((function(e){var i=l.view.applyChanges(e,!0===a.isPrimary,t&&t.targetChanges[l.targetId]);if(a.updateTrackedLimbos(l.targetId,i.limboChanges),i.snapshot){a.isPrimary&&a.sharedClientState.updateQueryState(l.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=gi.fromSnapshot(l.targetId,i.snapshot);r.push(o)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){b(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,a,l,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=o.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],l=Promise.resolve(),I(this.queriesByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):l=l.then((function(){return u.removeAndCleanupTarget(e),u.localStore.releaseTarget(e,!0)})),u.remoteStore.unlisten(e)})),[4,l]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;I(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Ce(he.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,a,l,u,s,c,h,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:t=[],n=[],r=0,i=e,o.label=1;case 1:return r<i.length?(l=void 0,(u=this.queriesByTarget[a=i[r]])&&0!==u.length?[4,this.localStore.releaseTarget(a,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.localStore.allocateTarget(u[0].toTarget())];case 3:l=o.sent(),s=0,c=u,o.label=4;case 4:return s<c.length?(b(!!(f=this.queryViewsByQuery.get(h=c[s])),"No query view found for "+h),[4,this.synchronizeViewAndComputeSnapshot(f)]):[3,7];case 5:(d=o.sent()).snapshot&&n.push(d.snapshot),o.label=6;case 6:return s++,[3,4];case 7:return[3,12];case 8:return b(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(a)];case 9:return b(!!(p=o.sent()),"Target for id "+a+" not found"),[4,this.localStore.allocateTarget(p)];case 10:return l=o.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(p),a,!1)];case 11:o.sent(),o.label=12;case 12:t.push(l),o.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.synthesizeTargetToQuery=function(e){return new $n(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,Zn.First,e.startAt,e.endAt)},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return g("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=o.sent(),i=Br.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(e,!0)];case 5:return o.sent(),this.removeAndCleanupTarget(e,n),[3,7];case 6:y("Unexpected target state: "+t),o.label=7;case 7:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a,l,u,s,c,h,f=this;return o.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,d.label=1;case 1:return n<r.length?(b(!this.queriesByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getTarget(h)]):[3,6];case 2:return b(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateTarget(i)];case 3:return a=d.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(i),a.targetId,!1)];case 4:d.sent(),this.remoteStore.listen(a),d.label=5;case 5:return n++,[3,1];case 6:l=function(e){return o.__generator(this,(function(t){switch(t.label){case 0:return u.queriesByTarget[e]?[4,u.localStore.releaseTarget(e,!1).then((function(){f.remoteStore.unlisten(e),f.removeAndCleanupTarget(e)})).catch(On)]:[2,"continue"];case 1:return t.sent(),[2]}}))},u=this,s=0,c=t,d.label=7;case 7:return s<c.length?[5,l(h=c[s])]:[3,10];case 8:d.sent(),d.label=9;case 9:return s++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];if(t&&t.receivedDocument)return Le().add(t.key);var n=Le(),r=this.queriesByTarget[e];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=o[i],l=this.queryViewsByQuery.get(a);b(!!l,"No query view found for "+a),n=n.unionWith(l.view.syncedDocuments)}return n},e}(),ki=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}();function Ti(e,t){return b(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),"firestore_clients_"+e+"_"+t}function Si(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Ei(e,t){return"firestore_targets_"+e+"_"+t}var Ii="SharedClientState",xi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,b(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new k(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(m(Ii,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ai=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,b(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new k(r.error.code,r.error.message)),i?new e(t,r.state,o):(m(Ii,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Oi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ue(),a=0;i&&a<r.activeTargetIds.length;++a)i=Xn(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(m(Ii,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Ni=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&n.onlineState in xr&&"string"==typeof n.clientId?new e(n.clientId,xr[n.onlineState]):(m(Ii,"Failed to parse online state: "+t),null)},e}(),Pi=function(){function e(){this.activeTargetIds=Ue()}return e.prototype.addQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Di=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new k(C.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=Ti(this.persistenceKey,this.localClientId),this.sequenceNumberKey=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.activeClients[this.localClientId]=new Pi,this.clientStateKeyRe=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.onlineStateKey=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,a,l,u,s,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return b(!this.started,"WebStorageSharedClientState already started"),b(null!==this.syncEngine,"syncEngine property must be set before calling start()"),b(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=o.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(Ti(this.persistenceKey,r)))&&(a=Oi.fromWebStorageEntry(r,i))&&(this.activeClients[a.clientId]=a);for(this.persistClientState(),(l=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(l))&&this.handleOnlineStateEvent(u),s=0,c=this.earlyEvents;s<c.length;s++)this.handleWebStorageEvent(c[s]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Ue();return x(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ei(this.persistenceKey,e));if(n){var r=Ai.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Ei(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return g(Ii,"READ",e,t),t},e.prototype.setItem=function(e,t){g(Ii,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){g(Ii,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(g(Ii,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,n,r,i,a,l;return o.__generator(this,(function(o){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(a=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(a)]}else e.key===this.sequenceNumberKey&&(b(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(l=function(e){var t=ae.INVALID;if(null!=e)try{var n=JSON.parse(e);b("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(r){m(Ii,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==ae.INVALID&&this.sequenceNumberHandler(l));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new xi(this.currentUser,e,t,n),i=Si(this.persistenceKey,this.currentUser,e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=Si(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:xr[e]}))},e.prototype.persistQueryTargetState=function(e,t,n){var r=Ei(this.persistenceKey,e),i=new Ai(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return b(null!==n,"Cannot parse client state key '"+e+"'"),Oi.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);b(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]);return xi.fromWebStorageEntry(new ki(void 0!==n[2]?n[2]:null),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);b(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Ai.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Ni.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(g(Ii,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),a=[],l=[];return i.forEach((function(e){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(t){return r.has(e)||a.push(e),[2]}))}))})),r.forEach((function(e){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(t){return i.has(e)||l.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(a,l)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}(),Ri=function(){function e(){this.localState=new Pi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Pi,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Mi=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return Rn.withCacheSize(this.cacheSizeBytes)},e}(),Li=function(){},Vi=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=X.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new fe,r=new fe,i=!1;return this.credentials.setChangeListener((function(o){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(i=!0,t.initializePersistence(e,r,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Mi?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof k?e.code===C.FAILED_PRECONDITION||e.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new k(C.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Bn.buildStoragePrefix(this.databaseInfo),i=new hi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,a;return o.__generator(this,(function(o){switch(o.label){case 0:if(t.synchronizeTabs&&!Di.isAvailable(this.platform))throw new k(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Di(this.asyncQueue,this.platform,r,this.clientId,e):new Ri,[4,Bn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return a=o.sent(),this.persistence=a,[2,a.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=vr.createEagerPersistence(this.clientId),this.sharedClientState=new Ri,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return g("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return o.__awaiter(n,void 0,void 0,(function(){var n,i,a,l,u,s=this;return o.__generator(this,(function(c){switch(c.label){case 0:return n=new dr,this.localStore=new An(this.persistence,n,e),[4,this.localStore.start()];case 1:return c.sent(),t&&(this.lruScheduler=new Mn(t,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),a=this.platform.newSerializer(this.databaseInfo.databaseId),l=new Er(this.asyncQueue,r,this.credentials,a),u=function(e){return s.syncEngine.applyOnlineStateChange(e,Ar.SharedClientState)},this.remoteStore=new Xr(this.localStore,l,this.asyncQueue,(function(e){return s.syncEngine.applyOnlineStateChange(e,Ar.RemoteStore)}),i),this.syncEngine=new Ci(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new di(this.syncEngine),[4,this.sharedClientState.start()];case 2:return c.sent(),[4,this.remoteStore.start()];case 3:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),g("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new fe;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new pi(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Bt)return e;if(e instanceof jt)return null;throw new k(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=i.sent(),n=new yi(e,t.remoteKeys),r=n.computeDocChanges(t.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new fe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new fe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),Ui=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Fi=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];R("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(M("FieldPath","string",n,e[n]),0===e[n].length)throw new k(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ce(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(ce.keyField().canonicalString()),e}(),Bi=new RegExp("[~\\*/\\[\\]]"),ji=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},qi=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(ki.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){b(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),zi=function(){function e(e){var t=this;this.tokenListener=null,this.currentUser=ki.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.tokenListener):(this.tokenListener(null),e.get().then((function(e){t.auth=e,t.tokenListener&&t.auth.addAuthTokenListener(t.tokenListener)}),(function(){})))}return e.prototype.getToken=function(){var e=this;b(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new k(C.ABORTED,"getToken aborted due to token change.");return n?(b("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new ji(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){b(null!=this.tokenListener,"removeChangeListener() called twice"),b(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e,"Received invalid UID: "+e),new ki(e)},e}(),Hi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ki.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),Wi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Hi(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(ki.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ki(e){if(!e)return new qi;switch(e.type){case"gapi":var t=e.client;return b(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Wi(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new k(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Gi(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Qi=function(){function e(e){this._methodName=e}return e.delete=function(){return O("FieldValue.delete",arguments),Yi.instance},e.serverTimestamp=function(){return O("FieldValue.serverTimestamp",arguments),Xi.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P("FieldValue.arrayUnion",arguments,1),new Ji(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P("FieldValue.arrayRemove",arguments,1),new Zi(e)},e.increment=function(e){return M("FieldValue.increment","number",1,e),N("FieldValue.increment",arguments,1),new $i(e)},e.prototype.isEqual=function(e){return this===e},e}(),Yi=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return o.__extends(t,e),t.instance=new t,t}(Qi),Xi=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(t,e),t.instance=new t,t}(Qi),Ji=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return o.__extends(t,e),t}(Qi),Zi=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return o.__extends(t,e),t}(Qi),$i=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return o.__extends(t,e),t}(Qi),eo=T(Qi,"Use FieldValue.<field>() instead."),to=/^__.*__$/,no=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return n.push(null!==this.fieldMask?new vt(e,this.data,this.fieldMask,t):new mt(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new yt(e,this.fieldTransforms)),n},e}(),ro=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new vt(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new yt(e,this.fieldTransforms)),n},e}(),io=function(e){return e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument",e[e.ArrayArgument=4]="ArrayArgument",e}({});function oo(e){switch(e){case io.Set:case io.MergeSet:case io.Update:return!0;case io.Argument:case io.ArrayArgument:return!1;default:throw y("Unexpected case for UserDataSource: "+e)}}var ao=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new k(C.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(oo(this.dataSource)&&to.test(e))throw this.createError('Document fields cannot begin and end with "__"')},e}(),lo=function(e,t){this.databaseId=e,this.key=t},uo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new ao(io.Set,e,ce.EMPTY_PATH);co("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new no(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new ao(io.MergeSet,e,ce.EMPTY_PATH);co("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var l=new Ee(ce.comparator),u=0,s=n;u<s.length;u++){var c=s[u],h=void 0;if(c instanceof Fi)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=fo(e,c)}if(!r.contains(h))throw new k(C.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");l=l.add(h)}i=ct.fromSet(l),o=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=ct.fromArray(r.fieldMask),o=r.fieldTransforms;return new no(a,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new ao(io.Update,e,ce.EMPTY_PATH);co("Data must be an object, but it was:",r,t);var i=new Ee(ce.comparator),o=Vt.EMPTY;x(t,(function(t,a){var l=fo(e,t),u=r.childContextForFieldPath(l);if((a=n.runPreConverter(a,u))instanceof Yi)i=i.add(l);else{var s=n.parseData(a,u);null!=s&&(i=i.add(l),o=o.set(l,s))}}));var a=ct.fromSet(i);return new ro(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new ao(io.Update,e,ce.EMPTY_PATH),o=[ho(e,t)],a=[n];if(r.length%2!=0)throw new k(C.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<r.length;l+=2)o.push(ho(e,r[l])),a.push(r[l+1]);var u=new Ee(ce.comparator),s=Vt.EMPTY;for(l=0;l<o.length;++l){var c=o[l],h=i.childContextForFieldPath(c),f=this.runPreConverter(a[l],h);if(f instanceof Yi)u=u.add(c);else{var d=this.parseData(f,h);null!=d&&(u=u.add(c),s=s.set(c,d))}}var p=ct.fromSet(u);return new ro(s,p,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t,n){void 0===n&&(n=!1);var r=new ao(n?io.ArrayArgument:io.Argument,e,ce.EMPTY_PATH),i=this.parseData(t,r);return b(null!=i,"Parsed data should not be null."),b(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=po(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(so(e=this.runPreConverter(e,t)))return co("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Qi)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement&&t.dataSource!==io.ArrayArgument)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Ce(J);return A(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):x(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new Vt(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=this.parseData(o[i],t.childContextForArray(r));null==a&&(a=St.INSTANCE),n.push(a),r++}return new Ut(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!oo(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof Yi){if(t.dataSource!==io.MergeSet)throw t.dataSource===io.Update?(b(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof Xi)t.fieldTransforms.push(new ht(t.path,Zr.instance));else if(e instanceof Ji){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new $r(n);t.fieldTransforms.push(new ht(t.path,r))}else if(e instanceof Zi){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new ei(n);t.fieldTransforms.push(new ht(t.path,i))}else if(e instanceof $i){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new ti(o);t.fieldTransforms.push(new ht(t.path,a))}else y("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return St.INSTANCE;if("number"==typeof e)return Xn(e)?new At(e):new Ot(e);if("boolean"==typeof e)return Et.of(e);if("string"==typeof e)return new Nt(e);if(e instanceof Date)return new Pt(_e.fromDate(e));if(e instanceof _e)return new Pt(new _e(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Jr)return new Lt(e);if(e instanceof ne)return new Rt(e);if(e instanceof lo)return new Mt(e.databaseId,e.key);throw t.createError("Unsupported field value: "+z(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new ao(io.Argument,e,ce.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},e}();function so(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _e||e instanceof Jr||e instanceof ne||e instanceof lo||e instanceof Qi)}function co(e,t,n){if(!so(n)||!q(n)){var r=z(n);throw t.createError("an object"===r?e+" a custom object":e+" "+r)}}function ho(e,t){if(t instanceof Fi)return t._internalPath;if("string"==typeof t)return fo(e,t);throw new k(C.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function fo(e,t){try{return function(e){if(e.search(Bi)>=0)throw new k(C.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Fi.bind.apply(Fi,o.__spreadArrays([void 0],e.split("."))))}catch(t){throw new k(C.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=po(r);throw new k(C.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function po(e){return e instanceof Error?e.message:e.toString()}var go=Rn.COLLECTION_DISABLED,mo=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new k(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else V("settings","non-empty string","host",e.host),this.host=e.host,U("settings","boolean","ssl",e.ssl),this.ssl=E(e.ssl,!0);if(W("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),U("settings","object","credentials",e.credentials),this.credentials=e.credentials,U("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=E(e.timestampsInSnapshots,!0),U("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Rn.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==go&&e.cacheSizeBytes<Rn.MINIMUM_CACHE_SIZE_BYTES)throw new k(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Rn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}U("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),vo=function(){function e(t,n){var r=this;if(this._firebaseApp=null,this._queue=new ge,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var i=t;this._firebaseApp=i,this._databaseId=e.databaseIdFromApp(i),this._persistenceKey=i.name,this._credentials=new zi(n)}else{var a=t;if(!a.projectId)throw new k(C.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new oe(a.projectId,a.database),this._persistenceKey="[DEFAULT]",this._credentials=new qi}this._settings=new mo({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(N("Firestore.settings",arguments,1),M("Firestore.settings","object",1,e),S(e,"persistence"))throw new k(C.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new mo(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new k(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=Ki(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new k(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=E(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Mi(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Bn.buildStoragePrefix(this.makeDatabaseInfo()),n=new fe;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new k(C.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Bn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){return this.ensureClientConfigured(),Gi(e)?this.onSnapshotsInSyncInternal(e):(M("Firestore.onSnapshotsInSync","function",1,e),this.onSnapshotsInSyncInternal({next:e}))},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Ui({next:function(){e.next&&e.next()},error:function(e){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Li),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new ie(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){b(!!this._settings.host,"FirestoreSettings.host is not set"),b(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Vi(_.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new uo((function(t){if(t instanceof _o){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new k(C.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new lo(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!S(t,"projectId"))throw new k(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new k(C.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new oe(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new k(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return N("Firestore.collection",arguments,1),M("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Eo(ue.fromString(e),this)},e.prototype.doc=function(e){return N("Firestore.doc",arguments,1),M("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),_o.forPath(ue.fromString(e),this)},e.prototype.collectionGroup=function(e){if(N("Firestore.collectionGroup",arguments,1),M("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new k(C.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new To(new $n(ue.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return N("Firestore.runTransaction",arguments,1),M("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new yo(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new bo(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(d()){case f.DEBUG:return"debug";case f.ERROR:return"error";case f.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(N("Firestore.setLogLevel",arguments,1),M("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":p(f.DEBUG);break;case"error":p(f.ERROR);break;case"silent":p(f.SILENT);break;default:throw new k(C.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),yo=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;N("Transaction.get",arguments,1);var n=Oo("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return y("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof jt)return new Co(t._firestore,n._key,null,!1,!1,n._converter);if(r instanceof Bt)return new Co(t._firestore,n._key,r,!1,!1,n._converter);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){D("Transaction.set",arguments,2,3);var r=Oo("Transaction.set",e,this._firestore);n=Io("Transaction.set",n);var i=Po(r._converter,t,"Transaction.set"),o=i[0],a=i[1],l=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,o,n.mergeFields):this._firestore._dataConverter.parseSetData(a,o);return this._transaction.set(r._key,l),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof Fi?(P("Transaction.update",arguments,3),r=Oo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(N("Transaction.update",arguments,2),r=Oo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){N("Transaction.delete",arguments,1);var t=Oo("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),bo=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){D("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Oo("WriteBatch.set",e,this._firestore);n=Io("WriteBatch.set",n);var i=Po(r._converter,t,"WriteBatch.set"),o=i[0],a=i[1],l=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,o,n.mergeFields):this._firestore._dataConverter.parseSetData(a,o);return this._mutations=this._mutations.concat(l.toMutations(r._key,pt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof t||t instanceof Fi?(P("WriteBatch.update",arguments,3),r=Oo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(N("WriteBatch.update",arguments,2),r=Oo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,pt.exists(!0))),this},e.prototype.delete=function(e){N("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Oo("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new bt(t._key,pt.NONE)),this},e.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new k(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),_o=function(){function e(e,t,n){this._key=e,this.firestore=t,this._converter=n,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n,r){if(t.length%2!=0)throw new k(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new he(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Eo(this._key.path.popLast(),this.firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(N("DocumentReference.collection",arguments,1),M("DocumentReference.collection","non-empty string",1,e),!e)throw new k(C.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=ue.fromString(e);return new Eo(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)&&this._converter===t._converter},e.prototype.set=function(e,t){D("DocumentReference.set",arguments,1,2),t=Io("DocumentReference.set",t);var n=Po(this._converter,e,"DocumentReference.set"),r=n[0],i=n[1],o=t.merge||t.mergeFields?this.firestore._dataConverter.parseMergeData(i,r,t.mergeFields):this.firestore._dataConverter.parseSetData(i,r);return this._firestoreClient.write(o.toMutations(this._key,pt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof Fi?(P("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(N("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,pt.exists(!0)))},e.prototype.delete=function(){return N("DocumentReference.delete",arguments,0),this._firestoreClient.write([new bt(this._key,pt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];D("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Gi(e[i])||(W("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),U("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Gi(e[i])?n=e[i]:(M("DocumentReference.onSnapshot","function",i,e[i]),L("DocumentReference.onSnapshot","function",i+1,e[i+1]),L("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ui({next:function(e){if(t.next){b(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Co(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites,n._converter))}},error:r}),o=this._firestoreClient.listen($n.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return D("DocumentReference.get",arguments,0,1),Ao("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new Co(t.firestore,t._key,e,!0,e instanceof Bt&&e.hasLocalMutations,t._converter))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new k(C.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new k(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e.prototype.withConverter=function(t){return new e(this._key,this.firestore,t)},e}(),wo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Co=function(){function e(e,t,n,r,i,o){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i,this._converter=o}return e.prototype.data=function(e){if(D("DocumentSnapshot.data",arguments,0,1),e=xo("DocumentSnapshot.data",e),this._document){if(this._converter){var t=new ko(this._firestore,this._key,this._document,this._fromCache,this._hasPendingWrites);return this._converter.fromFirestore(t,e)}return this.toJSObject(this._document.data(),kt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},e.prototype.get=function(e,t){if(D("DocumentSnapshot.get",arguments,1,2),t=xo("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(ho("DocumentSnapshot.get",e));if(null!==n)return this.toJSValue(n,kt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new _o(this._key,this._firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new wo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))&&this._converter===t._converter},e.prototype.toJSObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.toJSValue(i,t)})),r},e.prototype.toJSValue=function(e,t){if(e instanceof Vt)return this.toJSObject(e,t);if(e instanceof Ut)return this.toJSArray(e,t);if(e instanceof Mt){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new _o(n,this._firestore,this._converter)}return e.value(t)},e.prototype.toJSArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.toJSValue(e,t)}))},e}(),ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return b(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Co),To=function(){function e(e,t,n){this._query=e,this.firestore=t,this._converter=n}return e.prototype.where=function(t,n,r){N("Query.where",arguments,3),H("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];B("Query.where",o,2,n);var a=ho("Query.where",t),l=tr.fromString(n);if(a.isKeyField()){if(l===tr.ARRAY_CONTAINS||l===tr.ARRAY_CONTAINS_ANY)throw new k(C.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+l.toString()+"' queries on FieldPath.documentId().");if(l===tr.IN){this.validateDisjunctiveFilterElements(r,l);for(var u=[],s=0,c=r;s<c.length;s++){var h=c[s];u.push(this.parseDocumentIdValue(h))}i=new Ut(u)}else i=this.parseDocumentIdValue(r)}else l!==tr.IN&&l!==tr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,l),i=this.firestore._dataConverter.parseQueryValue("Query.where",r,l===tr.IN);var f=nr.create(a,l,i);return this.validateNewFilter(f),new e(this._query.addFilter(f),this.firestore,this._converter)},e.prototype.orderBy=function(t,n){var r;if(D("Query.orderBy",arguments,1,2),L("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=ur.ASCENDING;else{if("desc"!==n)throw new k(C.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ur.DESCENDING}if(null!==this._query.startAt)throw new k(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new k(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ho("Query.orderBy",t),o=new cr(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore,this._converter)},e.prototype.limit=function(t){return N("Query.limit",arguments,1),M("Query.limit","number",1,t),G("Query.limit",1,t),new e(this._query.withLimitToFirst(t),this.firestore,this._converter)},e.prototype.limitToLast=function(t){return N("Query.limitToLast",arguments,1),M("Query.limitToLast","number",1,t),G("Query.limitToLast",1,t),new e(this._query.withLimitToLast(t),this.firestore,this._converter)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore,this._converter)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore,this._converter)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore,this._converter)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore,this._converter)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.withConverter=function(t){return new e(this._query,this.firestore,t)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(H(e,1,t),t instanceof Co){if(n.length>0)throw new k(C.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new k(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Mt(this.firestore._databaseId,t.key));else{var l=t.field(a.field);if(l instanceof Dt)throw new k(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=a.field.canonicalString();throw new k(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(l)}}return new sr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new k(C.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new k(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new k(C.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var l=this._query.path.child(ue.fromString(a));if(!he.isDocumentKey(l))throw new k(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var u=new he(l);i.push(new Mt(this.firestore._databaseId,u))}else{var s=this.firestore._dataConverter.parseQueryValue(e,a);i.push(s)}}return new sr(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];D("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||Gi(e[i])||(W("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),U("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Gi(e[i])?n=e[i]:(M("Query.onSnapshot","function",i,e[i]),L("Query.onSnapshot","function",i+1,e[i+1]),L("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ui({next:function(e){t.next&&t.next(new So(n.firestore,n._query,e,n._converter))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.validateHasExplicitOrderByForLimitToLast=function(e){if(e.hasLimitToLast()&&0===e.explicitOrderBy.length)throw new k(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.get=function(e){var t=this;return D("Query.get",arguments,0,1),Ao("Query.get",e),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new So(t.firestore,t._query,e,t._converter))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new k(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new k(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new k(C.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(ue.fromString(e));if(!he.isDocumentKey(t))throw new k(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Mt(this.firestore._databaseId,new he(t))}if(e instanceof _o)return new Mt(this.firestore._databaseId,e._key);throw new k(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+z(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new k(C.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new k(C.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new k(C.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new k(C.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof nr){var t=[tr.ARRAY_CONTAINS,tr.ARRAY_CONTAINS_ANY],n=[tr.IN,tr.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new k(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var l=null;if(i&&(l=this._query.findFilterOperator(n)),null===l&&r&&(l=this._query.findFilterOperator(t)),null!=l)throw new k(C.INVALID_ARGUMENT,l===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+l.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new k(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),So=function(){function e(e,t,n,r){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._converter=r,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new wo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;D("QuerySnapshot.forEach",arguments,1,2),M("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new To(this._originalQuery,this._firestore,this._converter)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(W("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),U("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new k(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n,r){if(n.oldDocs.isEmpty()){var i,o=0;return n.docChanges.map((function(t){var a=new ko(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),r);return b(t.type===Lr.Added,"Invalid event type for first snapshot"),b(!i||n.query.docComparator(i,t.doc)<0,"Got added events in wrong order"),i=t.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}}))}var a=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Lr.Metadata})).map((function(t){var i=new ko(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),r),o=-1,l=-1;return t.type!==Lr.Added&&(b((o=a.indexOf(t.doc.key))>=0,"Index for document not found"),a=a.delete(t.doc.key)),t.type!==Lr.Removed&&(l=(a=a.add(t.doc)).indexOf(t.doc.key)),{type:No(t.type),doc:i,oldIndex:o,newIndex:l}}))}(this._firestore,t,this._snapshot,this._converter),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)&&this._converter===t._converter},e.prototype.convertToDocumentImpl=function(e){return new ko(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key),this._converter)},e}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(So.prototype.docChanges,e,{get:function(){return function(){throw new k(C.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Eo=function(e){function t(t,n,r){var i=e.call(this,$n.atPath(t),n,r)||this;if(i._path=t,t.length%2!=1)throw new k(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return i}return o.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new _o(new he(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=X.newId()),M("CollectionReference.doc","non-empty string",1,e),""===e)throw new k(C.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=ue.fromString(e);return _o.forPath(this._query.path.child(t),this.firestore,this._converter)},t.prototype.add=function(e){N("CollectionReference.add",arguments,1),M("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this._path,this.firestore,e)},t}(To);function Io(e,t){if(void 0===t)return{merge:!1};if(W(e,t,["merge","mergeFields"]),U(e,"boolean","merge",t.merge),void 0!==(n=t.mergeFields)&&function(e,t,n,r,i){if(!(r instanceof Array))throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires its mergeFields option to be an array, but it was: "+z(r));for(var o=0;o<r.length;++o)if(!("string"==typeof(a=r[o])||a instanceof Fi))throw new k(C.INVALID_ARGUMENT,"Function "+e+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+z(r[o]));var a}(e,0,0,n),void 0!==t.mergeFields&&void 0!==t.merge)throw new k(C.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');var n;return t}function xo(e,t){return void 0===t?{}:(W(e,t,["serverTimestamps"]),F(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Ao(e,t){L(e,"object",1,t),t&&(W(e,t,["source"]),F(e,0,"source",t.source,["default","server","cache"]))}function Oo(e,t,n){if(t instanceof _o){if(t.firestore!==n)throw new k(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw K(e,"DocumentReference",1,t)}function No(e){switch(e){case Lr.Added:return"added";case Lr.Modified:case Lr.Metadata:return"modified";case Lr.Removed:return"removed";default:return y("Unknown change type: "+e)}}function Po(e,t,n){var r;return e?(r=e.toFirestore(t),n="toFirestore() in "+n):r=t,[r,n]}var Do=T(vo,"Use firebase.firestore() instead."),Ro=T(yo,"Use firebase.firestore().runTransaction() instead."),Mo=T(bo,"Use firebase.firestore().batch() instead."),Lo=T(_o,"Use firebase.firestore().doc() instead."),Vo=T(Co),Uo=T(ko),Fo=T(To),Bo=T(So),jo=T(Eo,"Use firebase.firestore().collection() instead."),qo={Firestore:Do,GeoPoint:Jr,Timestamp:_e,Blob:re,Transaction:Ro,WriteBatch:Mo,DocumentReference:Lo,DocumentSnapshot:Vo,Query:Fo,QueryDocumentSnapshot:Uo,QuerySnapshot:Bo,CollectionReference:jo,FieldPath:Fi,FieldValue:eo,setLogLevel:vo.setLogLevel,CACHE_SIZE_UNLIMITED:go},zo=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),Ho=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){g("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},e.prototype.onNetworkUnavailable=function(){g("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Wo=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){b(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){b(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){b(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){b(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){b(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){b(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),Ko="Connection",Go={BatchGetDocuments:"batchGet",Commit:"commit"},Qo="gl-js/ fire/"+c,Yo=function(){function e(e){this.databaseId=e.databaseId,this.baseUrl=(e.ssl?"https":"http")+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=Qo},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(a,l){var u=new s.XhrIo;u.listenOnce(s.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var t=u.getResponseJson();g(Ko,"XHR received:",JSON.stringify(t)),a(t);break;case s.ErrorCode.TIMEOUT:g(Ko,'RPC "'+e+'" timed out'),l(new k(C.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(g(Ko,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(C).indexOf(o)>=0?o:C.UNKNOWN);l(new k(i,r.message))}else l(new k(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else g(Ko,'RPC "'+e+'" failed'),l(new k(C.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{g(Ko,'RPC "'+e+'" completed.')}var o}));var c=o.__assign({},t);delete c.database;var h=JSON.stringify(c);g(Ko,"XHR sending: ",i+" "+h);var f={"Content-Type":"text/plain"};r.modifyHeadersForRequest(f,n),u.send(i,"POST",h,f,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),l.isReactNative()||l.isElectron()||l.isIE()||l.isUWP()||l.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");g(Ko,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),u=!1,c=!1,h=new Wo({sendFn:function(e){c?g(Ko,"Not sending because WebChannel is closed:",e):(u||(g(Ko,"Opening WebChannel transport."),a.open(),u=!0),g(Ko,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),f=function(e,t){a.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return f(s.WebChannel.EventType.OPEN,(function(){c||g(Ko,"WebChannel transport opened.")})),f(s.WebChannel.EventType.CLOSE,(function(){c||(c=!0,g(Ko,"WebChannel transport closed"),h.callOnClose())})),f(s.WebChannel.EventType.ERROR,(function(e){c||(c=!0,g(Ko,"WebChannel transport errored:",e),h.callOnClose(new k(C.UNAVAILABLE,"The operation could not be completed")))})),f(s.WebChannel.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];b(!!n,"Got a webchannel message without data.");var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){g(Ko,"WebChannel received error:",r);var i=r.status,o=function(e){var t=Nr[e];if(void 0!==t)return Dr(t)}(i),l=r.message;void 0===o&&(o=C.INTERNAL,l="Unknown error status: "+i+" with message "+r.message),c=!0,h.callOnClose(new k(o,l)),a.close()}else g(Ko,"WebChannel received:",n),h.callOnMessage(n)}})),setTimeout((function(){h.callOnOpen()}),0),h},e.prototype.makeUrl=function(e){var t=Go[e];return b(void 0!==t,"Unknown REST mapping for: "+e),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+t},e}();function Xo(e){(function(e){e.INTERNAL.registerComponent(new u.Component("firestore",(function(e){var t=e.getProvider("app").getImmediate();return new vo(t,e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(function(e){b(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(qo)))})(e),e.registerVersion("@firebase/firestore","1.10.1")}_.setPlatform(new(function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new Yo(e))},e.prototype.newConnectivityMonitor=function(){return Ho.isAvailable()?new Ho:new zo},e.prototype.newSerializer=function(e){return new hi(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}())),Xo(i),t.registerFirestore=Xo},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),l=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var s=this.getOrInitializeService(u);l.resolve(s)}catch(c){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=l,t.Provider=a},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.8.1","app"),e.exports=i},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return l})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return s})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return _})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return k}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function l(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function l(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,l)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,s):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(e){l("next",e)}function s(e){l("throw",e)}function c(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}n.r(t),n.d(t,"LogLevel",(function(){return o})),n.d(t,"Logger",(function(){return u})),n.d(t,"setLogLevel",(function(){return s}));var i=[],o=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a=o.INFO,l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var a=(new Date).toISOString();switch(t){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+a+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=l,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function s(e){i.forEach((function(t){t.logLevel=e}))}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("mrSG"),a=n("zVF4"),l=n("S+S0"),u=n("q/0M"),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),c=new a.ErrorFactory("app","Firebase",s),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),p=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new l.ComponentContainer(t.name),this._addComponent(new l.Component("app",(function(){return u}),"PUBLIC"));try{for(var s=o.__values(this.firebase_.INTERNAL.components.values()),c=s.next();!c.done;c=s.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var l=o.name;if("string"!=typeof l||!l)throw c.create("bad-app-name",{appName:String(l)});if(a.contains(t,l))throw c.create("duplicate-app",{appName:l});var u=new e(n,o,r);return t[l]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&s.push("and"),a&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(s.join(" "))}u(new l.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},apps:null,SDK_VERSION:"7.8.1",INTERNAL:{registerComponent:u,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!a.contains(t,e=e||"[DEFAULT]"))throw c.create("no-app",{appName:e});return t[e]}function u(l){var u,s,h=l.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===l.type?r[h]:null;if(n.set(h,l),"PUBLIC"===l.type){var f=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw c.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==l.serviceProps&&a.deepExtend(f,l.serviceProps),r[h]=f,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,l.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),g=p.next();!g.done;g=p.next())t[g.value]._addComponent(l)}catch(m){u={error:m}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===l.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(p);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t;return"VERSION"===(null===(t=e.getComponent())||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var b=g;!function(e,t){e.INTERNAL.registerComponent(new l.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion(h,"0.5.4",void 0),e.registerVersion("fire-js","")}(b),t.default=b,t.firebase=b},x7I3:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",(function(){return lr})),n.d(t,"EventType",(function(){return ur})),n.d(t,"WebChannel",(function(){return sr})),n.d(t,"XhrIo",(function(){return cr})),n.d(t,"createWebChannelTransport",(function(){return ar}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function l(e){return"string"==typeof e}function u(e){return"number"==typeof e}function s(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function c(){}function h(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function f(e){return"array"==h(e)}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var w=Date.now||function(){return+new Date};function C(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.xb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function k(){this.j=this.j,this.i=this.i}k.prototype.j=!1,k.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++m))},k.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(l(e))return l(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function E(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e){return/^[\s\xa0]*$/.test(e)}var A,O=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function N(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var D=a.navigator;if(D){var R=D.userAgent;if(R){A=R;break e}}A=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function L(e){var t,n={};for(t in e)n[t]=e[t];return n}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function F(e){return F[" "](e),e}F[" "]=c;var B,j,q=N(A,"Opera"),z=N(A,"Trident")||N(A,"MSIE"),H=N(A,"Edge"),W=H||z,K=N(A,"Gecko")&&!(N(A.toLowerCase(),"webkit")&&!N(A,"Edge"))&&!(N(A,"Trident")||N(A,"MSIE"))&&!N(A,"Edge"),G=N(A.toLowerCase(),"webkit")&&!N(A,"Edge");function Q(){var e=a.document;return e?e.documentMode:void 0}e:{var Y="",X=(j=A,K?/rv:([^\);]+)(\)|;)/.exec(j):H?/Edge\/([\d\.]+)/.exec(j):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):G?/WebKit\/(\S+)/.exec(j):q?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(X&&(Y=X?X[1]:""),z){var J=Q();if(null!=J&&J>parseFloat(Y)){B=String(J);break e}}B=Y}var Z,$={};function ee(e){return function(e,t){var n=$;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=O(String(B)).split("."),r=O(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;t=P(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||P(0==a[2].length,0==l[2].length)||P(a[2],l[2]),a=a[3],l=l[3]}while(0==t)}return 0<=t}))}var te=a.document;Z=te&&z?Q()||("CSS1Compat"==te.compatMode?parseInt(B,10):5):void 0;var ne=!z||9<=Number(Z),re=z&&!ee("9"),ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",c,t),a.removeEventListener("test",c,t)}catch(n){}return e}();function oe(e,t){this.type=e,this.a=this.target=t,this.Ia=!0}function ae(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(K){e:{try{F(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=l(e.pointerType)?e.pointerType:le[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}oe.prototype.b=function(){this.Ia=!1},C(ae,oe);var le={2:"touch",3:"pen",4:"mouse"};ae.prototype.b=function(){ae.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ue="closure_listenable_"+(1e6*Math.random()|0),se=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++se,this.X=this.Z=!1}function he(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function fe(e){this.src=e,this.a={},this.b=0}function de(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=T(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(he(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ce(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var ge="closure_lm_"+(1e6*Math.random()|0),me={};function ve(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(f(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Te(r),t&&t[ue]?t.Aa(n,r,p(i)?!!i.capture:!!i,o):ye(t,n,r,!0,i,o)}(e,t,n,r,i);if(f(t)){for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);return null}return n=Te(n),e&&e[ue]?e.za(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!ne)return null;var l=Ce(e);if(l||(e[ge]=l=new fe(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=we,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e){if(!u(e)&&e&&!e.X){var t=e.src;if(t&&t[ue])de(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ce(t))?(de(n,e),0==n.b&&(n.src=null,t[ge]=null)):he(e)}}}function _e(e){return e in me?me[e]:me[e]="on"+e}function we(e,t){return!!e.X||function(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&be(e),n.call(r,t)}(e,ne?new ae(t,this):t=new ae(t||s("window.event"),this))}function Ce(e){return(e=e[ge])instanceof fe?e:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"==h(e)?e:(e[ke]||(e[ke]=function(t){return e.handleEvent(t)}),e[ke])}function Se(){k.call(this),this.c=new fe(this),this.J=this,this.B=null}function Ee(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var l=a.listener,u=a.da||a.src;a.Z&&de(e.c,a),i=!1!==l.call(u,r)&&i}}return i&&0!=r.Ia}C(Se,k),Se.prototype[ue]=!0,(r=Se.prototype).addEventListener=function(e,t,n,r){ve(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(f(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=Te(r),t&&t[ue]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=pe(a=t.a[n],r,i,o))&&(he(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=Ce(t))&&(n=t.a[n.toString()],t=-1,n&&(t=pe(n,r,i,o)),(r=-1<t?n[t]:null)&&be(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(l(e))e=new oe(e,n);else if(e instanceof oe)e.target=e.target||n;else{var i=e;U(e=new oe(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Ee(a,r,!0,e)&&i}if(i=Ee(a=e.a=n,r,!0,e)&&i,i=Ee(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ee(a=e.a=t[o],r,!1,e)&&i;return i},r.G=function(){if(Se.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)he(n[r]);delete t.a[e],t.b--}}this.B=null},r.za=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ie=a.JSON.stringify;function xe(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ae(){this.b=this.a=null}xe.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Oe,Ne=new xe((function(){return new De}),(function(e){e.reset()}));function Pe(){var e=Ve,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function De(){this.next=this.b=this.a=null}function Re(e){a.setTimeout((function(){throw e}),0)}function Me(e,t){Oe||function(){var e=a.Promise.resolve(void 0);Oe=function(){e.then(Ue)}}(),Le||(Oe(),Le=!0),Ve.add(e,t)}Ae.prototype.add=function(e,t){var n=Ne.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},De.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},De.prototype.reset=function(){this.next=this.b=this.a=null};var Le=!1,Ve=new Ae;function Ue(){for(var e;e=Pe();){try{e.a.call(e.b)}catch(n){Re(n)}var t=Ne;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Le=!1}function Fe(e,t){Se.call(this),this.b=e||1,this.a=t||a,this.f=b(this.fb,this),this.g=w()}function Be(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function je(e,t,n){if("function"==h(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function qe(e,t,n){k.call(this),this.f=null!=n?b(e,n):e,this.c=t,this.b=b(this.$a,this),this.a=[]}function ze(e){e.U=je(e.b,e.c),e.f.apply(null,e.a)}function He(e){k.call(this),this.b=e,this.a={}}C(Fe,Se),(r=Fe.prototype).ba=!1,r.L=null,r.fb=function(){if(this.ba){var e=w()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Be(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Fe.N.G.call(this),Be(this),delete this.a},C(qe,k),(r=qe.prototype).ea=!1,r.U=null,r.Ta=function(e){this.a=arguments,this.U?this.ea=!0:ze(this)},r.G=function(){qe.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,ze(this))},C(He,k);var We=[];function Ke(e,t,n,r){f(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var o=ve(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ge(e){M(e.a,(function(e,t){this.a.hasOwnProperty(t)&&be(e)}),e),e.a={}}function Qe(){}He.prototype.G=function(){He.N.G.call(this),Ge(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new Se;function Xe(e){oe.call(this,"serverreachability",e)}function Je(e){Ye.dispatchEvent(new Xe(Ye,e))}function Ze(e){oe.call(this,"statevent",e)}function $e(e){Ye.dispatchEvent(new Ze(Ye,e))}function et(e){oe.call(this,"timingevent",e)}function tt(e,t){if("function"!=h(e))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}C(Xe,oe),C(Ze,oe),C(et,oe);var nt={NO_ERROR:0,gb:1,nb:2,mb:3,jb:4,lb:5,ob:6,La:7,TIMEOUT:8,rb:9},rt={ib:"complete",vb:"success",Ma:"error",La:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",kb:"downloadprogress",wb:"uploadprogress"};function it(){}function ot(){}it.prototype.a=null;var at,lt={OPEN:"a",hb:"b",Ma:"c",qb:"d"};function ut(){oe.call(this,"d")}function st(){oe.call(this,"c")}function ct(){}function ht(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new He(this),this.O=ft,this.P=new Fe(e=W?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(ut,oe),C(st,oe),C(ct,it),at=new ct;var ft=45e3,dt={},pt={};function gt(e,t,n){e.F=1,e.f=Bt(Dt(t)),e.l=n,e.H=!0,vt(e,null)}function mt(e,t,n,r){e.F=1,e.f=Bt(Dt(t)),e.l=null,e.H=n,vt(e,r)}function vt(e,t){e.v=w(),_t(e),e.D=Dt(e.f),Ft(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new qe(b(e.Ja,e,e.a),e.J)),Ke(e.I,e.a,"readystatechange",e.cb),t=e.h?L(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Je(1)}function yt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=bt(e,n);if(i==pt){4==t&&(e.c=4,$e(14),r=!1);break}if(i==dt){e.c=4,$e(15),r=!1;break}St(e,i)}4==t&&0==n.length&&(e.c=1,$e(16),r=!1),e.b=e.b&&r,r||(Tt(e),kt(e))}function bt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?pt:(n=Number(t.substring(n,r)),isNaN(n)?dt:(r+=1)+n>t.length?pt:(t=t.substr(r,n),e.A=r+n,t))}function _t(e){e.R=w()+e.O,wt(e,e.O)}function wt(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=tt(b(e.ab,e),t)}function Ct(e){e.i&&(a.clearTimeout(e.i),e.i=null)}function kt(e){e.g.Ca()||e.m||e.g.na(e)}function Tt(e){Ct(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,Be(e.P),Ge(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function St(e,t){try{e.g.Fa(e,t),Je(4)}catch(n){}}function Et(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||l(e))S(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(d(e)||l(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(l(e))return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function It(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof It)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xt(e,t){Ot(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&At(e))}function At(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ot(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ot(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ht.prototype).setTimeout=function(e){this.O=e},r.cb=function(e){e=e.target;var t=this.B;t&&3==Dn(e)?t.Ta():this.Ja(e)},r.Ja=function(e){try{if(e==this.a)e:{var t=Dn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!W&&!this.a.aa())){this.m||4!=t||7==n||Je(8==n||0>=r?3:2),Ct(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=Rn(this.a,"X-HTTP-Initial-Response");if(a&&!x(a)){var l=a;break t}}l=null}if(!l){this.b=!1,this.c=3,$e(12),Tt(this),kt(this);break e}this.s=!0,St(this,l)}this.H?(yt(this,t,o),W&&this.b&&3==t&&(Ke(this.I,this.P,"tick",this.bb),this.P.start())):St(this,o),4==t&&Tt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,_t(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,$e(12)):(this.c=0,$e(13)),Tt(this),kt(this)}}}catch(u){}},r.bb=function(){if(this.a){var e=Dn(this.a),t=this.a.aa();this.A<t.length&&(Ct(this),yt(this,e,t),this.b&&4!=e&&_t(this))}},r.cancel=function(){this.m=!0,Tt(this)},r.ab=function(){this.i=null;var e=w();0<=e-this.R?(2!=this.F&&(Je(3),$e(17)),Tt(this),this.c=2,kt(this)):wt(this,this.R-e)},(r=It.prototype).C=function(){At(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return At(this),this.a.concat()},r.get=function(e,t){return Ot(this.b,e)?this.b[e]:t},r.set=function(e,t){Ot(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Nt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Pt?(this.h=void 0!==t?t:e.h,Rt(this,e.f),this.j=e.j,Mt(this,e.b),Lt(this,e.i),this.a=e.a,Vt(this,en(e.c)),this.g=e.g):e&&(n=String(e).match(Nt))?(this.h=!!t,Rt(this,n[1]||"",!0),this.j=jt(n[2]||""),Mt(this,n[3]||"",!0),Lt(this,n[4]),this.a=jt(n[5]||"",!0),Vt(this,n[6]||"",!0),this.g=jt(n[7]||"")):(this.h=!!t,this.c=new Yt(null,this.h))}function Dt(e){return new Pt(e)}function Rt(e,t,n){e.f=n?jt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Mt(e,t,n){e.b=n?jt(t,!0):t}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Vt(e,t,n){t instanceof Yt?(e.c=t,function(e,t){t&&!e.f&&(Xt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jt(this,t),$t(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=qt(t,Gt)),e.c=new Yt(t,e.h))}function Ut(e,t,n){e.c.set(t,n)}function Ft(e,t,n){f(n)||(n=[String(n)]),$t(e.c,t,n)}function Bt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),e}function jt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qt(e,t,n){return l(e)?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(qt(t,Ht,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(qt(t,Ht,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(qt(n,"/"==n.charAt(0)?Kt:Wt,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",qt(n,Qt)),e.join("")},Pt.prototype.resolve=function(e){var t=Dt(this),n=!!e.f;n?Rt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Mt(t,e.b):n=null!=e.i;var r=e.a;if(n)Lt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(N(i,"./")||N(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var l=i[a++];"."==l?r&&a==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Vt(t,en(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Ht=/[#\/\?@]/g,Wt=/[#\?:]/g,Kt=/[#\?]/g,Gt=/[#\?@]/g,Qt=/#/g;function Yt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xt(e){e.a||(e.a=new It,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jt(e,t){Xt(e),t=tn(e,t),Ot(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,xt(e.a,t))}function Zt(e,t){return Xt(e),t=tn(e,t),Ot(e.a.b,t)}function $t(e,t,n){Jt(e,t),0<n.length&&(e.c=null,e.a.set(tn(e,t),I(n)),e.b+=n.length)}function en(e){var t=new Yt;return t.c=e.c,e.a&&(t.a=new It(e.a),t.b=e.b),t}function tn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(e){var t=e.a.F.a;if(null!=t)$e(4),t?($e(10),Kn(e.a,e,!1)):($e(11),Kn(e.a,e,!0));else{e.b=new ht(e,void 0,void 0),e.b.h=e.h,t=Jn(t=e.a,t.Y()?e.f:null,e.i),$e(4),Ft(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Ut(t,n,r),mt(e.b,t,!1,e.f)}}function on(){this.a=this.b=null}function an(){this.a=new It}function ln(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[g]||(e[g]=++m)):t.charAt(0)+e}function un(e,t){this.b=e,this.a=t}function sn(e){this.g=e||cn,e=a.PerformanceNavigationTiming?0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(a.ka&&a.ka.Da&&a.ka.Da()&&a.ka.Da().yb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(r=Yt.prototype).add=function(e,t){Xt(this),this.c=null,e=tn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){Xt(this),this.a.forEach((function(n,r){S(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.K=function(){Xt(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.C=function(e){Xt(this);var t=[];if(l(e))Zt(this,e)&&(t=E(t,this.a.get(tn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=E(t,e[n])}return t},r.set=function(e,t){return Xt(this),this.c=null,Zt(this,e=tn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},C((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Rn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Rn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(i){return(t=this.a).m=this.c,void Yn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Yn(t,2)}else 1==this.M&&(this.g?$e(6):"11111"==t?($e(5),this.g=!0,(!z||10<=Number(Z))&&(this.c=200,this.b.cancel(),$e(11),Kn(this.a,this,!0))):($e(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?($e(11),Kn(this.a,this,!0)):($e(10),Kn(this.a,this,!1)));else{0==this.M?$e(8):1==this.M&&$e(9);var e=this.a;e.m=this.c,Yn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},an.prototype.add=function(e){this.a.set(ln(e),e)},an.prototype.C=function(){return this.a.C()};var cn=10;function hn(e,t){!e.a&&(N(t,"spdy")||N(t,"quic")||N(t,"h2"))&&(e.f=e.g,e.a=new an,e.b&&(gn(e,e.b),e.b=null))}function fn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function dn(e){return e.b?1:e.a?e.a.a.c:0}function pn(e,t){return e.b?e=e.b==t:e.a?(t=ln(t),e=Ot(e.a.a.b,t)):e=!1,e}function gn(e,t){e.a?e.a.add(t):e.b=t}function mn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=ln(t),n=Ot(e.a.a.b,n)),n&&xt(e.a.a,ln(t)))}function vn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return S(e.a.C(),(function(e){t=t.concat(e.j)})),t}return I(e.c)}function yn(){}function bn(){this.a=new yn}function _n(e,t,n){var r=n||"";try{Et(e,(function(e,n){var i=e;p(e)&&(i=Ie(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}sn.prototype.cancel=function(){this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},yn.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},yn.prototype.parse=function(e){return a.JSON.parse(e,void 0)};var Cn=a.JSON.parse;function kn(e){Se.call(this),this.headers=new It,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Tn,this.D=this.F=!1}C(kn,Se);var Tn="",Sn=/^https?$/i,En=["POST","PUT"];function In(e){return"content-type"==e.toLowerCase()}function xn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,An(e),Nn(e)}function An(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function On(e){if(e.b&&void 0!==o&&(!e.s[1]||4!=Dn(e)||2!=e.T()))if(e.l&&4==Dn(e))je(e.Ea,0,e);else if(e.dispatchEvent("readystatechange"),4==Dn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var l=String(e.A).match(Nt)[1]||null;if(!l&&a.self&&a.self.location){var u=a.self.location.protocol;l=u.substr(0,u.length-1)}i=!Sn.test(l?l.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var s=2<Dn(e)?e.a.statusText:""}catch(c){s=""}e.f=s+" ["+e.T()+"]",An(e)}}finally{Nn(e)}}}function Nn(e,t){if(e.a){Pn(e);var n=e.a,r=e.s[0]?c:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(a.clearTimeout(e.m),e.m=null)}function Dn(e){return e.a?e.a.readyState:0}function Rn(e,t){return e.a?e.a.getResponseHeader(t):null}function Mn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return M(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),l(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Ut(e,t,n),e}function Ln(e){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!s("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=s("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Ra=s("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Pa=s("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=s("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.Ka=e&&e.zb||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new sn(e&&e.concurrentRequestLimit),this.ja=new bn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Vn(e){if(Un(e),3==e.u){var t=e.P++,n=Dt(e.B);Ut(n,"SID",e.H),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),qn(e,n),(t=new ht(e,t,void 0)).F=2,t.f=Bt(Dt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.f.toString(),"")),!n&&a.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=w(),_t(t)}Xn(e)}function Un(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(a.clearTimeout(e.l),e.l=null),Gn(e),e.b.cancel(),e.h&&(u(e.h)&&a.clearTimeout(e.h),e.h=null)}function Fn(e,t){e.f.push(new un(e.Qa++,t)),3==e.u&&Bn(e)}function Bn(e){fn(e.b)||e.h||(e.h=!0,Me(e.Ha,e),e.A=0)}function jn(e,t){var n;n=t?t.W:e.P++;var r=Dt(e.B);Ut(r,"SID",e.H),Ut(r,"RID",n),Ut(r,"AID",e.O),qn(e,r),e.g&&e.i&&Mn(r,e.g,e.i),n=new ht(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),gn(e.b,n),gt(n,r,t)}function qn(e,t){e.c&&Et({},(function(e,n){Ut(t,n,e)}))}function zn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?b(e.c.Sa,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var l=!0,u=0;u<n;u++){var s=i[u].b,c=i[u].a;if(0>(s-=o))o=Math.max(0,i[u].b-100),l=!1;else try{_n(c,a,"req"+s+"_")}catch(h){r&&r(c)}}if(l){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Hn(e){e.a||e.l||(e.S=1,Me(e.Ga,e),e.v=0)}function Wn(e){return!(e.a||e.l||3<=e.v||(e.S++,e.l=tt(b(e.Ga,e),Qn(e,e.v)),e.v++,0))}function Kn(e,t,n){var r=t.l;r&&hn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Jn(e,null,e.ha),Bn(e)}function Gn(e){null!=e.s&&(a.clearTimeout(e.s),e.s=null)}function Qn(e,t){var n=e.Na+Math.floor(Math.random()*e.Ra);return e.ma()||(n*=2),n*t}function Yn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=b(e.eb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Rt(n,"https"),Bt(n)),function(e,t){var n=new Qe;if(a.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,t),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else $e(2);e.u=0,e.c&&e.c.ta(t),Xn(e),Un(e)}function Xn(e){e.u=0,e.m=-1,e.c&&(0==vn(e.b).length&&0==e.f.length||(e.b.c.length=0,I(e.f),e.f.length=0),e.c.sa())}function Jn(e,t,n){var r=function(e){return e instanceof Pt?Dt(e):new Pt(e,void 0)}(n);if(""!=r.b)t&&Mt(r,t+"."+r.b),Lt(r,r.i);else{var i=a.location;r=function(e,t,n,r){var i=new Pt(null,void 0);return e&&Rt(i,e),t&&Mt(i,t),n&&Lt(i,n),r&&(i.a=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&M(e.V,(function(e,t){Ut(r,t,e)})),n=e.I,(t=e.j)&&n&&Ut(r,t,n),Ut(r,"VER",e.wa),qn(e,r),r}function Zn(){}function $n(){if(z&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function er(e,t){Se.call(this),this.a=new Ln(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!x(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new rr(this)}function tr(e){ut.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function nr(){st.call(this),this.status=1}function rr(e){this.a=e}(r=kn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:at),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void xn(this,o)}e=n||"";var i=new It(this.headers);r&&Et(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=In,n=e.length,r=l(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:l(e)?e.charAt(t):e[t]}(i.K()),n=a.FormData&&e instanceof a.FormData,!(0<=T(En,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(e){return z&&ee(9)&&u(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=je(this.Ba,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){xn(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),kn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?On(this):this.Za())},r.Za=function(){On(this)},r.T=function(){try{return 2<Dn(this)?this.a.status:-1}catch(j){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},r.Ua=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cn(t)}},r.ya=function(){return this.h},r.Xa=function(){return l(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ht(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?U(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&l(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=zn(this,n,t),Ut(i=Dt(this.B),"RID",e),Ut(i,"CVER",22),this.o&&this.j&&Ut(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&Mn(i,this.g,r),gn(this.b,n),this.W?(Ut(i,"$req",t),Ut(i,"SID","null"),n.S=!0,gt(n,i,null)):gt(n,i,t),this.u=2}}else 3==this.u&&(e?jn(this,e):0==this.f.length||fn(this.b)||jn(this))},r.Ga=function(){this.l=null,this.a=new ht(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Dt(this.pa);Ut(e,"RID","rpc"),Ut(e,"SID",this.H),Ut(e,"CI",this.ia?"0":"1"),Ut(e,"AID",this.O),qn(this,e),Ut(e,"TYPE","xmlhttp"),this.g&&this.i&&Mn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),mt(this.a,e,!0,this.ga)},r.Fa=function(e,t){if(0!=this.u&&(this.a==e||pn(this.b,e)))if(this.m=e.o,!e.s&&pn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Gn(this),this.a.cancel(),this.a=null}Wn(this),$e(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=tt(b(this.Ya,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((e.s||this.a==e)&&Gn(this),!x(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ut(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ct(r),_t(r)),this.a=r):Hn(this),0<this.f.length&&Bn(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Vn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Wn(this),$e(19))},r.na=function(e){var t=null;if(this.a==e){Gn(this),this.a=null;var n=2}else{if(!pn(this.b,e))return;t=e.j,mn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=w()-e.v,Ye.dispatchEvent(new et(Ye,e.l?e.l.length:0,t,this.A)),Bn(this)):Hn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(dn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.f=t.j.concat(e.f),0):1==e.u||2==e.u||e.A>=(e.Oa?0:e.Pa)||(e.h=tt(b(e.Ha,e,t),Qn(e,e.A)),e.A++,0)))}(this,e)||2==n&&Wn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.eb=function(e){$e(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kn(this.Ka)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},$n.prototype.a=function(e,t){return new er(e,t)},C(er,Se),(r=er.prototype).addEventListener=function(e,t,n,r){er.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){er.N.removeEventListener.call(this,e,t,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;$e(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new nn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Mn(t,e.g,e.i)),(e=e.w).i=n,t=Jn(e.a,null,e.i),$e(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,rn(e)):(Ft(t,"MODE","init"),!e.a.o&&e.a.j&&Ft(t,"X-HTTP-Session-Id",e.a.j),e.b=new ht(e,void 0,void 0),e.b.h=e.h,mt(e.b,t,!1,null),e.M=0)},r.close=function(){Vn(this.a)},r.Wa=function(e){if(l(e)){var t={};t.__data__=e,Fn(this.a,t)}else this.h?((t={}).__data__=Ie(e),Fn(this.a,t)):Fn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Vn(this.a),delete this.a,er.N.G.call(this)},C(tr,ut),C(nr,st),C(rr,Zn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(e){this.a.dispatchEvent(new tr(e))},rr.prototype.ta=function(e){this.a.dispatchEvent(new nr(e))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),$n);$n.prototype.createWebChannel=$n.prototype.a,er.prototype.send=er.prototype.Wa,er.prototype.open=er.prototype.Va,er.prototype.close=er.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",ot.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",Se.prototype.listen=Se.prototype.za,kn.prototype.listenOnce=kn.prototype.Aa,kn.prototype.getLastError=kn.prototype.Xa,kn.prototype.getLastErrorCode=kn.prototype.ya,kn.prototype.getStatus=kn.prototype.T,kn.prototype.getResponseJson=kn.prototype.Ua,kn.prototype.getResponseText=kn.prototype.aa,kn.prototype.send=kn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:nt,EventType:rt,WebChannel:ot,XhrIo:kn},ar=or.createWebChannelTransport,lr=or.ErrorCode,ur=or.EventType,sr=or.WebChannel,cr=or.XhrIo;t.default=or},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}))}var l={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function s(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);var h,f=c,d=((h=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,o=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var l=-1,c=i?i.length:0;n;)n.remove(this),n=++l<c&&i[l]||null;if(r(o))try{o.call(this)}catch(d){t=!0,e=d instanceof f?p(d.errors):[d]}if(u(a))for(l=-1,c=a.length;++l<c;){var h=a[l];if(s(h))try{h.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof f?e=e.concat(p(d.errors)):e.push(d)}}if(t)throw new f(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new h),h);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof f?t.errors:t)}),[])}var g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(e){function t(e,n,r){var i;switch(_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=l;break;case 1:if(!e){i.destination=l;break}if("object"==typeof e){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(_assertThisInitialized(i))):(i.syncErrorThrowable=!0,i.destination=new v(_assertThisInitialized(i),e));break}default:i.syncErrorThrowable=!0,i.destination=new v(_assertThisInitialized(i),e,n,r)}return i}return _inherits(t,e),_createClass(t,[{key:g,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i}}]),t}(d),v=function(e){function t(e,n,i,o){var a,u;_classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentSubscriber=e;var s=_assertThisInitialized(a);return r(n)?u=n:n&&(u=n.next,i=n.error,o=n.complete,n!==l&&(r((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=s,a._next=u,a._error=i,a._complete=o,a}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),t}(m),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(t)}function w(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:b}var C,k=((C=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof m)return e;if(e[g])return e[g]()}return e||t||n?new m(e,t,n):new m(l)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof m?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=T(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:w(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=T(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new C(e)},C);function T(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);var E,I=S,x=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).subject=e,r.subscriber=n,r.closed=!1,r}return _inherits(t,e),_createClass(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),t}(d),A=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).destination=e,n}return _inherits(t,e),t}(m),O=((E=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _inherits(t,e),_createClass(t,[{key:g,value:function(){return new A(this)}},{key:"lift",value:function(e){var t=new N(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new I;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new I;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new I;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new I;return _get(_getPrototypeOf(t.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new I;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new x(this,e))}},{key:"asObservable",value:function(){var e=new k;return e.source=this,e}}]),t}(k)).create=function(e,t){return new N(e,t)},E),N=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).destination=e,r.source=n,r}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),t}(O);function P(e){return e&&"function"==typeof e.schedule}var D=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(m),R=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},M=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,a),t}};var L="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",V=function(e){return function(t){for(var n=e[L]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},U=function(e){return function(t){var n=e[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},F=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function B(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var j=function(e){if(e instanceof k)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[y])return U(e);if(F(e))return R(e);if(B(e))return M(e);if(e&&"function"==typeof e[L])return V(e);var t=s(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function q(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new D(e,n,r);if(!i.closed)return j(t)(i)}var z=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(m);function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(e,t))}}var W=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new K(e,this.project,this.thisArg))}}]),e}(),K=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,i.count=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(m);function G(e,t){return new k(t?function(n){var r=new d,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:R(e))}function Q(e,t){if(!t)return e instanceof k?e:new k(j(e));if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new k(t?function(n){var r=new d;return r.add(t.schedule((function(){var i=e[y]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}:U(e))}(e,t);if(B(e))return function(e,t){return new k(t?function(n){var r=new d;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}:M(e))}(e,t);if(F(e))return G(e,t);if(function(e){return e&&"function"==typeof e[L]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new k(t?function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[L](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}:V(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(Y((function(n,r){return Q(e(n,r)).pipe(H((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new X(e,n))})}var X=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new J(e,this.project,this.concurrent))}}]),e}(),J=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new D(this,void 0,void 0);this.destination.add(r),q(this,e,t,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(z);function Z(e){return e}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Y(Z,e)}function ee(){return function(e){return e.lift(new te(e))}}var te=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ne(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ne=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),t}(m),re=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new oe(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return ee()(this)}}]),t}(k).prototype,ie={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}},oe=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),t}(A);function ae(){return new O}function le(e,t,n){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var ue=le("Inject",(function(e){return{token:e}})),se=le("Optional"),ce=le("Self"),he=le("SkipSelf"),fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function de(e){for(var t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ge(e){var t=e[me];return t&&t.token===e?t:null}var me=de({ngInjectableDef:de});function ve(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var ye=de({__forward_ref__:de});function be(e){return e.__forward_ref__=be,e.toString=function(){return ve(this())},e}function _e(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===be?t():e}var we="undefined"!=typeof globalThis&&globalThis,Ce="undefined"!=typeof window&&window,ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Te="undefined"!=typeof global&&global,Se=we||Te||Ce||ke,Ee=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Ie=new Ee("INJECTOR",-1),xe=new Object,Ae=/\n/gm,Oe=de({provide:String,useValue:de}),Ne=void 0;function Pe(e){var t=Ne;return Ne=e,t}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.Default;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.Default;if(void 0===Ne)throw new Error("inject() must be called from an injection context");return null===Ne?function(e,t,n){var r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&fe.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(ve(e),"]"))}(e,0,t):Ne.get(e,t&fe.Optional?null:void 0,t)}(e,t)}var Re=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe;if(t===xe){var n=new Error("NullInjectorError: No provider for ".concat(ve(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function Me(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=ve(t);if(t instanceof Array)i=t.map(ve).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var l=t[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):ve(l)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Ae,"\n  "))}var Le=function e(){_classCallCheck(this,e)},Ve=function e(){_classCallCheck(this,e)};function Ue(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Be=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),je=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Se);function qe(e){return e.ngDebugContext}function ze(e){return e.ngOriginalError}function He(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var We=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||He}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?qe(e)?qe(e):this._findContext(ze(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=ze(e);t&&ze(t);)t=ze(t);return t}}]),e}(),Ke=!0,Ge=!1;function Qe(){return Ge=!0,Ke}var Ye=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Xe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Je=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ze(e){return(e=String(e)).match(Xe)||e.match(Je)?e:(Qe()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function $e(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e.split(",")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){t[o.value]=!0}}catch(l){r=!0,i=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}function et(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var l in a)a.hasOwnProperty(l)&&(e[l]=!0)}return e}var tt,nt=$e("area,br,col,hr,img,wbr"),rt=$e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),it=$e("rp,rt"),ot=et(it,rt),at=et(nt,et(rt,$e("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),et(it,$e("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ot),lt=$e("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ut=$e("srcset"),st=et(lt,ut,$e("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$e("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ct=$e("script,style,template"),ht=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!at.hasOwnProperty(t))return this.sanitizedSomething=!0,!ct.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,l=a.toLowerCase();if(st.hasOwnProperty(l)){var u=o.value;lt[l]&&(u=Ze(u)),ut[l]&&(n=u,u=(n=String(n)).split(",").map((function(e){return Ze(e.trim())})).join(", ")),this.buf.push(" ",a,'="',pt(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();at.hasOwnProperty(t)&&!nt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(pt(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),ft=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dt=/([^\#-~ |!])/g;function pt(e){return e.replace(/&/g,"&amp;").replace(ft,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(dt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function gt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var mt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),vt=function e(){_classCallCheck(this,e)},yt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),bt=/^url\(([^)]+)\)$/,_t=/([A-Z])/g;function wt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Ct=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return kt()},e}(),kt=function(){},Tt=new Ee("The presence of this token marks an injector as being the root injector."),St=function(e,t,n){return new Nt(e,t,n)},Et=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?St(e,t,""):St(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=xe,e.NULL=new Re,e.ngInjectableDef=pe({token:e,providedIn:"any",factory:function(){return De(Ie)}}),e.__NG_ELEMENT_ID__=-1,e}(),It=function(e){return e},xt=[],At=It,Ot=function(){return Array.prototype.slice.call(arguments)},Nt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Et,{token:Et,fn:It,deps:xt,value:this,useNew:!1}),i.set(Ie,{token:Ie,fn:It,deps:xt,value:this,useNew:!1}),function e(t,n){if(n)if((n=_e(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Dt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Dt("Unexpected provider",n);var i=_e(n.provide),o=function(e){var t=function(e){var t=xt,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6,o=_e(n[r]);if(o instanceof Array)for(var a=0,l=o;a<l.length;a++){var u=l[a];u instanceof se||u==se?i|=1:u instanceof he||u==he?i&=-3:u instanceof ce||u==ce?i&=-5:o=u instanceof ue?u.token:_e(u)}t.push({token:o,options:i})}}else if(e.useExisting)t=[{token:_e(e.useExisting),options:6}];else if(!(n||Oe in e))throw Dt("'deps' required",e);return t}(e),n=It,r=xt,i=!1,o=_e(e.provide);if(Oe in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=_e(e.useClass);else{if("function"!=typeof o)throw Dt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=t.get(i);if(a){if(a.fn!==Ot)throw Pt(i)}else t.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Ot,value:xt});i=n,a.deps.push({token:i,options:6})}var l=t.get(i);if(l&&l.fn==Ot)throw Pt(i);t.set(i,o)}}(i,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe.Default,r=this._records.get(e);try{return function e(t,n,r,i,o,a){try{return function(t,n,r,i,o,a){var l;if(!n||a&fe.SkipSelf)a&fe.Self||(l=i.get(t,o,fe.Default));else{if((l=n.value)==At)throw Error("\u0275Circular dependency");if(l===xt){n.value=At;var u=n.useNew,s=n.fn,c=n.deps,h=xt;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,g=2&p?r.get(d.token):void 0;h.push(e(d.token,g,r,g||4&p?i:Et.NULL,1&p?null:Et.THROW_IF_NOT_FOUND,fe.Default))}}n.value=l=u?_construct(s,_toConsumableArray(h)):s.apply(void 0,h)}}return l}(t,n,r,i,o,a)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(t),n&&n.value==At&&(n.value=xt),l}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=Me("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(ve(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function Pt(e){return Dt("Cannot mix multi providers and regular providers",e)}function Dt(e,t){return new Error(Me(e,t,"StaticInjectorError"))}var Rt=new Ee("AnalyzeForEntryComponents"),Mt=null;function Lt(){if(!Mt){var e=Se.Symbol;if(e&&e.iterator)Mt=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Mt=r)}}return Mt}function Vt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ut(e,t){var n=Bt(e),r=Bt(t);return n&&r?function(e,t,n){for(var r=e[Lt()](),i=t[Lt()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,Ut):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||Vt(e,t)}var Ft=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Bt(e){return!!jt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Lt()in e)}function jt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function qt(e){return!!e&&"function"==typeof e.then}function zt(e){return!!e&&"function"==typeof e.subscribe}var Ht=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),Wt=function e(){_classCallCheck(this,e)};function Kt(e){var t=Error("No component factory found for ".concat(ve(e),". Did you add it to @NgModule.entryComponents?"));return t[Gt]=e,t}var Gt="ngComponent",Qt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw Kt(e)}}]),e}(),Yt=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Qt,e}(),Xt=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Kt(e);return new Jt(t,this._ngModule)}}]),e}(),Jt=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),t}(Wt);function Zt(){}var $t=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return en(e)},e}(),en=Zt,tn=function e(){_classCallCheck(this,e)},nn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),rn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return on()},e}(),on=Zt,an=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},ln=new an("8.2.14"),un=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Bt(e)}},{key:"create",value:function(e){return new cn(e)}}]),e}(),sn=function(e,t){return t},cn=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sn}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<pn(n,r,i)?t:n,a=pn(o,r,i),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,s=l-r;if(u!=s){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;s<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=s-u}}a!==l&&e(o,a,l)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Bt(e))throw new Error("Error trying to diff '".concat(ve(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var l=0;l<this.length;l++)r=e[l],i=this._trackByFn(l,r),null!==o&&Vt(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,l)),Vt(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,l),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Lt()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Vt(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Vt(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Vt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Vt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new hn(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new dn),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),hn=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},fn=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Vt(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),dn=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new fn,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function pn(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var gn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||jt(e)}},{key:"create",value:function(){return new mn}}]),e}(),mn=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||jt(e)))throw new Error("Error trying to diff '".concat(ve(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new vn(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Vt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),vn=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},yn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new he,new se]]}}}]),e}();return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:function(){return new e([new un])}}),e}(),bn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new he,new se]]}}}]),e}();return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:function(){return new e([new gn])}}),e}(),_n=[new gn],wn=new yn([new un]),Cn=new bn(_n),kn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Tn(e,$t)},e}(),Tn=Zt,Sn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return En(e,$t)},e}(),En=Zt;function In(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return xn(n,t),n}(i,e)}function xn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function An(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(e))}function On(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Nn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Pn(e,t){return e.nodes[t]}function Dn(e,t){return e.nodes[t]}function Rn(e,t){return e.nodes[t]}function Mn(e,t){return e.nodes[t]}function Ln(e,t){return e.nodes[t]}var Vn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Un=function(){},Fn=new Map;function Bn(e){var t=Fn.get(e);return t||(t=ve(e)+"_"+Fn.size,Fn.set(e,t)),t}function jn(e,t,n,r){if(Ft.isWrapped(r)){r=Ft.unwrap(r);var i=e.def.nodes[t].bindingIndex+n,o=Ft.unwrap(e.oldValues[i]);e.oldValues[i]=new Ft(o)}return r}function qn(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var zn=0;function Hn(e,t,n,r){return!(!(2&e.state)&&Vt(e.oldValues[t.bindingIndex+n],r))}function Wn(e,t,n,r){return!!Hn(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Kn(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Ut(i,r)){var o=t.bindings[n].name;throw In(Vn.createDebugContext(e,t.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&e.state))}}function Gn(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Qn(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Yn(e,t,n,r){try{return Gn(33554432&e.def.nodes[t].flags?Dn(e,t).componentView:e),Vn.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Xn(e){return e.parent?Dn(e.parent,e.parentNodeDef.nodeIndex):null}function Jn(e){return e.parent?e.parentNodeDef.parent:null}function Zn(e,t){switch(201347067&t.flags){case 1:return Dn(e,t.nodeIndex).renderElement;case 2:return Pn(e,t.nodeIndex).renderText}}function $n(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function er(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function tr(e){return 1<<e%32}function nr(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),o=i[0],a=i[1];"number"==typeof o?(t[o]=a,n|=tr(o)):r[o]=a})),{matchedQueries:t,references:r,matchedQueryIds:n}}function rr(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,"__source",{value:t,configurable:!0}),{flags:i,token:r,tokenKey:Bn(r)}}))}function ir(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Be.Native?Dn(e,n.renderParent.nodeIndex).renderElement:void 0:t}var or=new WeakMap;function ar(e){var t=or.get(e);return t||((t=e((function(){return Un}))).factory=e,or.set(e,t)),t}function lr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Zn(e,e.def.lastRenderRootNode))),ur(e,t,0,e.def.nodes.length-1,n,r,i)}function ur(e,t,n,r,i,o,a){for(var l=n;l<=r;l++){var u=e.def.nodes[l];11&u.flags&&cr(e,u,t,i,o,a),l+=u.childCount}}function sr(e,t,n,r,i,o){for(var a=e;a&&!$n(a);)a=a.parent;for(var l=a.parent,u=Jn(a),s=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=s;c++){var h=l.def.nodes[c];h.ngContentIndex===t&&cr(l,h,n,r,i,o),c+=h.childCount}if(!l.parent){var f=e.root.projectableNodes[t];if(f)for(var d=0;d<f.length;d++)hr(e,f[d],n,r,i,o)}}function cr(e,t,n,r,i,o){if(8&t.flags)sr(e,t.ngContent.index,n,r,i,o);else{var a=Zn(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&hr(e,a,n,r,i,o),32&t.bindingFlags&&hr(Dn(e,t.nodeIndex).componentView,a,n,r,i,o)):hr(e,a,n,r,i,o),16777216&t.flags)for(var l=Dn(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<l.length;u++)lr(l[u],n,r,i,o);1&t.flags&&!t.element.name&&ur(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function hr(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var fr=/^:([^:]+):(.+)$/;function dr(e){if(":"===e[0]){var t=e.match(fr);return[t[1],t[2]]}return["",e]}function pr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}var gr=new Object,mr=Bn(Et),vr=Bn(Ie),yr=Bn(Le);function br(e,t,n,r){return n=_e(n),{index:-1,deps:rr(r,ve(t)),flags:e,token:t,value:n}}function _r(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et.THROW_IF_NOT_FOUND,o=Pe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var a=t.tokenKey;switch(a){case mr:case vr:case yr:return e}var l,u=e._def.providersByKey[a];if(u){var s=e._providers[u.index];return void 0===s&&(s=e._providers[u.index]=wr(e,u)),s===gr?void 0:s}if((l=ge(t.token))&&(n=e,null!=(r=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:c,token:t.token},e._providers[c]=gr,e._providers[c]=wr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{Pe(o)}}function wr(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(_r(e,n[0]));case 2:return new t(_r(e,n[0]),_r(e,n[1]));case 3:return new t(_r(e,n[0]),_r(e,n[1]),_r(e,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=_r(e,n[o]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(_r(e,n[0]));case 2:return t(_r(e,n[0]),_r(e,n[1]));case 3:return t(_r(e,n[0]),_r(e,n[1]),_r(e,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=_r(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=_r(e,t.deps[0]);break;case 256:n=t.value}return n===gr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?gr:n}function Cr(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Fe(n,t),Vn.dirtyParentQueries(r),Tr(r),r}function kr(e,t,n){var r=t?Zn(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);lr(n,2,i,o,void 0)}function Tr(e){lr(e,3,null,null,void 0)}var Sr=new Object;function Er(e,t,n,r,i,o){return new Ir(e,t,n,r,i,o)}var Ir=function(e){function t(e,n,r,i,o,a){var l;return _classCallCheck(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).selector=e,l.componentType=n,l._inputs=i,l._outputs=o,l.ngContentSelectors=a,l.viewDefFactory=r,l}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=ar(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Vn.createRootView(e,t||[],n,i,r,Sr),l=Rn(a,o).instance;return n&&a.renderer.setAttribute(Dn(a,0).renderElement,"ng-version",ln.full),new xr(a,new Pr(a),l)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),t}(Wt),xr=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new $t(Dn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Lr(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),t}(function(){return function e(){_classCallCheck(this,e)}}());function Ar(e,t,n){return new Or(e,t,n)}var Or=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Cr(this._data,e);Vn.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new Pr(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof Jt||(i=o.get(Le));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,l=e;return n=this._view,r=this._data,i=t,o=l._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,Ue(a,i,o),function(e,t){var n=Xn(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,o),Vn.dirtyParentQueries(o),kr(r,i>0?a[i-1]:null,o),l.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,l=this._embeddedViews.indexOf(e._view);return n=this._data,r=l,i=t,o=n.viewContainer._embeddedViews,a=o[r],Fe(o,r),null==i&&(i=o.length),Ue(o,i,a),Vn.dirtyParentQueries(a),Tr(a),kr(n,i>0?o[i-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Cr(this._data,e);t&&Vn.destroyView(t)}},{key:"detach",value:function(e){var t=Cr(this._data,e);return t?new Pr(t):null}},{key:"element",get:function(){return new $t(this._data.renderElement)}},{key:"injector",get:function(){return new Lr(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Jn(e),e=e.parent;return e?new Lr(e,t):new Lr(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function Nr(e){return new Pr(e)}var Pr=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"markForCheck",value:function(){Gn(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Vn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){Vn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Vn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Tr(this._view),Vn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return lr(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function Dr(e,t){return new Rr(e,t)}var Rr=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentView=e,r._def=n,r}return _inherits(t,e),_createClass(t,[{key:"createEmbeddedView",value:function(e){return new Pr(Vn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new $t(Dn(this._parentView,this._def.nodeIndex).renderElement)}}]),t}(kn);function Mr(e,t){return new Lr(e,t)}var Lr=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et.THROW_IF_NOT_FOUND;return Vn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Bn(e)},t)}}]),e}();function Vr(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Dn(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Pn(e,n.nodeIndex).renderText;if(20240&n.flags)return Rn(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(t))}function Ur(e){return new Fr(e.renderer)}var Fr=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(dr(t),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return e&&this.delegate.appendChild(e,o),o}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray(dr(t),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(e,o,n,i):this.delegate.removeAttribute(e,o,i)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function Br(e,t,n,r){return new jr(e,t,n,r)}var jr=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=wr(e,i))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe.Default,r=0;return n&fe.SkipSelf?r|=1:n&fe.Self&&(r|=4),_r(this,{token:e,tokenKey:Bn(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(ve(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==gr){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(Yt)}}]),e}(),qr=Bn((function e(){_classCallCheck(this,e)})),zr=Bn(rn),Hr=Bn($t),Wr=Bn(Sn),Kr=Bn(kn),Gr=Bn(Ct),Qr=Bn(Et),Yr=Bn(Ie);function Xr(e,t,n,r,i,o,a,l){var u=[];if(a)for(var s in a){var c=_slicedToArray(a[s],2),h=c[0],f=c[1];u[h]={flags:8,name:s,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(l)for(var p in l)d.push({type:1,propName:p,target:null,eventName:l[p]});return $r(e,t|=16384,n,r,i,i,o,u,d)}function Jr(e,t,n){return $r(-1,e|=16,null,0,t,t,n)}function Zr(e,t,n,r,i){return $r(-1,e,t,0,n,r,i)}function $r(e,t,n,r,i,o,a,l,u){var s=nr(n),c=s.matchedQueries,h=s.references,f=s.matchedQueryIds;u||(u=[]),l||(l=[]),o=_e(o);var d=rr(a,ve(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:pr(l),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function ei(e,t){return ii(e,t)}function ti(e,t){for(var n=e;n.parent&&!$n(n);)n=n.parent;return oi(n.parent,Jn(n),!0,t.provider.value,t.provider.deps)}function ni(e,t){var n=oi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!zt(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(ri(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function ri(e,t,n){return function(r){return Yn(e,t,n,r)}}function ii(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return oi(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(li(e,t,n,i[0]));case 2:return r(li(e,t,n,i[0]),li(e,t,n,i[1]));case 3:return r(li(e,t,n,i[0]),li(e,t,n,i[1]),li(e,t,n,i[2]));default:for(var a=Array(o),l=0;l<o;l++)a[l]=li(e,t,n,i[l]);return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return li(e,t.parent,n,r.deps[0]);case 256:return r.value}}function oi(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(li(e,t,n,i[0]));case 2:return new r(li(e,t,n,i[0]),li(e,t,n,i[1]));case 3:return new r(li(e,t,n,i[0]),li(e,t,n,i[1]),li(e,t,n,i[2]));default:for(var a=new Array(o),l=0;l<o;l++)a[l]=li(e,t,n,i[l]);return _construct(r,a)}}var ai={};function li(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Et.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;a===Gr&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var l=e;l;){if(t)switch(a){case qr:return Ur(ui(l,t,n));case zr:return ui(l,t,n).renderer;case Hr:return new $t(Dn(l,t.nodeIndex).renderElement);case Wr:return Dn(l,t.nodeIndex).viewContainer;case Kr:if(t.element.template)return Dn(l,t.nodeIndex).template;break;case Gr:return Nr(ui(l,t,n));case Qr:case Yr:return Mr(l,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[a];if(u){var s=Rn(l,u.nodeIndex);return s||(s={instance:ii(l,u)},l.nodes[u.nodeIndex]=s),s.instance}}n=$n(l),t=Jn(l),l=l.parent,4&r.flags&&(l=null)}var c=o.root.injector.get(r.token,ai);return c!==ai||i===ai?c:o.root.ngModule.injector.get(r.token,i)}function ui(e,t,n){var r;if(n)r=Dn(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!$n(r);)r=r.parent;return r}function si(e,t,n,r,i,o){if(32768&n.flags){var a=Dn(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var l=Ft.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Ht(l,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function ci(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&fi(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=hi(e,a,t,r)),a=a.parent}}function hi(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&fi(e,i,o.flags&n,r++),i+=o.childCount}return r}function fi(e,t,n,r){var i=Rn(e,t);if(i){var o=i.instance;o&&(Vn.setCurrentNode(e,t),1048576&n&&Nn(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Nn(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var di=new Ee("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return je}}),pi={},gi=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),mi=void 0,vi=["en",[["a","p"],["AM","PM"],mi],[["AM","PM"],mi,mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mi,"{1} 'at' {0}",mi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function yi(e){var t=e.toLowerCase().replace(/_/g,"-"),n=pi[t];if(n)return n;var r=t.split("-")[0];if(n=pi[r])return n;if("en"===r)return vi;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}var bi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).__isAsync=n,e}return _inherits(t,e),_createClass(t,[{key:"emit",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,n,r){var i,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var l=_get(_getPrototypeOf(t.prototype),"subscribe",this).call(this,i,o,a);return e instanceof d&&e.add(l),l}}]),t}(O);function _i(){return this._results[Lt()]()}var wi=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new bi,this.length=0;var t=Lt(),n=e.prototype;n[t]||(n[t]=_i)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Ci=new Ee("Application Initializer"),ki=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();qt(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),Ti=new Ee("AppId");function Si(){return"".concat(Ei()).concat(Ei()).concat(Ei())}function Ei(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ii=new Ee("Platform Initializer"),xi=new Ee("Platform ID"),Ai=new Ee("appBootstrapListener"),Oi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),Ni=new Ee("LocaleId");function Pi(){throw new Error("Runtime compiler is not loaded")}var Di,Ri,Mi=Pi,Li=Pi,Vi=Pi,Ui=Pi,Fi=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Mi,this.compileModuleAsync=Li,this.compileModuleAndAllComponentsSync=Vi,this.compileModuleAndAllComponentsAsync=Ui}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),Bi=function e(){_classCallCheck(this,e)};var ji,qi=!(!(ji=Se.wtf)||(Di=ji.trace,!Di)||(Ri=Di.events,0));function zi(e,t){return null}var Hi=qi?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ri.createScope(e,t)}:function(e,t){return zi},Wi=qi?function(e,t){return Di.leaveScope(e,t),t}:function(e,t){return t},Ki=Promise.resolve(0);function Gi(e){"undefined"==typeof Zone?Ki.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Qi=function(){function e(t){var n,r=t.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bi(!1),this.onMicrotaskEmpty=new bi(!1),this.onStable=new bi(!1),this.onError=new bi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,i,o,a){try{return Zi(n),e.invokeTask(r,i,o,a)}finally{$i(n)}},onInvoke:function(e,t,r,i,o,a,l){try{return Zi(n),e.invoke(r,i,o,a,l)}finally{$i(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Ji(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Xi,Yi,Yi);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Yi(){}var Xi={};function Ji(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Zi(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $i(e){e._nesting--,Ji(e)}var eo,to=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bi,this.onMicrotaskEmpty=new bi,this.onStable=new bi,this.onError=new bi}return _createClass(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),no=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Qi.assertNotInAngularZone(),Gi((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Gi((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),ro=function(){function e(){_classCallCheck(this,e),this._applications=new Map,io.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return io.findTestabilityInTree(this,e,t)}}]),e}(),io=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),oo=new Ee("AllowMultipleToken"),ao=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function lo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Ee(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=uo();if(!o||o.injector.get(oo,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(eo&&!eo.destroyed&&!eo.injector.get(oo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");eo=e.get(so);var t=e.get(Ii,null);t&&t.forEach((function(e){return e()}))}(Et.create({providers:a,name:r}))}return function(e){var t=uo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function uo(){return eo&&!eo.destroyed?eo:null}var so=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new to:("zone.js"===n?void 0:n)||new Qi({enableLongStackTrace:Qe()}),o=[{provide:Qi,useValue:i}];return i.run((function(){var t=Et.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(We,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return po(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){a.handleError(e)}})})),function(e,t,i){try{var o=((a=n.injector.get(ki)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return qt(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(l){throw t.runOutsideAngular((function(){return e.handleError(l)})),l}var a}(a,i)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=co({},n);return function(e,t,n){return e.get(Bi).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(fo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ve(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function co(e,t){return Array.isArray(t)?t.reduce(co,e):Object.assign({},e,t)}var ho,fo=((ho=function(){function e(t,n,r,i,o,a){var l=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qe(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var u=new k((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),s=new k((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){Qi.assertNotInAngularZone(),Gi((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Qi.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return P(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof k?t[0]:$(r)(G(t,i))}(u,s.pipe((function(e){return ee()((t=ae,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,ie);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Wt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof Jt?null:this._injector.get(Le),o=n.create(Et.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(no,null);return a&&o.injector.get(ro).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Qe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r=!0,i=!1,o=void 0;try{for(var a,l=this._views[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)a.value.detectChanges()}catch(d){i=!0,o=d}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}if(this._enforceNoNewChanges){var u=!0,s=!1,c=void 0;try{for(var h,f=this._views[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)h.value.checkNoChanges()}catch(d){s=!0,c=d}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}}}catch(p){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(p)}))}finally{this._runningTick=!1,Wi(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;po(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ai,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),po(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=Hi("ApplicationRef#tick()"),ho);function po(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var go=function e(){_classCallCheck(this,e)},mo=function e(){_classCallCheck(this,e)},vo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},yo=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||vo}return _createClass(e,[{key:"load",value:function(e){return this._compiler instanceof Fi?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return bo(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return bo(e,r,i)}))}}]),e}();function bo(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var _o=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},wo=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof Co&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Co=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,r))).properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return _inherits(t,e),_createClass(t,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var n=[];return function e(n,r,i){n.childNodes.forEach((function(n){n instanceof t&&(r(n)&&i.push(n),e(n,r,i))}))}(this,e,n),n}},{key:"queryAllNodes",value:function(e){var n=[];return function e(n,r,i){n instanceof t&&n.childNodes.forEach((function(n){r(n)&&i.push(n),n instanceof t&&e(n,r,i)}))}(this,e,n),n}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof t}))}}]),t}(wo),ko=new Map,To=function(e){return ko.get(e)||null};function So(e){ko.set(e.nativeNode,e)}var Eo=lo(null,"core",[{provide:xi,useValue:"unknown"},{provide:so,deps:[Et]},{provide:ro,deps:[]},{provide:Oi,deps:[]}]);function Io(){return wn}function xo(){return Cn}function Ao(e){return e||"en-US"}function Oo(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var No=function e(t){_classCallCheck(this,e)};function Po(e,t,n,r,i,o){e|=1;var a=nr(t),l=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ar(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Un},provider:null,text:null,query:null,ngContent:null}}function Do(e,t,n,r,i,o){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=Un);var d=nr(n),p=d.matchedQueries,g=d.references,m=d.matchedQueryIds,v=null,y=null;o&&(v=(a=_slicedToArray(dr(o),2))[0],y=a[1]),u=u||[];for(var b=new Array(u.length),_=0;_<u.length;_++){var w=_slicedToArray(u[_],3),C=w[0],k=w[1],T=w[2],S=dr(k),E=_slicedToArray(S,2),I=E[0],x=E[1],A=void 0,O=void 0;switch(15&C){case 4:O=T;break;case 1:case 8:A=T}b[_]={flags:C,ns:I,name:x,nonMinifiedName:x,securityContext:A,suffix:O}}s=s||[];for(var N=new Array(s.length),P=0;P<s.length;P++){var D=_slicedToArray(s[P],2),R=D[0],M=D[1];N[P]={type:0,target:R,eventName:M,propName:null}}var L=(l=l||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(dr(n),2);return[i[0],i[1],r]}));return f=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==Be.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c".concat(zn++):"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(f),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:g,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:pr(b),outputs:N,element:{ns:v,name:y,attrs:L,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Un},provider:null,text:null,query:null,ngContent:null}}function Ro(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var l=ir(e,t,n);l&&a.appendChild(l,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Be.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var s=_slicedToArray(i.attrs[u],3),c=s[0],h=s[1],f=s[2];a.setAttribute(r,h,f,c)}return r}function Mo(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Lo(e,n.nodeIndex,(h=o.eventName,(c=o.target)?"".concat(c,":").concat(h):h)),l=o.target,u=e;"component"===o.target&&(l=null,u=t);var s=u.renderer.listen(l||r,o.eventName,a);e.disposables[n.outputIndex+i]=s}var c,h}function Lo(e,t,n){return function(r){return Yn(e,t,n,r)}}function Vo(e,t,n,r){if(!Wn(e,t,n,r))return!1;var i=t.bindings[n],o=Dn(e,t.nodeIndex),a=o.renderElement,l=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,l=a?e.root.sanitizer.sanitize(a,o):o;l=null!=l?l.toString():null;var u=e.renderer;null!=o?u.setAttribute(n,i,l,r):u.removeAttribute(n,i,r)}(e,i,a,i.ns,l,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,l,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(mt.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var l=e.renderer;null!=o?l.setStyle(n,r,o):l.removeStyle(n,r)}(e,i,a,l,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,l,r)}return!0}function Uo(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:tr(t),bindings:r},ngContent:null}}function Fo(e){for(var t=e.def.nodeMatchedQueries;e.parent&&er(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=e.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&Ln(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var l=e.def.nodes[a];134217728&l.flags&&536870912&l.flags&&Ln(e,a).setDirty(),a+=l.childCount}}function Bo(e,t){var n=Ln(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=jo(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=Rn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=jo(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,l=!1,u=0;u<a.length;u++){var s=a[u],c=void 0;switch(s.bindingType){case 0:c=n.first;break;case 1:c=n,l=!0}r[s.propName]=c}l&&n.notifyOnChanges()}}function jo(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],l=a.matchedQueries[r.id];if(null!=l&&i.push(qo(e,a,l)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Dn(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(jo(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var s=u.viewContainer._embeddedViews,c=0;c<s.length;c++){var h=s[c],f=Xn(h);f&&f===u&&jo(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var g=d[p];jo(g,0,g.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function qo(e,t,n){if(null!=n)switch(n){case 1:return Dn(e,t.nodeIndex).renderElement;case 0:return new $t(Dn(e,t.nodeIndex).renderElement);case 2:return Dn(e,t.nodeIndex).template;case 3:return Dn(e,t.nodeIndex).viewContainer;case 4:return Rn(e,t.nodeIndex).instance}}function zo(e,t,n){var r=ir(e,t,n);r&&sr(e,n.ngContent.index,1,r,null,void 0)}function Ho(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:pr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Wo(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ko(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=ir(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function Go(e,t){return(null!=e?e.toString():"")+t.suffix}function Qo(e,t,n,r){for(var i=0,o=0,a=0,l=0,u=0,s=null,c=null,h=!1,f=!1,d=null,p=0;p<t.length;p++){var g=t[p];if(g.nodeIndex=p,g.parent=s,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,a|=g.flags,u|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=s?s.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(Xo(s,g,t.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(d=g),20224&g.flags){h||(h=!0,s.element.publicProviders=Object.create(s.element.publicProviders),s.element.allProviders=s.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?s.element.publicProviders[Bn(g.provider.token)]=g:(f||(f=!0,s.element.allProviders=Object.create(s.element.publicProviders)),s.element.allProviders[Bn(g.provider.token)]=g),v&&(s.element.componentProvider=g)}if(s?(s.childFlags|=g.flags,s.directChildFlags|=g.flags,s.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(s.childMatchedQueries|=g.element.template.nodeMatchedQueries)):l|=g.flags,g.childCount>0)s=g,Yo(g)||(c=g);else for(;s&&p===s.nodeIndex+s.childCount;){var y=s.parent;y&&(y.childFlags|=s.childFlags,y.childMatchedQueries|=s.childMatchedQueries),c=(s=y)&&Yo(s)?s.renderParent:s}}return{factory:null,nodeFlags:a,rootNodeFlags:l,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Un,updateRenderer:r||Un,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Yo(e){return 0!=(1&e.flags)&&null===e.element.name}function Xo(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function Jo(e,t,n,r){var i=ea(e.root,e.renderer,e,t,n);return ta(i,e.component,r),na(i),i}function Zo(e,t,n){var r=ea(e,e.renderer,null,null,t);return ta(r,n,n),na(r),r}function $o(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,ea(e.root,i,e,t.element.componentProvider,n)}function ea(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function ta(e,t,n){e.component=t,e.context=n}function na(e){var t;$n(e)&&(t=Dn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(Vn.setCurrentNode(e,i),201347067&o.flags){case 1:var l=Ro(e,t,o),u=void 0;if(33554432&o.flags){var s=ar(o.element.componentView);u=Vn.createComponentView(e,o,s,l)}Mo(e,u,o,l),a={renderElement:l,componentView:u,viewContainer:null,template:o.element.template?Dr(e,o):void 0},16777216&o.flags&&(a.viewContainer=Ar(e,o,a));break;case 2:a=Ko(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:ei(e,o)});break;case 16:a={instance:ti(e,o)};break;case 16384:(a=r[i])||(a={instance:ni(e,o)}),32768&o.flags&&ta(Dn(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new wi;break;case 8:zo(e,t,o),a=void 0}r[i]=a}ha(e,ca.CreateViewNodes),ga(e,201326592,268435456,0)}function ra(e){aa(e),Vn.updateDirectives(e,1),fa(e,ca.CheckNoChanges),Vn.updateRenderer(e,1),ha(e,ca.CheckNoChanges),e.state&=-97}function ia(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,On(e,0,256),aa(e),Vn.updateDirectives(e,0),fa(e,ca.CheckAndUpdate),ga(e,67108864,536870912,0);var t=On(e,256,512);ci(e,2097152|(t?1048576:0)),Vn.updateRenderer(e,0),ha(e,ca.CheckAndUpdate),ga(e,134217728,536870912,0),ci(e,8388608|((t=On(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,On(e,768,1024)}function oa(e,t,n,r,i,o,a,l,u,s,c,h,f){return 0===n?function(e,t,n,r,i,o,a,l,u,s,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,l,u,s,c,h){var f=t.bindings.length,d=!1;return f>0&&Vo(e,t,0,n)&&(d=!0),f>1&&Vo(e,t,1,r)&&(d=!0),f>2&&Vo(e,t,2,i)&&(d=!0),f>3&&Vo(e,t,3,o)&&(d=!0),f>4&&Vo(e,t,4,a)&&(d=!0),f>5&&Vo(e,t,5,l)&&(d=!0),f>6&&Vo(e,t,6,u)&&(d=!0),f>7&&Vo(e,t,7,s)&&(d=!0),f>8&&Vo(e,t,8,c)&&(d=!0),f>9&&Vo(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,o,a,l,u,s,c,h);case 2:return function(e,t,n,r,i,o,a,l,u,s,c,h){var f=!1,d=t.bindings,p=d.length;if(p>0&&Wn(e,t,0,n)&&(f=!0),p>1&&Wn(e,t,1,r)&&(f=!0),p>2&&Wn(e,t,2,i)&&(f=!0),p>3&&Wn(e,t,3,o)&&(f=!0),p>4&&Wn(e,t,4,a)&&(f=!0),p>5&&Wn(e,t,5,l)&&(f=!0),p>6&&Wn(e,t,6,u)&&(f=!0),p>7&&Wn(e,t,7,s)&&(f=!0),p>8&&Wn(e,t,8,c)&&(f=!0),p>9&&Wn(e,t,9,h)&&(f=!0),f){var g=t.text.prefix;p>0&&(g+=Go(n,d[0])),p>1&&(g+=Go(r,d[1])),p>2&&(g+=Go(i,d[2])),p>3&&(g+=Go(o,d[3])),p>4&&(g+=Go(a,d[4])),p>5&&(g+=Go(l,d[5])),p>6&&(g+=Go(u,d[6])),p>7&&(g+=Go(s,d[7])),p>8&&(g+=Go(c,d[8])),p>9&&(g+=Go(h,d[9]));var m=Pn(e,t.nodeIndex).renderText;e.renderer.setValue(m,g)}return f}(e,t,n,r,i,o,a,l,u,s,c,h);case 16384:return function(e,t,n,r,i,o,a,l,u,s,c,h){var f=Rn(e,t.nodeIndex),d=f.instance,p=!1,g=void 0,m=t.bindings.length;return m>0&&Hn(e,t,0,n)&&(p=!0,g=si(e,f,t,0,n,g)),m>1&&Hn(e,t,1,r)&&(p=!0,g=si(e,f,t,1,r,g)),m>2&&Hn(e,t,2,i)&&(p=!0,g=si(e,f,t,2,i,g)),m>3&&Hn(e,t,3,o)&&(p=!0,g=si(e,f,t,3,o,g)),m>4&&Hn(e,t,4,a)&&(p=!0,g=si(e,f,t,4,a,g)),m>5&&Hn(e,t,5,l)&&(p=!0,g=si(e,f,t,5,l,g)),m>6&&Hn(e,t,6,u)&&(p=!0,g=si(e,f,t,6,u,g)),m>7&&Hn(e,t,7,s)&&(p=!0,g=si(e,f,t,7,s,g)),m>8&&Hn(e,t,8,c)&&(p=!0,g=si(e,f,t,8,c,g)),m>9&&Hn(e,t,9,h)&&(p=!0,g=si(e,f,t,9,h,g)),g&&d.ngOnChanges(g),65536&t.flags&&Nn(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),p}(e,t,n,r,i,o,a,l,u,s,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,l,u,s,c,h){var f=t.bindings,d=!1,p=f.length;if(p>0&&Wn(e,t,0,n)&&(d=!0),p>1&&Wn(e,t,1,r)&&(d=!0),p>2&&Wn(e,t,2,i)&&(d=!0),p>3&&Wn(e,t,3,o)&&(d=!0),p>4&&Wn(e,t,4,a)&&(d=!0),p>5&&Wn(e,t,5,l)&&(d=!0),p>6&&Wn(e,t,6,u)&&(d=!0),p>7&&Wn(e,t,7,s)&&(d=!0),p>8&&Wn(e,t,8,c)&&(d=!0),p>9&&Wn(e,t,9,h)&&(d=!0),d){var g,m=Mn(e,t.nodeIndex);switch(201347067&t.flags){case 32:g=new Array(f.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=a),p>5&&(g[5]=l),p>6&&(g[6]=u),p>7&&(g[7]=s),p>8&&(g[8]=c),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[f[0].name]=n),p>1&&(g[f[1].name]=r),p>2&&(g[f[2].name]=i),p>3&&(g[f[3].name]=o),p>4&&(g[f[4].name]=a),p>5&&(g[f[5].name]=l),p>6&&(g[f[6].name]=u),p>7&&(g[f[7].name]=s),p>8&&(g[f[8].name]=c),p>9&&(g[f[9].name]=h);break;case 128:var v=n;switch(p){case 1:g=v.transform(n);break;case 2:g=v.transform(r);break;case 3:g=v.transform(r,i);break;case 4:g=v.transform(r,i,o);break;case 5:g=v.transform(r,i,o,a);break;case 6:g=v.transform(r,i,o,a,l);break;case 7:g=v.transform(r,i,o,a,l,u);break;case 8:g=v.transform(r,i,o,a,l,u,s);break;case 9:g=v.transform(r,i,o,a,l,u,s,c);break;case 10:g=v.transform(r,i,o,a,l,u,s,c,h)}}m.value=g}return d}(e,t,n,r,i,o,a,l,u,s,c,h);default:throw"unreachable"}}(e,t,r,i,o,a,l,u,s,c,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)Vo(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)Wn(e,t,o,n[o])&&(i=!0);if(i){for(var a="",l=0;l<n.length;l++)a+=Go(n[l],r[l]);a=t.text.prefix+a;var u=Pn(e,t.nodeIndex).renderText;e.renderer.setValue(u,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=Rn(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,l=0;l<n.length;l++)Hn(e,t,l,n[l])&&(o=!0,a=si(e,r,t,l,n[l],a));return a&&i.ngOnChanges(a),65536&t.flags&&Nn(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)Wn(e,t,o,n[o])&&(i=!0);if(i){var a,l=Mn(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var u=0;u<n.length;u++)a[r[u].name]=n[u];break;case 128:var s=n[0],c=n.slice(1);a=s.transform.apply(s,_toConsumableArray(c))}l.value=a}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function aa(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=Dn(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Qn(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function la(e,t,n,r,i,o,a,l,u,s,c,h,f){return 0===n?function(e,t,n,r,i,o,a,l,u,s,c,h){var f=t.bindings.length;f>0&&Kn(e,t,0,n),f>1&&Kn(e,t,1,r),f>2&&Kn(e,t,2,i),f>3&&Kn(e,t,3,o),f>4&&Kn(e,t,4,a),f>5&&Kn(e,t,5,l),f>6&&Kn(e,t,6,u),f>7&&Kn(e,t,7,s),f>8&&Kn(e,t,8,c),f>9&&Kn(e,t,9,h)}(e,t,r,i,o,a,l,u,s,c,h,f):function(e,t,n){for(var r=0;r<n.length;r++)Kn(e,t,r,n[r])}(e,t,r),!1}function ua(e,t){if(Ln(e,t.nodeIndex).dirty)throw In(Vn.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function sa(e){if(!(128&e.state)){if(fa(e,ca.Destroy),ha(e,ca.Destroy),ci(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Xn(e);if(t){var n=t.template._projectedViews;n&&(Fe(n,n.indexOf(e)),Vn.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Dn(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Pn(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Ln(e,n).destroy()}}(e),$n(e)&&e.renderer.destroy(),e.state|=128}}var ca=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function ha(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?da(Dn(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function fa(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Dn(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)da(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function da(e,t){var n=e.state;switch(t){case ca.CheckNoChanges:0==(128&n)&&(12==(12&n)?ra(e):64&n&&pa(e,ca.CheckNoChangesProjectedViews));break;case ca.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ra(e):64&n&&pa(e,t));break;case ca.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ia(e):64&n&&pa(e,ca.CheckAndUpdateProjectedViews));break;case ca.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ia(e):64&n&&pa(e,t));break;case ca.Destroy:sa(e);break;case ca.CreateViewNodes:na(e)}}function pa(e,t){fa(e,t),ha(e,t)}function ga(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(Vn.setCurrentNode(e,a.nodeIndex),r){case 0:Bo(e,a);break;case 1:ua(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var ma=!1;function va(e,t,n,r,i,o){var a=i.injector.get(tn);return Zo(ba(e,i,a,t,n),r,o)}function ya(e,t,n,r,i,o){var a=i.injector.get(tn),l=ba(e,i,new Ja(a),t,n),u=Aa(r);return Ya(Ua.create,Zo,null,[l,u,o])}function ba(e,t,n,r,i){var o=t.injector.get(vt),a=t.injector.get(We),l=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:l,errorHandler:a}}function _a(e,t,n,r){var i=Aa(n);return Ya(Ua.create,Jo,null,[e,t,i,r])}function wa(e,t,n,r){return n=Sa.get(t.element.componentProvider.provider.token)||Aa(n),Ya(Ua.create,$o,null,[e,t,n,r])}function Ca(e,t,n,r){return Br(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===ka.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach((function(e){var r=ka.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){Ta.forEach((function(r,i){ge(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=ka.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=rr(i.deps),n.value=i.value)}if(Ta.size>0){var o=new Set(e.modules);Ta.forEach((function(t,n){if(o.has(ge(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:rr(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[Bn(n)]=i}}))}}(e=e.factory((function(){return Un}))),e):e}(r))}var ka=new Map,Ta=new Map,Sa=new Map;function Ea(e){var t;ka.set(e.token,e),"function"==typeof e.token&&(t=ge(e.token))&&"function"==typeof t.providedIn&&Ta.set(e.token,e)}function Ia(e,t){var n=ar(t.viewDefFactory),r=ar(n.nodes[0].element.componentView);Sa.set(e,r)}function xa(){ka.clear(),Ta.clear(),Sa.clear()}function Aa(e){if(0===ka.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ka.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return Un}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=ka.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=rr(o.deps),i.value=o.value)}}}}function Oa(e,t,n,r,i,o,a,l,u,s,c,h,f){var d=e.def.nodes[t];return oa(e,d,n,r,i,o,a,l,u,s,c,h,f),224&d.flags?Mn(e,t).value:void 0}function Na(e,t,n,r,i,o,a,l,u,s,c,h,f){var d=e.def.nodes[t];return la(e,d,n,r,i,o,a,l,u,s,c,h,f),224&d.flags?Mn(e,t).value:void 0}function Pa(e){return Ya(Ua.detectChanges,ia,null,[e])}function Da(e){return Ya(Ua.checkNoChanges,ra,null,[e])}function Ra(e){return Ya(Ua.destroy,sa,null,[e])}var Ma,La,Va,Ua=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Fa(e,t){La=e,Va=t}function Ba(e,t,n,r){return Fa(e,t),Ya(Ua.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ja(e,t){if(128&e.state)throw An(Ua[Ma]);return Fa(e,Wa(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return 0===t?za(e,i,r,a):Ha(e,i,r,a),16384&i.flags&&Fa(e,Wa(e,n)),224&i.flags?Mn(e,i.nodeIndex).value:void 0}),e)}function qa(e,t){if(128&e.state)throw An(Ua[Ma]);return Fa(e,Ka(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return 0===t?za(e,i,r,a):Ha(e,i,r,a),3&i.flags&&Fa(e,Ka(e,n)),224&i.flags?Mn(e,i.nodeIndex).value:void 0}),e)}function za(e,t,n,r){if(oa.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var l=t.bindings[a],u=i[a];8&l.flags&&(o[(d=l.nonMinifiedName,p=void 0,p=d.replace(/[$@]/g,"_"),"ng-reflect-".concat(d=p.replace(_t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()}))))]=wt(u))}var s=t.parent,c=Dn(e,s.nodeIndex).renderElement;if(s.element.name)for(var h in o){var f=o[h];null!=f?e.renderer.setAttribute(c,h,f):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings=".concat(JSON.stringify(o,null,2)))}}var d,p}function Ha(e,t,n,r){la.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function Wa(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Ka(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ga=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=Jn(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,o),l=-1;i.factory((function(){var t;return++l===a?(t=e.error).bind.apply(t,[e].concat(n)):Un})),l<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return Dn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Mr(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){Qa(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Qa(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!$n(e);)e=e.parent;return e.parent?Dn(e.parent,Jn(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Zn(this.view,this.nodeDef):Zn(this.elView,this.elDef)}}]),e}();function Qa(e,t,n){for(var r in t.references)n[r]=qo(e,t,t.references[r])}function Ya(e,t,n,r){var i,o,a=Ma,l=La,u=Va;try{Ma=e;var s=t.apply(n,r);return La=l,Va=u,Ma=a,s}catch(c){if(qe(c)||!La)throw c;throw i=c,o=Xa(),i instanceof Error||(i=new Error(i.toString())),xn(i,o),i}}function Xa(){return La?new Ga(La,Va):null}var Ja=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new Za(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),Za=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=Xa,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=To(e);!function(e){ko.delete(e.nativeNode)}(t),t instanceof wo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new Co(n,null,r);i.name=e,So(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&So(new wo(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&So(new wo(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=To(e),r=To(t);n&&r&&n instanceof Co&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=To(e),i=To(t),o=To(n);r&&i&&r instanceof Co&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=To(e),r=To(t);n&&r&&n instanceof Co&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=Xa();return r&&So(new Co(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=To(e);i&&i instanceof Co&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=To(e);r&&r instanceof Co&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=To(e);n&&n instanceof Co&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=To(e);n&&n instanceof Co&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=To(e);i&&i instanceof Co&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=To(e);r&&r instanceof Co&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=To(e);r&&r instanceof Co&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=To(e);r&&r.listeners.push(new _o(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();var $a=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){!function(){if(!ma){ma=!0;var e=Qe()?{setCurrentNode:Fa,createRootView:ya,createEmbeddedView:_a,createComponentView:wa,createNgModuleRef:Ca,overrideProvider:Ea,overrideComponentView:Ia,clearOverrides:xa,checkAndUpdateView:Pa,checkNoChangesView:Da,destroyView:Ra,createDebugContext:function(e,t){return new Ga(e,t)},handleEvent:Ba,updateDirectives:ja,updateRenderer:qa}:{setCurrentNode:function(){},createRootView:va,createEmbeddedView:Jo,createComponentView:$o,createNgModuleRef:Br,overrideProvider:Un,overrideComponentView:Un,clearOverrides:Un,checkAndUpdateView:ia,checkNoChangesView:ra,destroyView:sa,createDebugContext:function(e,t){return new Ga(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Oa:Na,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Oa:Na,e)}};Vn.setCurrentNode=e.setCurrentNode,Vn.createRootView=e.createRootView,Vn.createEmbeddedView=e.createEmbeddedView,Vn.createComponentView=e.createComponentView,Vn.createNgModuleRef=e.createNgModuleRef,Vn.overrideProvider=e.overrideProvider,Vn.overrideComponentView=e.overrideComponentView,Vn.clearOverrides=e.clearOverrides,Vn.checkAndUpdateView=e.checkAndUpdateView,Vn.checkNoChangesView=e.checkNoChangesView,Vn.destroyView=e.destroyView,Vn.resolveDep=li,Vn.createDebugContext=e.createDebugContext,Vn.handleEvent=e.handleEvent,Vn.updateDirectives=e.updateDirectives,Vn.updateRenderer=e.updateRenderer,Vn.dirtyParentQueries=Fo}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(ar(this._ngModuleDefFactory));return Vn.createNgModuleRef(this.moduleType,e||Et.NULL,this._bootstrapComponents,t)}}]),t}(Ve),el=function e(){_classCallCheck(this,e)},tl=function e(){_classCallCheck(this,e),this.title="CarsfromSweden"},nl=function e(){_classCallCheck(this,e)},rl=new Ee("Location Initialized"),il=function e(){_classCallCheck(this,e)},ol=new Ee("appBaseHref"),al=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new bi,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(ll(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ll(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function ll(e){return e.replace(/\/index.html$/,"")}var ul=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=al.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+al.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+al.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(il),sl=function(e){function t(e,n){var r;if(_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,_possibleConstructorReturn(r)}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return al.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+al.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+al.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+al.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(il),cl=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),hl=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),fl=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function dl(e,t){var n=yi(e),r=n[gi.NumberSymbols][t];if(void 0===r){if(t===fl.CurrencyDecimal)return n[gi.NumberSymbols][fl.Decimal];if(t===fl.CurrencyGroup)return n[gi.NumberSymbols][fl.Group]}return r}var pl=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gl(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var ml=new Ee("UseV4Plurals"),vl=function e(){_classCallCheck(this,e)},yl=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).locale=e,r.deprecatedPluralFn=n,r}return _inherits(t,e),_createClass(t,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return yi(e)[gi.PluralCase]}(t||this.locale)(e)){case hl.Zero:return"zero";case hl.One:return"one";case hl.Two:return"two";case hl.Few:return"few";case hl.Many:return"many";default:return"other"}}}]),t}(vl),bl=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),_l=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new bl(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new wl(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var l=t._viewContainer.get(r);t._viewContainer.move(l,i);var u=new wl(e,l);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Qe()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),wl=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},Cl=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new kl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Tl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Tl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}]),e}(),kl=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Tl(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ve(t),"'."))}function Sl(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(ve(e),"'"))}var El=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Il=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),xl=new El,Al=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Vt(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Ft.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(qt(t))return Il;if(zt(t))return xl;throw Sl(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}(),Ol=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(function(e){return null==e||""===e||e!=e}(t))return null;r=r||this._locale;try{return function(e,t,n){return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l="",u=!1;if(isFinite(e)){var s=function(e){var t,n,r,i,o,a=Math.abs(e)+"",l=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),l=n-1,n=1),{digits:t,exponent:l,integerLen:n}}(e);a&&(s=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(s));var c=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){var d=o.match(pl);if(null===d)throw new Error("".concat(o," is not a valid digit info"));var p=d[1],g=d[3],m=d[5];null!=p&&(c=gl(p)),null!=g&&(h=gl(g)),null!=m?f=gl(m):null!=g&&h>f&&(f=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,l=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var s=1;s<a;s++)r[s]=0}if(l>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=t+e.integerLen,d=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),t>=10?1:0}),0);d&&(r.unshift(d),e.integerLen++)}(s,h,f);var v=s.digits,y=s.integerLen,b=s.exponent,_=[];for(u=v.every((function(e){return!e}));y<c;y++)v.unshift(0);for(;y<0;y++)v.unshift(0);y>0?_=v.splice(y,v.length):(_=v,v=[0]);var w=[];for(v.length>=t.lgSize&&w.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)w.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&w.unshift(v.join("")),l=w.join(dl(n,r)),_.length&&(l+=dl(n,i)+_.join("")),b&&(l+=dl(n,fl.Exponential)+"+"+b)}else l=dl(n,fl.Infinity);return l=e<0&&!u?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],l=a[0],u=a[1]||"";n.posPre=l.substr(0,l.indexOf("#"));for(var s=0;s<u.length;s++){var c=u.charAt(s);"0"===c?n.minFrac=n.maxFrac=s+1:"#"===c?n.maxFrac=s+1:n.posSuf+=c}var h=l.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return yi(e)[gi.NumberFormats][t]}(t,cl.Decimal),dl(t,fl.MinusSign)),t,fl.Group,fl.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),r,n)}catch(i){throw Sl(e,i.message)}}}]),e}(),Nl=function e(){_classCallCheck(this,e)},Pl=new Ee("DocumentToken");function Dl(e){return"server"===e}var Rl,Ml=((Rl=function e(){_classCallCheck(this,e)}).ngInjectableDef=pe({token:Rl,providedIn:"root",factory:function(){return new Ll(De(Pl),window,De(We))}}),Rl),Ll=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),Vl=new k((function(e){return e.complete()}));function Ul(e){return e?function(e){return new k((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Vl}function Fl(e){var t=new k((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}function Bl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];switch(P(r)?t.pop():r=void 0,t.length){case 0:return Ul(r);case 1:return r?G(t,r):Fl(t[0]);default:return G(t,r)}}var jl=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._value=e,n}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"_subscribe",this).call(this,e);return n&&!n.closed&&e.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),t}(O);function ql(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}ql.prototype=Object.create(Error.prototype);var zl=ql,Hl={},Wl=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Kl(e,this.resultSelector))}}]),e}(),Kl=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.values.push(Hl),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(q(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===Hl?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(z);function Gl(e){return new k((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Q(n):Ul()).subscribe(t)}))}function Ql(){return $(1)}function Yl(e,t){return function(n){return n.lift(new Xl(e,t))}}var Xl=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Jl(e,this.predicate,this.thisArg))}}]),e}(),Jl=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,i.thisArg=r,i.count=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),t}(m);function Zl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Zl.prototype=Object.create(Error.prototype);var $l=Zl;function eu(e){return function(t){return 0===e?Ul():t.lift(new tu(e))}}var tu=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new $l}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new nu(e,this.total))}}]),e}(),nu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.ring=new Array,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),t}(m);function ru(e,t,n){return function(r){return r.lift(new iu(e,t,n))}}var iu=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ou(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),ou=function(e){function t(e,n,i,o){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._tapNext=b,a._tapError=b,a._tapComplete=b,a._tapError=i||b,a._tapComplete=o||b,r(n)?(a._context=_assertThisInitialized(a),a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||b,a._tapError=n.error||b,a._tapComplete=n.complete||b),a}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),t}(m),au=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lu;return ru({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function lu(){return new zl}function uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new su(e))}}var su=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new cu(e,this.defaultValue))}}]),e}(),cu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).defaultValue=n,r.isEmpty=!0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),t}(m);function hu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Yl((function(t,n){return e(t,n,r)})):Z,eu(1),n?uu(t):au((function(){return new zl})))}}function fu(e){return function(t){var n=new du(e),r=t.lift(n);return n.caught=r}}var du=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pu(e,this.selector,this.caught))}}]),e}(),pu=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).selector=n,i.caught=r,i}return _inherits(t,e),_createClass(t,[{key:"error",value:function(e){if(!this.isStopped){var n;try{n=this.selector(e,this.caught)}catch(i){return void _get(_getPrototypeOf(t.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new D(this,void 0,void 0);this.add(r),q(this,n,void 0,void 0,r)}}}]),t}(z);function gu(e){return function(t){return 0===e?Ul():t.lift(new mu(e))}}var mu=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new $l}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new vu(e,this.total))}}]),e}(),vu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),t}(m);function yu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Yl((function(t,n){return e(t,n,r)})):Z,gu(1),n?uu(t):au((function(){return new zl})))}}var bu=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _u(e,this.predicate,this.thisArg,this.source))}}]),e}(),_u=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||_assertThisInitialized(o),o}return _inherits(t,e),_createClass(t,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),t}(m);function wu(e,t){return"function"==typeof t?function(n){return n.pipe(wu((function(n,r){return Q(e(n,r)).pipe(H((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Cu(e))}}var Cu=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ku(e,this.project))}}]),e}(),ku=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new D(this,void 0,void 0);this.destination.add(i),this.innerSubscription=q(this,e,t,n,i)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(t.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),t}(z);function Tu(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Su(e,t,n))}}var Su=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Eu(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Eu=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),t}(m);function Iu(e,t){return Y(e,t,1)}function xu(e){return function(t){return t.lift(new Au(e))}}var Au=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ou(e,this.callback))}}]),e}(),Ou=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).add(new d(n)),r}return _inherits(t,e),t}(m),Nu=null;function Pu(){return Nu}var Du,Ru={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Mu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vu=function(){if(Se.Node)return Se.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),Uu=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(e,t){return Vu.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Lu.hasOwnProperty(t)&&(t=Lu[t]))}return Mu[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Fu||(Fu=document.querySelector("base"))?Fu.getAttribute("href"):null;return null==n?null:(t=n,Du||(Du=document.createElement("a")),Du.setAttribute("href",t),"/"===Du.pathname.charAt(0)?Du.pathname:"/"+Du.pathname)}},{key:"resetBaseElement",value:function(){Fu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n=!0,r=!1,i=void 0;try{for(var o,a=e.split(";")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=l.indexOf("="),s=_slicedToArray(-1==u?[l,""]:[l.slice(0,u),l.slice(u+1)],2),c=s[0],h=s[1];if(c.trim()===t)return decodeURIComponent(h)}}catch(f){r=!0,i=f}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"attrToPropMap",get:function(){return Ru}}],[{key:"makeCurrent",value:function(){var e;e=new t,Nu||(Nu=e)}}]),t}(function(e){function t(){var e;_classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])}))}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return _inherits(t,e),_createClass(t,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),t}(function(){function e(){_classCallCheck(this,e),this.resourceLoaderType=null}return _createClass(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}())),Fu=null;function Bu(){return!!window.history.pushState}var ju=new Ee("TRANSITION_ID"),qu=[{provide:Ci,useFactory:function(e,t,n){return function(){n.get(ki).donePromise.then((function(){var n=Pu();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[ju,Pl,Et],multi:!0}],zu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){Se.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Se.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Se.getAllAngularRootElements=function(){return e.getAllRootElements()},Se.frameworkStabilizers||(Se.frameworkStabilizers=[]),Se.frameworkStabilizers.push((function(e){var t=Se.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Pu().isShadowRoot(t)?this.findTestabilityInTree(e,Pu().getHost(t),!0):this.findTestabilityInTree(e,Pu().parentElement(t),!0):null}}],[{key:"init",value:function(){var t;t=new e,io=t}}]),e}();function Hu(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Se.ng=Se.ng||{})[e]=t)}var Wu={ApplicationRef:fo,NgZone:Qi};function Ku(e){return To(e)}var Gu=new Ee("EventManagerPlugins"),Qu=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}(),Yu=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Pu().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Xu=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),Ju=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return _inherits(t,e),_createClass(t,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Pu().remove(e)}))}}]),t}(Xu),Zu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$u=/%COMP%/g;function es(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?es(e,i,n):(i=i.replace($u,e),n.push(i))}return n}function ts(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var ns=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new rs(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Be.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new as(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case Be.Native:case Be.ShadowDom:return new ls(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=es(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),rs=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Zu[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Zu[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Zu[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&nn.DashCase?e.style.setProperty(t,n,r&nn.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&nn.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){os(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return os(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ts(n)):this.eventManager.addEventListener(e,t,ts(n))}}]),e}(),is="@".charCodeAt(0);function os(e,t){if(e.charCodeAt(0)===is)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var as=function(e){function t(e,n,r,i){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).component=r;var a,l=es(i+"-"+r.id,r.styles,[]);return n.addStyles(l),o.contentAttr="_ngcontent-%COMP%".replace($u,i+"-"+r.id),o.hostAttr=(a=i+"-"+r.id,"_nghost-%COMP%".replace($u,a)),o}return _inherits(t,e),_createClass(t,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,n){var r=_get(_getPrototypeOf(t.prototype),"createElement",this).call(this,e,n);return _get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),t}(rs),ls=function(e){function t(e,n,r,i){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===Be.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=es(i.id,i.styles,[]),l=0;l<a.length;l++){var u=document.createElement("style");u.textContent=a[l],o.shadowRoot.appendChild(u)}return o}return _inherits(t,e),_createClass(t,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"insertBefore",value:function(e,n,r){return _get(_getPrototypeOf(t.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),n,r)}},{key:"removeChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(t.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),t}(rs),us="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},ss=us("addEventListener"),cs=us("removeEventListener"),hs={},fs="__zone_symbol__propagationStopped",ds=function(){var e="undefined"!=typeof Zone&&Zone[us("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),ps=function(e){return!!ds&&ds.hasOwnProperty(e)},gs=function(e){var t=hs[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),a=0;a<o.length&&!0!==e[fs];a++){var l=o[a];l.zone!==Zone.current?l.zone.run(l.handler,this,r):l.handler.apply(this,r)}}}},ms=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).ngZone=n,r&&Dl(r)||i.patchEvent(),i}return _inherits(t,e),_createClass(t,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[fs]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this,i=n;if(!e[ss]||Qi.isInAngularZone()&&!ps(t))e.addEventListener(t,i,!1);else{var o=hs[t];o||(o=hs[t]=us("ANGULAR"+t+"FALSE"));var a=e[o],l=a&&a.length>0;a||(a=e[o]=[]);var u=ps(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var s=!1,c=0;c<a.length;c++)if(a[c].handler===i){s=!0;break}s||a.push({zone:u,handler:i})}l||e[ss](t,gs,!1)}return function(){return r.removeEventListener(e,t,i)}}},{key:"removeEventListener",value:function(e,t,n){var r=e[cs];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=hs[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,l=0;l<o.length;l++)if(o[l].handler===n){a=!0,o.splice(l,1);break}a?0===o.length&&r.apply(e,[t,gs,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),t}(Yu),vs={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ys=new Ee("HammerGestureConfig"),bs=new Ee("HammerLoader"),_s=function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}(),ws=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._config=n,o.console=r,o.loader=i,o}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return!(!vs.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(e),a=function(e){i.runGuarded((function(){n(e)}))};return o.on(t,a),function(){o.off(t,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),t}(Yu),Cs=["alt","control","meta","shift"],ks={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Ts=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return null!=t.parseEventName(e)}},{key:"addEventListener",value:function(e,n,r){var i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Pu().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=t._normalizeKey(n.pop()),o="";if(Cs.forEach((function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")})),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=Pu().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Cs.forEach((function(r){r!=n&&(0,ks[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,n,r){return function(i){t.getEventFullKey(i)===e&&r.runGuarded((function(){return n(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),t}(Yu),Ss=function e(){_classCallCheck(this,e)},Es=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n}return _inherits(t,e),_createClass(t,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case mt.NONE:return t;case mt.HTML:return t instanceof xs?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{tt=tt||new Ye(e);var r=t?String(t):"";n=tt.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=tt.getInertBodyElement(r)}while(r!==o);var a=new ht,l=a.sanitizeChildren(gt(n)||n);return Qe()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n)for(var u=gt(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(t)));case mt.STYLE:return t instanceof As?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(bt);return t&&Ze(t[1])===t[1]||e.match(yt)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Qe()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t));case mt.SCRIPT:if(t instanceof Os)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case mt.URL:return t instanceof Ps||t instanceof Ns?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Ze(String(t)));case mt.RESOURCE_URL:if(t instanceof Ps)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof Is)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(e){return new xs(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new As(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new Os(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Ns(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Ps(e)}}]),t}(Ss),Is=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),xs=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"HTML"}}]),t}(Is),As=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Style"}}]),t}(Is),Os=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Script"}}]),t}(Is),Ns=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"URL"}}]),t}(Is),Ps=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),t}(Is),Ds=lo(Eo,"browser",[{provide:xi,useValue:"browser"},{provide:Ii,useValue:function(){Uu.makeCurrent(),zu.init()},multi:!0},{provide:nl,useClass:function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._init(),n}return _inherits(t,e),_createClass(t,[{key:"_init",value:function(){this.location=Pu().getLocation(),this._history=Pu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Pu().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Pu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Pu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Bu()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Bu()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),t}(nl),deps:[Pl]},{provide:Pl,useFactory:function(){return document},deps:[]}]);function Rs(){return new We}var Ms=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Ti,useValue:t.appId},{provide:ju,useExisting:Ti},qu]}}}]),e}();"undefined"!=typeof window&&window;var Ls=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Vs=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).navigationTrigger=i,r.restoredState=o,r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(Ls),Us=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),t}(Ls),Fs=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).reason=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(Ls),Bs=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).error=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),t}(Ls),js=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Ls),qs=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Ls),zs=function(e){function t(e,n,r,i,o){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),t}(Ls),Hs=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Ls),Ws=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Ls),Ks=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Gs=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Qs=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ys=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Xs=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Js=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Zs=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),$s=function e(){_classCallCheck(this,e)},ec=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function tc(e){return new ec(e)}function nc(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function rc(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],l=e[o];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var ic=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function oc(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];ac(r,lc(t,r))}}function ac(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&oc(e.children,t)}function lc(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function uc(e){var t=e.children&&e.children.map(uc),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=$s),n}function sc(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(e[n=r[o]]!==t[n])return!1;return!0}function cc(e){return Array.prototype.concat.apply([],e)}function hc(e){return e.length>0?e[e.length-1]:null}function fc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function dc(e){return zt(e)?e:qt(e)?Q(Promise.resolve(e)):Bl(e)}function pc(e,t,n){return n?function(e,t){return sc(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!yc(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!yc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!yc(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),l=i.slice(n.segments.length);return!!yc(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,l)}(t,n,n.segments)}(e.root,t.root)}var gc=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Cc.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=tc(this.queryParams)),this._queryParamMap}}]),e}(),mc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,fc(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return kc(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),vc=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Ac(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=tc(this.parameters)),this._parameterMap}}]),e}();function yc(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function bc(e,t){var n=[];return fc(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),fc(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var _c=function e(){_classCallCheck(this,e)},wc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Rc(e);return new gc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return kc(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return fc(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=bc(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(kc(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Sc(e),"=").concat(Sc(t))})).join("&"):"".concat(Sc(e),"=").concat(Sc(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Cc=new wc;function kc(e){return e.segments.map((function(e){return Ac(e)})).join("/")}function Tc(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sc(e){return Tc(e).replace(/%3B/gi,";")}function Ec(e){return Tc(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ic(e){return decodeURIComponent(e)}function xc(e){return Ic(e.replace(/\+/g,"%20"))}function Ac(e){return"".concat(Ec(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Ec(e),"=").concat(Ec(t[e]))})).join("")));var t}var Oc=/^[^\/()?;=#]+/;function Nc(e){var t=e.match(Oc);return t?t[0]:""}var Pc=/^[^=?&#]+/,Dc=/^[^?&#]+/,Rc=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mc([],{}):new mc([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new mc(e,t)),n}},{key:"parseSegment",value:function(){var e=Nc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new vc(Ic(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Nc(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Nc(this.remaining);r&&(n=r,this.capture(n))}e[Ic(t)]=Ic(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Pc);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Dc);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=xc(t),o=xc(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Nc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new mc([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Mc=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Lc(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Lc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Vc(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Vc(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Lc(e,t){if(e===t.value)return t;var n=!0,r=!1,i=void 0;try{for(var o,a=t.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=Lc(e,o.value);if(l)return l}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}function Vc(e,t){if(e===t.value)return[t];var n=!0,r=!1,i=void 0;try{for(var o,a=t.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=Vc(e,o.value);if(l.length)return l.unshift(t),l}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return[]}var Uc=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Fc(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Bc=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).snapshot=n,Kc(_assertThisInitialized(r),e),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return this.snapshot.toString()}}]),t}(Mc);function jc(e,t){var n=function(e,t){var n=new Hc([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Wc("",new Uc(n,[]))}(e,t),r=new jl([new vc("",{})]),i=new jl({}),o=new jl({}),a=new jl({}),l=new jl(""),u=new qc(r,i,a,l,o,"primary",t,n.root);return u.snapshot=n.root,new Bc(new Uc(u,[]),n)}var qc=function(){function e(t,n,r,i,o,a,l,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(H((function(e){return tc(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H((function(e){return tc(e)})))),this._queryParamMap}}]),e}();function zc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Hc=function(){function e(t,n,r,i,o,a,l,u,s,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=u,this._urlSegment=s,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=tc(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=tc(this.queryParams)),this._queryParamMap}}]),e}(),Wc=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).url=e,Kc(_assertThisInitialized(r),n),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return Gc(this._root)}}]),t}(Mc);function Kc(e,t){t.value._routerState=e,t.children.forEach((function(t){return Kc(e,t)}))}function Gc(e){var t=e.children.length>0?" { ".concat(e.children.map(Gc).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Qc(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,sc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),sc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!sc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),sc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Yc(e,t){var n,r;return sc(e.params,t.params)&&yc(n=e.url,r=t.url)&&n.every((function(e,t){return sc(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Yc(e.parent,t.parent))}function Xc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Jc(e,t,n,r,i){var o={};return r&&fc(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new gc(n.root===e?t:function e(t,n,r){var i={};return fc(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new mc(t.segments,i)}(n.root,e,t),o,i)}var Zc=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Xc(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==hc(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),$c=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function eh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function th(e,t,n){if(e||(e=new mc([],{})),0===e.segments.length&&e.hasChildren())return nh(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],l=eh(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!ah(l,u,a))return o;r+=2}else{if(!ah(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new mc(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new mc(e.segments.slice(r.pathIndex),e.children),nh(o,0,i)}return r.match&&0===i.length?new mc(e.segments,{}):r.match&&!e.hasChildren()?rh(e,t,n):r.match?nh(e,0,i):rh(e,t,n)}function nh(e,t,n){if(0===n.length)return new mc(e.segments,{});var r=function(e){return"object"!=typeof e[0]?{primary:e}:void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return fc(r,(function(n,r){null!==n&&(i[r]=th(e.children[r],t,n))})),fc(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new mc(e.segments,i)}function rh(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=ih(n[i].outlets);return new mc(r,o)}if(0===i&&Xc(n[0]))r.push(new vc(e.segments[t].path,n[0])),i++;else{var a=eh(n[i]),l=i<n.length-1?n[i+1]:null;a&&l&&Xc(l)?(r.push(new vc(a,oh(l))),i+=2):(r.push(new vc(a,{})),i++)}}return new mc(r,{})}function ih(e){var t={};return fc(e,(function(e,n){null!==e&&(t[n]=rh(new mc([],{}),0,e))})),t}function oh(e){var t={};return fc(e,(function(e,n){return t[n]="".concat(e)})),t}function ah(e,t,n){return e==n.path&&sc(t,n.parameters)}var lh=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Qc(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Fc(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),fc(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Fc(e),o=e.value.component?r.children:t;fc(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Fc(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Js(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Ys(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Qc(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),uh(l.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),s=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=s,a.outlet&&a.outlet.activateWith(r,s),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function uh(e){Qc(e.value),e.children.forEach(uh)}function sh(e){return"function"==typeof e}function ch(e){return e instanceof gc}var hh=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},fh=function e(t){_classCallCheck(this,e),this.urlTree=t};function dh(e){return new k((function(t){return t.error(new hh(e))}))}function ph(e){return new k((function(t){return t.error(new fh(e))}))}function gh(e){return new k((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var mh=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Le)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(H((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(fu((function(t){if(t instanceof fh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof hh)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(H((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(fu((function(e){if(e instanceof hh)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new mc([],{primary:e}):e;return new gc(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(H((function(e){return new mc([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Bl({});var o=[],a=[],l={};return fc(n,(function(n,i){var u=function(n,i){return r.expandSegmentGroup(e,t,i,n)}(i,n).pipe(H((function(e){return l[i]=e})));"primary"===i?o.push(u):a.push(u)})),Bl.apply(null,o.concat(a)).pipe(Ql(),hu(),H((function(){return l})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Bl.apply(void 0,_toConsumableArray(n)).pipe(H((function(l){return a.expandSegmentAgainstRoute(e,t,n,l,r,i,o).pipe(fu((function(e){if(e instanceof hh)return Bl(null);throw e})))})),Ql(),yu((function(e){return!!e})),fu((function(e,n){if(e instanceof zl||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Bl(new mc([],{}));throw new hh(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return _h(r)!==o?dh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):dh(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ph(o):this.lineralizeSegments(n,o).pipe(Y((function(n){var o=new mc(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,l=vh(t,r,i),u=l.matched,s=l.consumedSegments,c=l.lastChild,h=l.positionalParamSegments;if(!u)return dh(t);var f=this.applyRedirectCommands(s,r.redirectTo,h);return r.redirectTo.startsWith("/")?ph(f):this.lineralizeSegments(r,f).pipe(Y((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(H((function(e){return n._loadedConfig=e,new mc(r,{})}))):Bl(new mc(r,{}));var o=vh(t,n,r),a=o.matched,l=o.consumedSegments,u=o.lastChild;if(!a)return dh(t);var s=r.slice(u);return this.getChildConfig(e,n,r).pipe(Y((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return bh(e,t,n)&&"primary"!==_h(n)}))}(e,n,r)?{segmentGroup:yh(new mc(t,function(e,t){var n={};n.primary=t;var r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;""===u.path&&"primary"!==_h(u)&&(n[_h(u)]=new mc([],{}))}}catch(s){i=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(r,new mc(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return bh(e,t,n)}))}(e,n,r)?{segmentGroup:yh(new mc(e.segments,function(e,t,n,r){var i={},o=!0,a=!1,l=void 0;try{for(var u,s=n[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;bh(e,t,c)&&!r[_h(c)]&&(i[_h(c)]=new mc([],{}))}}catch(h){a=!0,l=h}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,l,s,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(H((function(e){return new mc(l,e)}))):0===r.length&&0===u.length?Bl(new mc(l,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(H((function(e){return new mc(l.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Bl(new ic(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Bl(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Q(i).pipe(H((function(r){var i,o=e.get(r);if(function(e){return e&&sh(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!sh(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return dc(i)}))).pipe(Ql(),(r=function(e){return!0===e},function(e){return e.lift(new bu(r,void 0,e))})):Bl(!0)}(e.injector,t,n).pipe(Y((function(n){return n?r.configLoader.load(e.injector,t).pipe(H((function(e){return t._loadedConfig=e,e}))):function(e){return new k((function(t){return t.error(nc("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Bl(new ic([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Bl(n);if(r.numberOfChildren>1||!r.children.primary)return gh(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new gc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return fc(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return fc(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new mc(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n=0,r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u.path===e.path)return t.splice(n),u;n++}}catch(s){i=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return e}}]),e}();function vh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||rc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function yh(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new mc(e.segments.concat(t.segments),t.children)}return e}function bh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function _h(e){return e.outlet||"primary"}var wh=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Ch=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function kh(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Th(e,t,n){var r=Fc(e),i=e.value;fc(r,(function(e,r){Th(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Ch(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Sh=Symbol("INITIAL_VALUE");function Eh(){return wu((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return P(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),G(t,i).lift(new Wl(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(gu(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];P(n)?t.pop():n=null;var r=t.length;return function(){return Ql()(Bl.apply(void 0,arguments))}(1!==r||n?r>0?G(t,n):Ul(n):Fl(t[0]),e)}}(Sh))})))).pipe(Tu((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Sh)return e;if(r===Sh&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||ch(r))return r}return e}),e)}),Sh),Yl((function(e){return e!==Sh})),H((function(e){return ch(e)?e:!0===e})),gu(1))}))}function Ih(e,t){return null!==e&&t&&t(new Xs(e)),Bl(!0)}function xh(e,t){return null!==e&&t&&t(new Qs(e)),Bl(!0)}function Ah(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Bl(r.map((function(r){return Gl((function(){var i,o=kh(r,t,n);if(function(e){return e&&sh(e.canActivate)}(o))i=dc(o.canActivate(t,e));else{if(!sh(o))throw new Error("Invalid CanActivate guard");i=dc(o(t,e))}return i.pipe(yu())}))}))).pipe(Eh()):Bl(!0)}function Oh(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Gl((function(){return Bl(t.guards.map((function(i){var o,a=kh(i,t.node,n);if(function(e){return e&&sh(e.canActivateChild)}(a))o=dc(a.canActivateChild(r,e));else{if(!sh(a))throw new Error("Invalid CanActivateChild guard");o=dc(a(r,e))}return o.pipe(yu())}))).pipe(Eh())}))}));return Bl(i).pipe(Eh())}var Nh=function e(){_classCallCheck(this,e)},Ph=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Mh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Hc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Uc(n,t),i=new Wc(this.url,r);return this.inheritParamsAndData(i._root),Bl(i)}catch(o){return new k((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=zc(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=bc(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=l.value;try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(c){if(!(c instanceof Nh))throw c}}}catch(h){o=!0,a=h}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}if(this.noLeftoversInUrl(t,n,r))return[];throw new Nh}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Nh;if((e.outlet||"primary")!==r)throw new Nh;var i,o=[],a=[];if("**"===e.path){var l=n.length>0?hc(n).parameters:{};i=new Hc(n,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uh(e),r,e.component,e,Dh(t),Rh(t)+n.length,Fh(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Nh;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||rc)(n,e,t);if(!r)throw new Nh;var i={};fc(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Hc(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uh(e),r,e.component,e,Dh(t),Rh(t)+o.length,Fh(e))}var s=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=Mh(t,o,a,s,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(s,h);return[new Uc(i,d)]}if(0===s.length&&0===f.length)return[new Uc(i,[])];var p=this.processSegment(s,h,f,"primary");return[new Uc(i,p)]}}]),e}();function Dh(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Rh(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Mh(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Lh(e,t,n)&&"primary"!==Vh(n)}))}(e,n,r)){var o=new mc(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o=!0,a=!1,l=void 0;try{for(var u,s=n[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;if(""===c.path&&"primary"!==Vh(c)){var h=new mc([],{});h._sourceSegment=e,h._segmentIndexShift=t.length,i[Vh(c)]=h}}}catch(f){a=!0,l=f}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return i}(e,t,r,new mc(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Lh(e,t,n)}))}(e,n,r)){var a=new mc(e.segments,function(e,t,n,r,i,o){var a={},l=!0,u=!1,s=void 0;try{for(var c,h=r[Symbol.iterator]();!(l=(c=h.next()).done);l=!0){var f=c.value;if(Lh(e,n,f)&&!i[Vh(f)]){var d=new mc([],{});d._sourceSegment=e,d._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[Vh(f)]=d}}}catch(p){u=!0,s=p}finally{try{l||null==h.return||h.return()}finally{if(u)throw s}}return Object.assign({},i,a)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var l=new mc(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function Lh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Vh(e){return e.outlet||"primary"}function Uh(e){return e.data||{}}function Fh(e){return e.resolve||{}}function Bh(e,t,n,r){var i=kh(e,t,r);return dc(i.resolve?i.resolve(t,n):i(t,n))}function jh(e){return function(t){return t.pipe(wu((function(t){var n=e(t);return n?Q(n).pipe(H((function(){return t}))):Q([t])})))}}var qh=function e(){_classCallCheck(this,e)},zh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Hh=new Ee("ROUTES"),Wh=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(H((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new ic(cc(i.injector.get(Hh)).map(uc),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Q(this.loader.load(e)):dc(e()).pipe(Y((function(e){return e instanceof Ve?Bl(e):Q(t.compiler.compileModuleAsync(e))})))}}]),e}(),Kh=function e(){_classCallCheck(this,e)},Gh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Qh(e){throw e}function Yh(e,t,n){return t.parse("/")}function Xh(e,t){return Bl(null)}var Jh=function(){function e(t,n,r,i,o,a,l,u){var s=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=Qh,this.malformedUriErrorHandler=Yh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xh,afterPreactivation:Xh},this.urlHandlingStrategy=new Gh,this.routeReuseStrategy=new zh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Le),this.console=o.get(Oi);var c=o.get(Qi);this.isNgZoneEnabled=c instanceof Qi,this.resetConfig(u),this.currentUrlTree=new gc(new mc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wh(a,l,(function(e){return s.triggerEvent(new Ks(e))}),(function(e){return s.triggerEvent(new Gs(e))})),this.routerState=jc(this.currentUrlTree,this.rootComponentType),this.transitions=new jl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Yl((function(e){return 0!==e.id})),H((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),wu((function(e){var r,i,o,a=!1,l=!1;return Bl(e).pipe(ru((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),wu((function(e){var r,i,o,a,l=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||l)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Bl(e).pipe(wu((function(e){var r=t.transitions.getValue();return n.next(new Vs(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Vl:[e]})),wu((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(wu((function(e){return function(e,t,n,r,i){return new mh(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(H((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),ru((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Y((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ph(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(H((function(e){return Object.assign({},r,{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),ru((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),ru((function(e){var r=new js(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(l&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,s=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new Vs(u,t.serializeUrl(s),c,h);n.next(d);var p=jc(s,t.rootComponentType).snapshot;return Bl(Object.assign({},e,{targetSnapshot:p,urlAfterRedirects:s,extras:Object.assign({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Vl})),jh((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,l=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!l,replaceUrl:!!u})})),ru((function(e){var n=new qs(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),H((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Fc(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,l=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){var s=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!yc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yc(e.url,t.url)||!sc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yc(e,t)||!sc(e.queryParams,t.queryParams);case"paramsChange":default:return!Yc(e,t)}}(l,a,a.routeConfig.runGuardsAndResolvers);s?o.canActivateChecks.push(new wh(i)):(a.data=l.data,a._resolvedData=l._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),s&&o.canDeactivateChecks.push(new Ch(u&&u.outlet&&u.outlet.component||null,l))}else l&&Th(n,u,o),o.canActivateChecks.push(new wh(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),fc(a,(function(e,t){return Th(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Y((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,l=o.canDeactivateChecks;return 0===l.length&&0===a.length?Bl(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Q(e).pipe(Y((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Bl(o.map((function(o){var a,l=kh(o,t,i);if(function(e){return e&&sh(e.canDeactivate)}(l))a=dc(l.canDeactivate(e,t,n,r));else{if(!sh(l))throw new Error("Invalid CanDeactivate guard");a=dc(l(e,t,n,r))}return a.pipe(yu())}))).pipe(Eh()):Bl(!0)}(e.component,e.route,n,t,r)})),yu((function(e){return!0!==e}),!0))}(l,r,i,e).pipe(Y((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Q(t).pipe(Iu((function(t){return Q([xh(t.route.parent,r),Ih(t.route,r),Oh(e,t.path,n),Ah(e,t.route,n)]).pipe(Ql(),yu((function(e){return!0!==e}),!0))})),yu((function(e){return!0!==e}),!0))}(r,a,e,t):Bl(n)})),H((function(e){return Object.assign({},n,{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),ru((function(e){if(ch(e.guardsResult)){var n=nc('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),ru((function(e){var n=new zs(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Yl((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Fs(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),jh((function(e){if(e.guards.canActivateChecks.length)return Bl(e).pipe(ru((function(e){var n=new Hs(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Y((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Q(i).pipe(Iu((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Bl({});if(1===i.length){var o=i[0];return Bh(e[o],t,n,r).pipe(H((function(e){return _defineProperty({},o,e)})))}var a={};return Q(i).pipe(Y((function(i){return Bh(e[i],t,n,r).pipe(H((function(e){return a[i]=e,e})))}))).pipe(hu(),H((function(){return a})))}(e._resolve,e,t,r).pipe(H((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,zc(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return _(Tu(e,t),eu(1),uu(t))(n)}:function(t){return _(Tu((function(t,n,r){return e(t,n,r+1)})),eu(1))(t)}}((function(e,t){return e})),H((function(t){return e}))):Bl(e)})))}),ru((function(e){var n=new Ws(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),jh((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,l=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!l,replaceUrl:!!u})})),H((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i=!0,o=!1,a=void 0;try{for(var l,u=r.children[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=l.value;if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s)}}catch(c){o=!0,a=c}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return e(t,n)}))}(t,n,r);return new Uc(i,o)}var a=t.retrieve(n.value);if(a){var l=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,l),l}var u,s=new qc(new jl((u=n.value).url),new jl(u.params),new jl(u.queryParams),new jl(u.fragment),new jl(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return e(t,n)}));return new Uc(s,c)}(e,t._root,n?n._root:void 0);return new Bc(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:n})})),ru((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,i=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},H((function(e){return new lh(i,e.targetRouterState,e.currentRouterState,o).activate(r),e}))),ru({next:function(){a=!0},complete:function(){a=!0}}),xu((function(){if(!a&&!l){t.resetUrlToCurrentUrlTree();var r=new Fs(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null})),fu((function(r){if(l=!0,(u=r)&&u.ngNavigationCancelingError){var i=ch(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new Fs(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),e.resolve(!1),i&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new Bs(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(s){e.reject(s)}}var u;return Vl})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){oc(e),this.config=e.map(uc),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,l=t.preserveFragment;Qe()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,s=l?this.currentUrlTree.fragment:i,c=null;if(a)switch(a){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Jc(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Zc(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return fc(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Zc(n,t,r)}(n);if(o.toRoot())return Jc(t.root,new mc([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new $c(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new $c(n.snapshot._urlSegment,!0,0);var r=Xc(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new $c(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),l=a.processChildren?nh(a.segmentGroup,a.index,o.commands):th(a.segmentGroup,a.index,o.commands);return Jc(a.segmentGroup,l,t,r,i)}(u,this.currentUrlTree,e,c,s)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Qe()&&this.isNgZoneEnabled&&!Qi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ch(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(ch(e))return pc(this.currentUrlTree,e,t);var n=this.parseUrl(e);return pc(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Us(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,a=null,l=new Promise((function(e,t){o=e,a=t})),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}(),Zh=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:ef(this.skipLocationChange),replaceUrl:ef(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Qe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ef(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ef(this.preserveFragment)})}}]),e}(),$h=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Us&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:ef(this.skipLocationChange),replaceUrl:ef(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Qe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ef(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ef(this.preserveFragment)})}}]),e}();function ef(e){return""===e||!!e}var tf=function(){function e(t,n,r,i,o){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof Us&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}(),nf=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new rf,this.attachRef=null},rf=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new nf,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),of=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new bi,this.deactivateEvents=new bi,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new af(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}(),af=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===qc?this.route:e===rf?this.childContexts:this.parent.get(e,t)}}]),e}(),lf=function e(){_classCallCheck(this,e)},uf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(fu((function(){return Bl(null)})))}}]),e}(),sf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Bl(null)}}]),e}(),cf=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Wh(n,r,(function(e){return t.triggerEvent(new Ks(e))}),(function(e){return t.triggerEvent(new Gs(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Yl((function(e){return e instanceof Us})),Iu((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Le);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var s=u._loadedConfig;n.push(this.processRoutes(s.module,s.routes))}else u.loadChildren&&!u.canLoad?n.push(this.preloadConfig(e,u)):u.children&&n.push(this.processRoutes(e,u.children))}}catch(c){i=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return Q(n).pipe($(),H((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Y((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),hf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Vs?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Us&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Zs&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Zs(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),ff=new Ee("ROUTER_CONFIGURATION"),df=new Ee("ROUTER_FORROOT_GUARD"),pf=[al,{provide:_c,useClass:wc},{provide:Jh,useFactory:wf,deps:[fo,_c,rf,al,Et,go,Fi,Hh,ff,[Kh,new se],[qh,new se]]},rf,{provide:qc,useFactory:Cf,deps:[Jh]},{provide:go,useClass:yo},cf,sf,uf,{provide:ff,useValue:{enableTracing:!1}}];function gf(){return new ao("Router",Jh)}var mf=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[pf,_f(t),{provide:df,useFactory:bf,deps:[[Jh,new se,new he]]},{provide:ff,useValue:n||{}},{provide:il,useFactory:yf,deps:[nl,[new ue(ol),new se],ff]},{provide:hf,useFactory:vf,deps:[Jh,Ml,ff]},{provide:lf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:sf},{provide:ao,multi:!0,useFactory:gf},[kf,{provide:Ci,multi:!0,useFactory:Tf,deps:[kf]},{provide:Ef,useFactory:Sf,deps:[kf]},{provide:Ai,multi:!0,useExisting:Ef}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[_f(t)]}}}]),e}();function vf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new hf(e,t,n)}function yf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new ul(e,t):new sl(e,t)}function bf(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _f(e){return[{provide:Rt,multi:!0,useValue:e},{provide:Hh,multi:!0,useValue:e}]}function wf(e,t,n,r,i,o,a,l){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},s=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new Jh(null,t,n,r,i,o,a,cc(l));if(s&&(h.urlHandlingStrategy=s),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Pu();h.events.subscribe((function(e){f.logGroup("Router Event: ".concat(e.constructor.name)),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Cf(e){return e.routerState.root}var kf=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(rl,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Jh),i=e.injector.get(ff);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Bl(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(ff),n=this.injector.get(cf),r=this.injector.get(hf),i=this.injector.get(Jh),o=this.injector.get(fo);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function Tf(e){return e.appInitializer.bind(e)}function Sf(e){return e.bootstrapListener.bind(e)}var Ef=new Ee("Router Initializer"),If=qn({encapsulation:2,styles:[],data:{}});function xf(e){return Qo(0,[(e()(),Do(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Xr(1,212992,null,0,of,[rf,Sn,Yt,[8,null],Ct],null,null)],(function(e,t){e(t,1,0)}),null)}var Af=Er("ng-component",$s,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"ng-component",[],null,null,null,xf,If)),Xr(1,49152,null,0,$s,[],null,null)],null,null)}),{},{},[]),Of=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),Nf=qn({encapsulation:0,styles:[[".main[_ngcontent-%COMP%]{min-height:700px;font-family:'Roboto Condensed',sans-serif}a[_ngcontent-%COMP%]{height:50px;font-size:20px}"]],data:{}});function Pf(e){return Qo(0,[(e()(),Do(0,0,null,null,25,"div",[["class","container-fluid mt-2 main"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,19,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Do(3,0,null,null,18,"div",[["aria-orientation","vertical"],["class","nav flex-column nav-pills"],["id","v-pills-tab"],["role","tablist"]],null,null,null,null,null)),(e()(),Do(4,0,null,null,5,"a",[["class","nav-link"],["routerLink","admin-clients"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(5,671744,[[2,4]],0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),Xr(6,1720320,null,2,tf,[Jh,$t,rn,[2,Zh],[2,$h]],{routerLinkActive:[0,"routerLinkActive"]},null),Uo(603979776,1,{links:1}),Uo(603979776,2,{linksWithHrefs:1}),(e()(),Wo(-1,null,["Clients"])),(e()(),Do(10,0,null,null,5,"a",[["class","nav-link"],["routerLink","admin-products"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(11,671744,[[4,4]],0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),Xr(12,1720320,null,2,tf,[Jh,$t,rn,[2,Zh],[2,$h]],{routerLinkActive:[0,"routerLinkActive"]},null),Uo(603979776,3,{links:1}),Uo(603979776,4,{linksWithHrefs:1}),(e()(),Wo(-1,null,["Products"])),(e()(),Do(16,0,null,null,5,"a",[["class","nav-link"],["routerLink","admin-orders"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(17,671744,[[6,4]],0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),Xr(18,1720320,null,2,tf,[Jh,$t,rn,[2,Zh],[2,$h]],{routerLinkActive:[0,"routerLinkActive"]},null),Uo(603979776,5,{links:1}),Uo(603979776,6,{linksWithHrefs:1}),(e()(),Wo(-1,null,["Orders"])),(e()(),Do(22,0,null,null,3,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),Do(23,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(e()(),Do(24,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Xr(25,212992,null,0,of,[rf,Sn,Yt,[8,null],Ct],null,null)],(function(e,t){e(t,5,0,"admin-clients"),e(t,6,0,"active"),e(t,11,0,"admin-products"),e(t,12,0,"active"),e(t,17,0,"admin-orders"),e(t,18,0,"active"),e(t,25,0)}),(function(e,t){e(t,4,0,Vr(t,5).target,Vr(t,5).href),e(t,10,0,Vr(t,11).target,Vr(t,11).href),e(t,16,0,Vr(t,17).target,Vr(t,17).href)}))}var Df=Er("app-admin",Of,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-admin",[],null,null,null,Pf,Nf)),Xr(1,114688,null,0,Of,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Rf=function(){function e(t,n){_classCallCheck(this,e),this.firestore=t,this.clientsService=n,this.getClients()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getClients",value:function(){var e=this;this.clientsService.getCln().subscribe((function(t){e.clients=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),console.log(e.clients)}))}},{key:"deleteClient",value:function(e){this.firestore.doc("clients/"+e).delete()}}]),e}(),Mf=n("mrSG"),Lf=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r.pending=!1,r}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),t}(function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),t}(d)),Vf=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),Uf=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vf.now;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,(function(){return t.delegate&&t.delegate!==_assertThisInitialized(n)?t.delegate.now():r()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,r):_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),t}(Vf),Ff=new Uf(Lf);function Bf(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ff;return new k((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot(n)})):r=e.onSnapshot(n),function(){null!=r&&r()}}))}(e,t)}function jf(e,t){return Bf(e,t).pipe(H((function(e){return{payload:e,type:"query"}})))}var qf,zf=((qf=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Bl(this.value);case"E":return e=this.error,new k((function(t){return t.error(e)}));case"C":return Ul()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new qf("C"),qf.undefinedValueNotification=new qf("N",void 0),qf);function Hf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Wf(e,t))}}var Wf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Kf(e,this.scheduler,this.delay))}}]),e}(),Kf=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).scheduler=n,r.delay=i,r}return _inherits(t,e),_createClass(t,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Gf(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(zf.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(zf.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(zf.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),t}(m),Gf=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n};function Qf(e,t){return jf(e,t).pipe(H((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function Yf(e,t,n){return jf(e,n).pipe(H((function(e){return e.payload.docChanges()})),Tu((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),H((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function Xf(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var Jf=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?Qf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Yl((function(e){return e.length>0}))):Qf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Tu((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Xf(e);return Yf(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign({},t.data(),_defineProperty({},e.idField,t.id)):t.data()}))})))}},{key:"get",value:function(e){return Q(this.query.get(e)).pipe(Hf(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new Zf(this.ref.doc(e),this.afs)}}]),e}(),Zf=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Nd(this.ref.collection(e),t),r=n.ref,i=n.query;return new Jf(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Bf(this.ref,this.afs.schedulers.outsideAngular).pipe(H((function(e){return{payload:e,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(H((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return Q(this.ref.get(e)).pipe(Hf(this.afs.schedulers.insideAngular))}}]),e}(),$f=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?Qf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Yl((function(e){return e.length>0}))):Qf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Tu((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Xf(e);return Yf(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return jf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H((function(e){return e.payload.docs.map((function(e){return e.data()}))})))}},{key:"get",value:function(e){return Q(this.query.get(e)).pipe(Hf(this.afs.schedulers.insideAngular))}}]),e}(),ed=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,n){return n>0||this.closed?_get(_getPrototypeOf(t.prototype),"execute",this).call(this,e,n):this._execute(e,n)}},{key:"requestAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,r):e.flush(this)}}]),t}(Lf),td=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Uf))(ed),nd=1,rd={},id=function(e){var t=nd++;return rd[t]=e,Promise.resolve().then((function(){return function(e){var t=rd[e];t&&t()}(t)})),t},od=function(e){delete rd[e]},ad=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r}return _inherits(t,e),_createClass(t,[{key:"requestAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=id(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(t.prototype),"recycleAsyncId",this).call(this,e,n,r);0===e.actions.length&&(od(n),e.scheduled=void 0)}}]),t}(Lf),ld=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),t}(Uf))(ad),ud=function(e){function t(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ld;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,n.delayTime=i,n.scheduler=o,(u(r=i)||!(r-parseFloat(r)+1>=0)||i<0)&&(n.delayTime=0),o&&"function"==typeof o.schedule||(n.scheduler=ld),n}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(t.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ld;return new t(e,n,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),t}(k),sd=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new ud(t,this.delay,this.scheduler).subscribe(e)}}]),e}();function cd(){}var hd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:td;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),fd=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",cd,{},cd,cd)})),t.pipe(ru(n,n,n)).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),e}(),dd=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new hd(Zone.current)})),this.insideAngular=t.run((function(){return new hd(Zone.current,Ff)}))};function pd(e,t){return function(n){return Dl(t)&&(n=n.lift(new fd(e.ngZone))),n.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new sd(e,t))}}(e.outsideAngular),Hf(e.insideAngular))}}var gd,md=n("Wcq6"),vd=n.n(md),yd=new Ee("angularfire2.app.options"),bd=new Ee("angularfire2.app.nameOrConfig"),_d=yd,wd=bd,Cd=function e(){_classCallCheck(this,e)},kd=new an("5.4.2");function Td(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",vd.a.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return vd.a.initializeApp(e,r)}))}var Sd=gd=function(){function e(t){_classCallCheck(this,e),vd.a.registerVersion&&(vd.a.registerVersion("angularfire",kd.full,t.toString()),vd.a.registerVersion("angular",ln.full))}return _createClass(e,null,[{key:"initializeApp",value:function(e,t){return{ngModule:gd,providers:[{provide:_d,useValue:e},{provide:wd,useValue:t}]}}}]),e}(),Ed=new Ee("angularfire2.enableFirestorePersistence"),Id=new Ee("angularfire2.firestore.persistenceSettings"),xd=new Ee("angularfire2.firestore.settings"),Ad=parseInt(vd.a.SDK_VERSION.split(".")[0]),Od=Ad<5||5==Ad&&parseInt(vd.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Nd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var Pd,Dd=function(){function e(t,n,r,i,o,a,l){var u=this;_classCallCheck(this,e),this.schedulers=new dd(a),this.keepUnstableUntilFirst=pd(this.schedulers,o),this.firestore=a.runOutsideAngular((function(){var e=Td(t,a,n).firestore();return e.settings(i||Od),e})),this.persistenceEnabled$=r&&!Dl(o)?a.runOutsideAngular((function(){try{return Q(u.firestore.enablePersistence(l||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return Bl(!1)}})):Bl(!1)}return _createClass(e,[{key:"collection",value:function(e,t){var n=Nd("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query;return new Jf(r,i,this)}},{key:"collectionGroup",value:function(e,t){if(Ad<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new $f(n(r),this)}},{key:"doc",value:function(e){var t;return t="string"==typeof e?this.firestore.doc(e):e,new Zf(t,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}(),Rd=((Pd=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"getCln",value:function(){return this.firestore.collection("clients").snapshotChanges()}}]),e}()).ngInjectableDef=pe({factory:function(){return new Pd(De(Dd))},token:Pd,providedIn:"root"}),Pd),Md=qn({encapsulation:0,styles:[["table[_ngcontent-%COMP%]{font-size:20px}"]],data:{}});function Ld(e){return Qo(0,[(e()(),Do(0,0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),Do(1,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Wo(2,null,["",""])),(e()(),Do(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(4,null,["",""])),(e()(),Do(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(6,null,["",""])),(e()(),Do(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(8,null,["",""])),(e()(),Do(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(10,null,["",""])),(e()(),Do(11,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Do(12,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteClient(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Wo(-1,null,["Delete"]))],null,(function(e,t){e(t,2,0,t.context.index+1),e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.phoneNumber),e(t,8,0,t.context.$implicit.email),e(t,10,0,t.context.$implicit.message)}))}function Vd(e){return Qo(0,[(e()(),Do(0,0,null,null,16,"table",[["class","table table-sm"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,12,"thead",[],null,null,null,null,null)),(e()(),Do(2,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(-1,null,["#"])),(e()(),Do(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0406\u043c'\u044f"])),(e()(),Do(7,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b"])),(e()(),Do(9,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Email"])),(e()(),Do(11,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"])),(e()(),Do(13,0,null,null,0,"th",[],null,null,null,null,null)),(e()(),Do(14,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Po(16777216,null,null,1,null,Ld)),Xr(16,278528,null,0,_l,[Sn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,16,0,t.component.clients)}),null)}var Ud,Fd=Er("app-admin-clients",Rf,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-admin-clients",[],null,null,null,Vd,Md)),Xr(1,114688,null,0,Rf,[Dd,Rd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Bd=function(){function e(t,n){_classCallCheck(this,e),this.firestore=t,this.ordersService=n,this.getOrders()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getOrders",value:function(){var e=this;this.ordersService.getOrd().subscribe((function(t){e.orders=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),console.log(e.orders)}))}},{key:"deleteOrder",value:function(e){this.firestore.doc("orders/"+e).delete()}}]),e}(),jd=((Ud=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"getOrd",value:function(){return this.firestore.collection("orders").snapshotChanges()}}]),e}()).ngInjectableDef=pe({factory:function(){return new Ud(De(Dd))},token:Ud,providedIn:"root"}),Ud),qd=qn({encapsulation:0,styles:[["table[_ngcontent-%COMP%]{font-size:20px}th[_ngcontent-%COMP%]{font-weight:700}"]],data:{}});function zd(e){return Qo(0,[(e()(),Do(0,0,null,null,44,"table",[["class","table table-sm table-bordered"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,9,"thead",[],null,null,null,null,null)),(e()(),Do(2,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(4,null,["",""])),(e()(),Do(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(6,null,["",""])),(e()(),Do(7,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(8,null,["",""])),(e()(),Do(9,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(e()(),Wo(10,null,["",""])),(e()(),Do(11,0,null,null,33,"tbody",[],null,null,null,null,null)),(e()(),Do(12,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),Do(13,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(14,null,["",""])),(e()(),Do(15,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(16,null,["",""])),(e()(),Do(17,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(18,null,["",""])),(e()(),Do(19,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(20,null,["",""])),(e()(),Do(21,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),Do(22,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(23,null,["",""])),(e()(),Do(24,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(25,null,["",""])),(e()(),Do(26,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(27,null,["",""])),(e()(),Do(28,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(29,null,["",""])),(e()(),Do(30,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),Do(31,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(32,null,["",""])),(e()(),Do(33,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(34,null,["",""])),(e()(),Do(35,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(36,null,["",""])),(e()(),Do(37,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(38,null,["",""])),(e()(),Do(39,0,null,null,5,"tr",[],null,null,null,null,null)),(e()(),Do(40,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Do(41,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteOrder(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Wo(-1,null,["Delete"])),(e()(),Do(43,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Wo(44,null,[" "," "]))],null,(function(e,t){e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.phoneNumber),e(t,8,0,t.context.$implicit.email),e(t,10,0,t.context.$implicit.viber),e(t,14,0,t.context.$implicit.brand),e(t,16,0,t.context.$implicit.model),e(t,18,0,t.context.$implicit.year),e(t,20,0,t.context.$implicit.engine),e(t,23,0,t.context.$implicit.fuel),e(t,25,0,t.context.$implicit.probig),e(t,27,0,t.context.$implicit.transmission),e(t,29,0,t.context.$implicit.bodyType),e(t,32,0,t.context.$implicit.price),e(t,34,0,t.context.$implicit.interior),e(t,36,0,t.context.$implicit.interiorColor),e(t,38,0,t.context.$implicit.message),e(t,44,0,t.context.$implicit.date)}))}function Hd(e){return Qo(0,[(e()(),Po(16777216,null,null,1,null,zd)),Xr(1,278528,null,0,_l,[Sn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.orders)}),null)}var Wd=Er("app-admin-orders",Bd,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-admin-orders",[],null,null,null,Hd,qd)),Xr(1,114688,null,0,Bd,[Dd,jd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Kd=function(e){function t(e,n){var r;_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=q(_assertThisInitialized(r),n[o],null,o);a&&r.add(a)}return r}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}]),t}(z),Gd=new Ee("NgValueAccessor"),Qd=new Ee("CompositionEventMode"),Yd=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Pu()?Pu().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),Xd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}(),Jd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),t}(Xd);function Zd(){throw new Error("unimplemented")}var $d=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments)))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _inherits(t,e),_createClass(t,[{key:"validator",get:function(){return Zd()}},{key:"asyncValidator",get:function(){return Zd()}}]),t}(Xd),ep=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),tp=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(ep),np=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(ep);function rp(e){return null==e||0===e.length}var ip=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,op=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(rp(t.value)||rp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(rp(t.value)||rp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return rp(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return rp(e.value)?null:ip.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(rp(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(rp(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(ap);return 0==t.length?null:function(e){return up(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(ap);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&u(n[0])&&(n=n[0]),0===n.length?Vl:i?e(n).pipe(H((function(e){return i.apply(void 0,_toConsumableArray(e))}))):new k((function(e){return new Kd(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(lp)).pipe(H(up))}}}]),e}();function ap(e){return null!=e}function lp(e){var t=qt(e)?Q(e):e;if(!zt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function up(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function sp(e){return e.validate?function(t){return e.validate(t)}:e}function cp(e){return e.validate?function(t){return e.validate(t)}:e}var hp=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),fp='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',dp='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function pp(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var gp=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Vt}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=pp(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),mp=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(pp(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();function vp(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var yp=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(vp(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(vp(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();function bp(e,t){return[].concat(_toConsumableArray(t.path),[e])}function _p(e,t){e||Cp(t,"Cannot find control with"),t.valueAccessor||Cp(t,"No value accessor for form control with"),e.validator=op.compose([e.validator,t.validator]),e.asyncValidator=op.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&wp(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&wp(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function wp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Cp(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function kp(e){return null!=e?op.compose(e.map(sp)):null}function Tp(e){return null!=e?op.composeAsync(e.map(cp)):null}var Sp=[function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),gp,function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Vt}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),l=t._getOptionValue(a.value);r.push(l)}else for(var u=n.options,s=0;s<u.length;s++){var c=u.item(s);if(c.selected){var h=t._getOptionValue(c.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get($d),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function Ep(e){var t=xp(e)?e.validators:e;return Array.isArray(t)?kp(t):t||null}function Ip(e,t){var n=xp(t)?t.asyncValidators:e;return Array.isArray(n)?Tp(n):n||null}function xp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Ap=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=Ep(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Ip(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=lp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof Np?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Pp&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new bi,this.statusChanges=new bi}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),Op=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Ep(r),Ip(i,r))))._onChange=[],e._applyFormState(n),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _inherits(t,e),_createClass(t,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),t}(Ap),Np=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Ep(n),Ip(r,n)))).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(t,e),_createClass(t,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Op?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),t}(Ap),Pp=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Ep(n),Ip(r,n)))).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(t,e),_createClass(t,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Op?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.controls[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){if(r.value.enabled)return!1}}catch(o){t=!0,n=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),t}(Ap),Dp=Promise.resolve(null),Rp=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).submitted=!1,r._directives=[],r.ngSubmit=new bi,r.form=new Np({},kp(e),Tp(n)),r}return _inherits(t,e),_createClass(t,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Dp.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),_p(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Dp.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;Dp.then((function(){var n=t._findContainer(e.path),r=new Np({});(function(e,t){null==e&&Cp(t,"Cannot find control with"),e.validator=op.compose([e.validator,t.validator]),e.asyncValidator=op.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Dp.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;Dp.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),t}(Jd),Mp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(fp,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(dp))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(fp,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(dp))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),e}(),Lp=new Ee("NgFormSelectorWarning"),Vp=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return bp(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return kp(this._validators)}},{key:"asyncValidator",get:function(){return Tp(this._asyncValidators)}}]),t}(Jd),Up=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=e,i._validators=n,i._asyncValidators=r,i}return _inherits(t,e),_createClass(t,[{key:"_checkParentType",value:function(){this._parent instanceof t||this._parent instanceof Rp||Mp.modelGroupParentException()}}]),t}(Vp),Fp=Promise.resolve(null),Bp=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).control=new Op,o._registered=!1,o.update=new bi,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Cp(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Yd?n=t:(o=t,Sp.some((function(e){return o.constructor===e}))?(r&&Cp(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Cp(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Cp(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(o),i),o}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Vt(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){_p(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Up)&&this._parent instanceof Vp?Mp.formGroupNameException():this._parent instanceof Up||this._parent instanceof Rp||Mp.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Mp.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;Fp.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Fp.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?bp(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return kp(this._rawValidators)}},{key:"asyncValidator",get:function(){return Tp(this._rawAsyncValidators)}}]),t}($d),jp=function e(){_classCallCheck(this,e)},qp=function e(){_classCallCheck(this,e)},zp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Lp,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),e}(),Hp=function(){function e(t,n){_classCallCheck(this,e),this.storage=t,this.db=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.startUpload()}},{key:"startUpload",value:function(){var e=this,t="images/".concat(Date.now(),"_").concat(this.file.name),n=this.storage.ref(t);this.task=this.storage.upload(t,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(ru(console.log),xu((function(){return Mf.__awaiter(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getDownloadURL().toPromise();case 2:this.downloadURL=e.sent,this.db.collection("files").add({downloadURL:this.downloadURL,path:t});case 4:case"end":return e.stop()}}),e,this)})))})))}},{key:"isActive",value:function(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}]),e}();function Wp(e){var t=function(e){return new k((function(t){return e.on("state_changed",(function(e){return t.next(e)}),(function(e){return t.error(e)}),(function(){return t.complete()})),function(){return e.cancel()}}))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(H((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function Kp(e,t,n){return{getDownloadURL:function(){return Q(e.getDownloadURL(),t.outsideAngular).pipe(n)},getMetadata:function(){return Q(e.getMetadata()).pipe(n)},delete:function(){return Q(e.delete())},child:function(r){return Kp(e.child(r),t,n)},updateMetatdata:function(t){return Q(e.updateMetadata(t))},updateMetadata:function(t){return Q(e.updateMetadata(t))},put:function(t,n){return Wp(e.put(t,n))},putString:function(t,n,r){return Wp(e.putString(t,n,r))}}}var Gp=new Ee("angularfire2.storageBucket"),Qp=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.schedulers=new dd(o),this.keepUnstableUntilFirst=pd(this.schedulers,i),this.storage=o.runOutsideAngular((function(){return Td(t,o,n).storage(r||void 0)}))}return _createClass(e,[{key:"ref",value:function(e){return Kp(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(e,t,n){return Kp(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,n)}}]),e}(),Yp=qn({encapsulation:0,styles:[[""]],data:{}});function Xp(e){return Qo(0,[(e()(),Do(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Do(1,0,null,null,0,"progress",[["max","100"]],[[8,"value",0]],null,null,null,null)),(e()(),Wo(2,null,[" ","%\n"])),Ho(128,3,new Array(2))],null,(function(e,t){e(t,1,0,t.context.ngIf);var n=jn(t,2,0,e(t,3,0,Vr(t.parent,0),t.context.ngIf));e(t,2,0,n)}))}function Jp(e){return Qo(0,[(e()(),Do(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Do(1,0,null,null,0,"img",[["style","max-width: 50%;"]],[[8,"src",4]],null,null,null,null)),(e()(),Do(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"a",[["rel","noopener"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Wo(-1,null,["Download Me!"]))],null,(function(e,t){e(t,1,0,t.context.ngIf),e(t,3,0,t.context.ngIf)}))}function Zp(e){return Qo(0,[(e()(),Do(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Wo(1,null,[" "," of "," "])),(e()(),Po(16777216,null,null,1,null,Jp)),Xr(3,16384,null,0,Cl,[Sn,kn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.downloadURL)}),(function(e,t){e(t,1,0,t.context.ngIf.bytesTransferred,t.context.ngIf.totalBytes)}))}function $p(e){return Qo(0,[Jr(0,Ol,[Ni]),(e()(),Po(16777216,null,null,2,null,Xp)),Xr(2,16384,null,0,Cl,[Sn,kn],{ngIf:[0,"ngIf"]},null),Jr(131072,Al,[Ct]),(e()(),Po(16777216,null,null,2,null,Zp)),Xr(5,16384,null,0,Cl,[Sn,kn],{ngIf:[0,"ngIf"]},null),Jr(131072,Al,[Ct])],(function(e,t){var n=t.component;e(t,2,0,jn(t,2,0,Vr(t,3).transform(n.percentage))),e(t,5,0,jn(t,5,0,Vr(t,6).transform(n.snapshot)))}),null)}var eg=Er("upload-task",Hp,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"upload-task",[],null,null,null,$p,Yp)),Xr(1,114688,null,0,Hp,[Qp,Dd],null,null)],(function(e,t){e(t,1,0)}),null)}),{file:"file"},{},[]),tg=function(){function e(){_classCallCheck(this,e),this.dropped=new bi,this.hovered=new bi}return _createClass(e,[{key:"onDrop",value:function(e){e.preventDefault(),this.dropped.emit(e.dataTransfer.files),this.hovered.emit(!1)}},{key:"onDragOver",value:function(e){e.preventDefault(),this.hovered.emit(!0)}},{key:"onDragLeave",value:function(e){e.preventDefault(),this.hovered.emit(!1)}}]),e}(),ng=function(){function e(){_classCallCheck(this,e),this.files=[]}return _createClass(e,[{key:"toggleHover",value:function(e){this.isHovering=e}},{key:"onDrop",value:function(e){for(var t=0;t<e.length;t++)this.files.push(e.item(t))}}]),e}(),rg=qn({encapsulation:0,styles:[[".dropzone[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;min-width:80%;font-weight:200;height:300px;border:2px dashed #f16624;border-radius:5px;background:#fff;margin:10px 0}.dropzone[_ngcontent-%COMP%]:hover{border:2px solid #f16624;color:#dadada!important}.file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s;transition:width .1s ease}"]],data:{}});function ig(e){return Qo(0,[(e()(),Do(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Do(1,0,null,null,1,"upload-task",[],null,null,null,$p,Yp)),Xr(2,114688,null,0,Hp,[Qp,Dd],{file:[0,"file"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function og(e){return Qo(0,[(e()(),Do(0,0,null,null,5,"div",[["class","dropzone"],["dropzone",""]],[[2,"hovering",null]],[[null,"hovered"],[null,"dropped"],[null,"drop"],[null,"dragover"],[null,"dragleave"]],(function(e,t,n){var r=!0,i=e.component;return"drop"===t&&(r=!1!==Vr(e,1).onDrop(n)&&r),"dragover"===t&&(r=!1!==Vr(e,1).onDragOver(n)&&r),"dragleave"===t&&(r=!1!==Vr(e,1).onDragLeave(n)&&r),"hovered"===t&&(r=!1!==i.toggleHover(n)&&r),"dropped"===t&&(r=!1!==i.onDrop(n)&&r),r}),null,null)),Xr(1,16384,null,0,tg,[],null,{dropped:"dropped",hovered:"hovered"}),(e()(),Do(2,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Wo(-1,null,["AngularFire Drop Zone"])),(e()(),Do(4,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Wo(-1,null,["Drag and Drop a File"])),(e()(),Po(16777216,null,null,1,null,ig)),Xr(7,278528,null,0,_l,[Sn,kn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,7,0,t.component.files)}),(function(e,t){e(t,0,0,t.component.isHovering)}))}var ag,lg=Er("uploader",ng,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"uploader",[],null,null,null,og,rg)),Xr(1,49152,null,0,ng,[],null,null)],null,null)}),{},{},[]),ug=function(){function e(t,n,r){_classCallCheck(this,e),this.prStorage=t,this.productsService=n,this.firestore=r,this.bodyType="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430...",this.korobka="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u043e\u0440\u043e\u0431\u043a\u0438...",this.transmission="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043c\u0456\u0441\u0456\u0457...",this.interior="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0430\u043b\u043e\u043d...",this.getProducts()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getProducts",value:function(){var e=this;this.productsService.getProducts().subscribe((function(t){e.products=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),console.log(e.products)}))}},{key:"onSubmit",value:function(e){var t=Object.assign({},e.value);delete t.id,null==e.value.id?this.firestore.collection("products").add(t):this.firestore.doc("products"+e.value.id).update(t),this.clearForm()}},{key:"clearForm",value:function(){this.title="",this.bodyType="",this.probig="",this.engine="",this.korobka="",this.transmission="",this.bodyColor="",this.interior="",this.consumption="",this.price=""}},{key:"upload",value:function(e){var t=this,n=Math.random().toString(36).substring(2);this.ref=this.prStorage.ref("images/".concat(n)),this.task=this.ref.put(e.target.files[0]),this.uploadState=this.task.snapshotChanges().pipe(H((function(e){return e.state}))),this.uploadProgress=this.task.percentageChanges(),this.task.snapshotChanges().pipe(xu((function(){t.downloadURL=t.ref.getDownloadURL(),t.downloadURL.subscribe((function(e){return t.productImage=e}))}))).subscribe()}},{key:"deleteProduct",value:function(e){this.firestore.doc("products/"+e).delete()}},{key:"edit",value:function(e){this.id=this.products[e].id,this.title=this.products[e].title,this.bodyType=this.products[e].bodyType,this.probig=this.products[e].probig,this.korobka=this.products[e].korobka,this.transmission=this.products[e].transmission,this.engine=this.products[e].engine,this.bodyColor=this.products[e].bodyColor,this.interior=this.products[e].interior,this.price=this.products[e].price,this.consumption=this.products[e].consumption}},{key:"saveChanges",value:function(){this.firestore.collection("products/").doc(this.id).update({title:this.title,bodyType:this.bodyType,probig:this.probig,korobka:this.korobka,transmision:this.transmission,engine:this.engine,bodyColor:this.bodyColor,interior:this.interior,consumption:this.consumption,price:this.price}),this.clearForm()}}]),e}(),sg=((ag=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"getProducts",value:function(){return this.firestore.collection("products").snapshotChanges()}}]),e}()).ngInjectableDef=pe({factory:function(){return new ag(De(Dd))},token:ag,providedIn:"root"}),ag),cg=qn({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:100%;min-height:600px}.carContainer[_ngcontent-%COMP%]{width:90%;min-height:600px;padding:20px;font-family:'Roboto Condensed',sans-serif}.info[_ngcontent-%COMP%]{margin-top:50px;width:100%;min-height:200px}.titleInfo[_ngcontent-%COMP%]{text-align:center;font-size:30px}.titleText[_ngcontent-%COMP%]{font-size:20px}.cars[_ngcontent-%COMP%]{margin-top:50px;width:100%;min-height:450px}.carsTitle[_ngcontent-%COMP%]{text-align:center;font-size:30px;margin-bottom:20px}.CarBox[_ngcontent-%COMP%]{width:100%;min-height:250px;border:1px solid #d3d3d3;border-radius:5px;padding:10px;box-shadow:0 0 10px #2f4f4f;margin-top:60px}.MainImg[_ngcontent-%COMP%]{border-radius:5px;margin-right:10px}.MainImg[_ngcontent-%COMP%]:hover{cursor:pointer}.CarInfoBox[_ngcontent-%COMP%]{width:100%;min-height:225px}.infoBoxTitle[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.table[_ngcontent-%COMP%]{width:100%;min-height:225px}.option_first[_ngcontent-%COMP%], .option_second[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.spec[_ngcontent-%COMP%]{font-size:15px}.price[_ngcontent-%COMP%]{width:20%;height:145px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.priceNew[_ngcontent-%COMP%]{display:none}.spanPrice[_ngcontent-%COMP%]{font-size:15px;font-weight:700;text-align:center}.money[_ngcontent-%COMP%]{font-size:30px;font-weight:700;text-align:end}.containerSoldCars[_ngcontent-%COMP%]{width:100%;min-height:600px}.SoldCarsBox[_ngcontent-%COMP%]{width:1300px;min-height:600px;padding:20px;font-family:'Roboto Condensed',sans-serif}.soldCarsTitle[_ngcontent-%COMP%]{text-align:center;font-size:30px;margin-top:30px}.edit[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.delete[_ngcontent-%COMP%]{margin-bottom:10px}.soldLabel[_ngcontent-%COMP%]{font-size:20px}"]],data:{}});function hg(e){return Qo(0,[(e()(),Do(0,0,null,null,67,"div",[["class","CarBox d-flex"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,0,"img",[["alt",""],["class","MainImg"],["data-target",".bd-example-modal-xl"],["data-toggle","modal"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889149_audi-catalog.jpg?alt=media&token=23ccb0f0-2144-4197-8bbc-d4c362b6d5aa"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,60,"div",[["class","CarInfoBox"]],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"p",[["class","infoBoxTitle"]],null,null,null,null,null)),(e()(),Wo(4,null,["",""])),(e()(),Do(5,0,null,null,57,"div",[["class","table d-flex"]],null,null,null,null,null)),(e()(),Do(6,0,null,null,21,"table",[["class","first"]],null,null,null,null,null)),(e()(),Do(7,0,null,null,20,"tbody",[],null,null,null,null,null)),(e()(),Do(8,0,null,null,4,"tr",[["class","category_body_style"]],null,null,null,null,null)),(e()(),Do(9,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430:"])),(e()(),Do(11,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(12,null,["",""])),(e()(),Do(13,0,null,null,4,"tr",[["class","category_mileage"]],null,null,null,null,null)),(e()(),Do(14,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0431\u0456\u0433:"])),(e()(),Do(16,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(17,null,["",""])),(e()(),Do(18,0,null,null,4,"tr",[["class","category_transmission"]],null,null,null,null,null)),(e()(),Do(19,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u0440\u043e\u0431\u043a\u0430:"])),(e()(),Do(21,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(22,null,["",""])),(e()(),Do(23,0,null,null,4,"tr",[["class","category_drivetrain"]],null,null,null,null,null)),(e()(),Do(24,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0440\u0430\u043d\u0441\u043c\u0456\u0441\u0456\u044f:"])),(e()(),Do(26,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(27,null,["",""])),(e()(),Do(28,0,null,null,21,"table",[["class","second"]],null,null,null,null,null)),(e()(),Do(29,0,null,null,20,"tbody",[],null,null,null,null,null)),(e()(),Do(30,0,null,null,4,"tr",[["class","category_engine"]],null,null,null,null,null)),(e()(),Do(31,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u0432\u0438\u0433\u0443\u043d:"])),(e()(),Do(33,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(34,null,["",""])),(e()(),Do(35,0,null,null,4,"tr",[["class","category_body_color"]],null,null,null,null,null)),(e()(),Do(36,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043b\u0456\u0440 \u043a\u0443\u0437\u043e\u0432\u0430:"])),(e()(),Do(38,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(39,null,["",""])),(e()(),Do(40,0,null,null,4,"tr",[["class","category_interior"]],null,null,null,null,null)),(e()(),Do(41,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0406\u043d\u0442\u0435\u0440'\u0454\u0440:"])),(e()(),Do(43,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(44,null,["",""])),(e()(),Do(45,0,null,null,4,"tr",[["class","category_mpg"]],null,null,null,null,null)),(e()(),Do(46,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0420\u043e\u0437\u0445\u0456\u0434:"])),(e()(),Do(48,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(49,null,["",""])),(e()(),Do(50,0,null,null,12,"div",[["class","price justify-content-md-end"]],null,null,null,null,null)),(e()(),Do(51,0,null,null,3,"div",[["class","form-check"]],null,null,null,null,null)),(e()(),Do(52,0,null,null,0,"input",[["class","form-check-input"],["id","sold"],["type","checkbox"],["value",""]],null,null,null,null,null)),(e()(),Do(53,0,null,null,1,"label",[["class","form-check-label text-success soldLabel"],["for","sold"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0434\u0430\u043d\u043e"])),(e()(),Do(55,0,null,null,1,"button",[["class","btn btn-warning edit"],["data-target","#exampleModal"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.edit(e.context.index)&&r),r}),null,null)),(e()(),Wo(-1,null,["Edit"])),(e()(),Do(57,0,null,null,1,"button",[["class","btn btn-danger delete"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteProduct(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Wo(-1,null,["Delete"])),(e()(),Do(59,0,null,null,1,"span",[["class","spanPrice"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0426\u0456\u043d\u0430 :"])),(e()(),Do(61,0,null,null,1,"p",[["class","money"]],null,null,null,null,null)),(e()(),Wo(62,null,["",""])),(e()(),Do(63,0,null,null,4,"div",[["class","priceNew"]],null,null,null,null,null)),(e()(),Do(64,0,null,null,1,"span",[["class","spanPrice"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0426\u0456\u043d\u0430 :"])),(e()(),Do(66,0,null,null,1,"p",[["class","money"]],null,null,null,null,null)),(e()(),Wo(67,null,["",""]))],null,(function(e,t){e(t,4,0,t.context.$implicit.title),e(t,12,0,t.context.$implicit.bodyType),e(t,17,0,t.context.$implicit.probig),e(t,22,0,t.context.$implicit.korobka),e(t,27,0,t.context.$implicit.transmision),e(t,34,0,t.context.$implicit.engine),e(t,39,0,t.context.$implicit.bodyColor),e(t,44,0,t.context.$implicit.interior),e(t,49,0,t.context.$implicit.consumption),e(t,62,0,t.context.$implicit.price),e(t,67,0,t.context.$implicit.price)}))}function fg(e){return Qo(0,[(e()(),Do(0,0,null,null,177,"div",[["class","container"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,176,"form",[["action",""],["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==Vr(e,3).onSubmit(n)&&r),"reset"===t&&(r=!1!==Vr(e,3).onReset()&&r),"submit"===t&&(r=!1!==i.onSubmit(Vr(e,3))&&r),r}),null,null)),Xr(2,16384,null,0,jp,[],null,null),Xr(3,4210688,[["form",4]],0,Rp,[[8,null],[8,null]],null,null),Zr(2048,null,Jd,null,[Rp]),Xr(5,16384,null,0,np,[[4,Jd]],null,null),(e()(),Do(6,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(7,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041d\u0430\u0437\u0432\u0430 \u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f*"])),(e()(),Do(9,0,null,null,5,"input",[["class","form-control"],["id","title"],["name","title"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,10)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,10).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,10)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,10)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.title=n)&&r),r}),null,null)),Xr(10,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(12,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(14,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(15,0,null,null,40,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(16,0,null,null,1,"label",[["for","bodyType"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430*"])),(e()(),Do(18,0,null,null,37,"select",[["class","form-control"],["id","bodyType"],["name","bodyType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,19).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,19).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.bodyType=n)&&r),r}),null,null)),Xr(19,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(21,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(23,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(24,0,null,null,3,"option",[],null,null,null,null,null)),Xr(25,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(26,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430..."])),(e()(),Do(28,0,null,null,3,"option",[],null,null,null,null,null)),Xr(29,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(30,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0421\u0435\u0434\u0430\u043d"])),(e()(),Do(32,0,null,null,3,"option",[],null,null,null,null,null)),Xr(33,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(34,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0425\u0435\u0442\u0447\u0431\u0435\u043a"])),(e()(),Do(36,0,null,null,3,"option",[],null,null,null,null,null)),Xr(37,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(38,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0423\u043d\u0456\u0432\u0435\u0440\u0441\u0430\u043b"])),(e()(),Do(40,0,null,null,3,"option",[],null,null,null,null,null)),Xr(41,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(42,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041b\u0456\u0444\u0442\u0431\u0435\u043a"])),(e()(),Do(44,0,null,null,3,"option",[],null,null,null,null,null)),Xr(45,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(46,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041a\u0440\u043e\u0441\u043e\u0432\u0435\u0440"])),(e()(),Do(48,0,null,null,3,"option",[],null,null,null,null,null)),Xr(49,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(50,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["SUV"])),(e()(),Do(52,0,null,null,3,"option",[],null,null,null,null,null)),Xr(53,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(54,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041d\u0435 \u0432\u0430\u0436\u043b\u0438\u0432\u043e"])),(e()(),Do(56,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(57,0,null,null,1,"label",[["for","engine"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u0432\u0438\u0433\u0443\u043d*"])),(e()(),Do(59,0,null,null,5,"input",[["class","form-control"],["id","engine"],["name","engine"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u0431'\u0454\u043c \u0442\u0430 \u0442\u0438\u043f \u043f\u0430\u043b\u0438\u0432\u0430..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,60)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,60).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,60)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,60)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.engine=n)&&r),r}),null,null)),Xr(60,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(62,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(64,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(65,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(66,0,null,null,1,"label",[["for","probig"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0431\u0456\u0433*"])),(e()(),Do(68,0,null,null,5,"input",[["class","form-control"],["id","probig"],["name","probig"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u043e\u0431\u0456\u0433 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,69)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,69).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,69)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,69)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.probig=n)&&r),r}),null,null)),Xr(69,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(71,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(73,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(74,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(75,0,null,null,1,"label",[["for","bodyColor"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043b\u0456\u0440 \u043a\u0443\u0437\u043e\u0432\u0430*"])),(e()(),Do(77,0,null,null,5,"input",[["class","form-control"],["id","bodyColor"],["name","bodyColor"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u043b\u0456\u0440 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,78)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,78).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,78)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,78)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.bodyColor=n)&&r),r}),null,null)),Xr(78,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(80,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(82,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(83,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(84,0,null,null,1,"label",[["for","korobka"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447*"])),(e()(),Do(86,0,null,null,17,"select",[["class","form-control"],["id","korobka"],["name","korobka"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,87).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,87).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.korobka=n)&&r),r}),null,null)),Xr(87,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(89,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(91,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(92,0,null,null,3,"option",[],null,null,null,null,null)),Xr(93,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(94,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u043e\u0440\u043e\u0431\u043a\u0438..."])),(e()(),Do(96,0,null,null,3,"option",[],null,null,null,null,null)),Xr(97,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(98,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0430 \u043a\u043e\u0440\u043e\u0431\u043a\u0430"])),(e()(),Do(100,0,null,null,3,"option",[],null,null,null,null,null)),Xr(101,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(102,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041c\u0435\u0445\u0430\u043d\u0456\u0447\u043d\u0430 \u043a\u043e\u0440\u043e\u0431\u043a\u0430"])),(e()(),Do(104,0,null,null,28,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(105,0,null,null,1,"label",[["for","interior"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0406\u043d\u0442\u0435\u0440'\u0454\u0440*"])),(e()(),Do(107,0,null,null,25,"select",[["class","form-control"],["id","interior"],["name","interior"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,108).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,108).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.interior=n)&&r),r}),null,null)),Xr(108,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(110,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(112,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(113,0,null,null,3,"option",[],null,null,null,null,null)),Xr(114,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(115,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0430\u043b\u043e\u043d..."])),(e()(),Do(117,0,null,null,3,"option",[],null,null,null,null,null)),Xr(118,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(119,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0410\u043b\u044c\u043a\u0430\u043d\u0442\u0430\u0440\u0430"])),(e()(),Do(121,0,null,null,3,"option",[],null,null,null,null,null)),Xr(122,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(123,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0422\u0435\u043a\u0441\u0442\u0438\u043b\u044c"])),(e()(),Do(125,0,null,null,3,"option",[],null,null,null,null,null)),Xr(126,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(127,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041a\u043e\u043c\u0431\u0456\u043d\u043e\u0432\u0430\u043d\u0438\u0439"])),(e()(),Do(129,0,null,null,3,"option",[],null,null,null,null,null)),Xr(130,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(131,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041d\u0435 \u0432\u0430\u0436\u043b\u0438\u0432\u043e"])),(e()(),Do(133,0,null,null,24,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(134,0,null,null,1,"label",[["for","transmision"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0440\u0430\u043d\u0441\u043c\u0456\u0441\u0456\u044f*"])),(e()(),Do(136,0,null,null,21,"select",[["class","form-control"],["id","transmision"],["name","transmision"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,137).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,137).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.transmission=n)&&r),r}),null,null)),Xr(137,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(139,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(141,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(142,0,null,null,3,"option",[],null,null,null,null,null)),Xr(143,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(144,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043c\u0456\u0441\u0456\u0457..."])),(e()(),Do(146,0,null,null,3,"option",[],null,null,null,null,null)),Xr(147,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(148,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0440\u0438\u0432\u0456\u0434"])),(e()(),Do(150,0,null,null,3,"option",[],null,null,null,null,null)),Xr(151,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(152,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041f\u043e\u0432\u043d\u0438\u0439 \u043f\u0440\u0438\u0432\u0456\u0434"])),(e()(),Do(154,0,null,null,3,"option",[],null,null,null,null,null)),Xr(155,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(156,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0417\u0430\u0434\u043d\u0456\u0439 \u043f\u0440\u0438\u0432\u0456\u0434"])),(e()(),Do(158,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(159,0,null,null,1,"label",[["for","consumption"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0420\u043e\u0437\u0445\u0456\u0434*"])),(e()(),Do(161,0,null,null,5,"input",[["class","form-control"],["id","consumption"],["name","consumption"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0440\u043e\u0437\u0445\u0456\u0434 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,162)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,162).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,162)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,162)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.consumption=n)&&r),r}),null,null)),Xr(162,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(164,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(166,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(167,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(168,0,null,null,1,"label",[["for","price"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0426\u0456\u043d\u0430 \u0430\u0432\u0442\u043e*"])),(e()(),Do(170,0,null,null,5,"input",[["class","form-control"],["id","price"],["name","price"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0446\u0456\u043d\u0443 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,171)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,171).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,171)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,171)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.price=n)&&r),r}),null,null)),Xr(171,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(173,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(175,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(176,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0432\u0442\u043e"])),(e()(),Do(178,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Do(179,16777216,null,null,5,"router-outlet",[],null,null,null,null,null)),Xr(180,212992,null,0,of,[rf,Sn,Yt,[8,null],Ct],null,null),(e()(),Do(181,0,null,null,1,"uploader",[],null,null,null,og,rg)),Xr(182,49152,null,0,ng,[],null,null),(e()(),Do(183,0,null,null,1,"upload-task",[],null,null,null,$p,Yp)),Xr(184,114688,null,0,Hp,[Qp,Dd],null,null),(e()(),Do(185,0,null,null,129,"div",[["class","container d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(186,0,null,null,128,"div",[["class","carContainer"]],null,null,null,null,null)),(e()(),Do(187,0,null,null,127,"div",[["class","cars"]],null,null,null,null,null)),(e()(),Do(188,0,null,null,1,"p",[["class","carsTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"])),(e()(),Do(190,0,null,null,18,"div",[["aria-hidden","true"],["aria-labelledby","myExtraLargeModalLabel"],["class","modal fade bd-example-modal-xl"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(e()(),Do(191,0,null,null,17,"div",[["class","modal-dialog modal-xl"]],null,null,null,null,null)),(e()(),Do(192,0,null,null,16,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),Do(193,0,null,null,15,"div",[["class","carousel slide"],["data-ride","carousel"],["id","carouselExampleControls"]],null,null,null,null,null)),(e()(),Do(194,0,null,null,6,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),Do(195,0,null,null,1,"div",[["class","carousel-item active"]],null,null,null,null,null)),(e()(),Do(196,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889150_audi-slaider1.jpg?alt=media&token=6337029b-9ada-4871-b05d-40de89f82fd4"]],null,null,null,null,null)),(e()(),Do(197,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),Do(198,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889150_audi-slaider2.jpg?alt=media&token=61ded7cf-8e72-4c5b-bd1a-34e7e0e8875e"]],null,null,null,null,null)),(e()(),Do(199,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),Do(200,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889151_audi-slaider3.jpg?alt=media&token=8747fe62-a290-4b9c-bd00-f5ab38a63e18"]],null,null,null,null,null)),(e()(),Do(201,0,null,null,3,"a",[["class","carousel-control-prev"],["data-slide","prev"],["href","#carouselExampleControls"],["role","button"]],null,null,null,null,null)),(e()(),Do(202,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(e()(),Do(203,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Previous"])),(e()(),Do(205,0,null,null,3,"a",[["class","carousel-control-next"],["data-slide","next"],["href","#carouselExampleControls"],["role","button"]],null,null,null,null,null)),(e()(),Do(206,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(e()(),Do(207,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Next"])),(e()(),Do(209,0,null,null,103,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","exampleModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(e()(),Do(210,0,null,null,102,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(e()(),Do(211,0,null,null,101,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),Do(212,0,null,null,100,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==Vr(e,214).onSubmit(n)&&r),"reset"===t&&(r=!1!==Vr(e,214).onReset()&&r),r}),null,null)),Xr(213,16384,null,0,jp,[],null,null),Xr(214,4210688,null,0,Rp,[[8,null],[8,null]],null,null),Zr(2048,null,Jd,null,[Rp]),Xr(216,16384,null,0,np,[[4,Jd]],null,null),(e()(),Do(217,0,null,null,90,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Do(218,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(219,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041d\u0430\u0437\u0432\u0430 \u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f*"])),(e()(),Do(221,0,null,null,5,"input",[["class","form-control"],["id","title"],["name","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,222)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,222).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,222)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,222)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.title=n)&&r),r}),null,null)),Xr(222,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(224,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(226,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(227,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(228,0,null,null,1,"label",[["for","bodyType"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430*"])),(e()(),Do(230,0,null,null,5,"input",[["class","form-control"],["id","bodyType"],["name","bodyType"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,231)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,231).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,231)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,231)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.bodyType=n)&&r),r}),null,null)),Xr(231,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(233,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(235,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(236,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(237,0,null,null,1,"label",[["for","engine"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u0432\u0438\u0433\u0443\u043d*"])),(e()(),Do(239,0,null,null,5,"input",[["class","form-control"],["id","engine"],["name","engine"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,240)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,240).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,240)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,240)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.engine=n)&&r),r}),null,null)),Xr(240,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(242,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(244,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(245,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(246,0,null,null,1,"label",[["for","probig"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0431\u0456\u0433*"])),(e()(),Do(248,0,null,null,5,"input",[["class","form-control"],["id","probig"],["name","probig"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,249)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,249).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,249)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,249)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.probig=n)&&r),r}),null,null)),Xr(249,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(251,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(253,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(254,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(255,0,null,null,1,"label",[["for","bodyColor"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043b\u0456\u0440 \u043a\u0443\u0437\u043e\u0432\u0430*"])),(e()(),Do(257,0,null,null,5,"input",[["class","form-control"],["id","bodyColor"],["name","bodyColor"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,258)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,258).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,258)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,258)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.bodyColor=n)&&r),r}),null,null)),Xr(258,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(260,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(262,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(263,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(264,0,null,null,1,"label",[["for","korobka"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447*"])),(e()(),Do(266,0,null,null,5,"input",[["class","form-control"],["id","korobka"],["name","korobka"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,267)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,267).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,267)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,267)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.korobka=n)&&r),r}),null,null)),Xr(267,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(269,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(271,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(272,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(273,0,null,null,1,"label",[["for","interior"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0406\u043d\u0442\u0435\u0440'\u0454\u0440*"])),(e()(),Do(275,0,null,null,5,"input",[["class","form-control"],["id","interior"],["name","interior"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,276)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,276).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,276)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,276)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.interior=n)&&r),r}),null,null)),Xr(276,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(278,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(280,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(281,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(282,0,null,null,1,"label",[["for","transmision"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0440\u0430\u043d\u0441\u043c\u0456\u0441\u0456\u044f*"])),(e()(),Do(284,0,null,null,5,"input",[["class","form-control"],["id","transmision"],["name","transmission"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,285)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,285).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,285)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,285)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.transmission=n)&&r),r}),null,null)),Xr(285,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(287,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(289,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(290,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(291,0,null,null,1,"label",[["for","consumption"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0420\u043e\u0437\u0445\u0456\u0434*"])),(e()(),Do(293,0,null,null,5,"input",[["class","form-control"],["id","consumption"],["name","consumption"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,294)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,294).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,294)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,294)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.consumption=n)&&r),r}),null,null)),Xr(294,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(296,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(298,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(299,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(300,0,null,null,1,"label",[["for","price"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0426\u0456\u043d\u0430 \u0430\u0432\u0442\u043e*"])),(e()(),Do(302,0,null,null,5,"input",[["class","form-control"],["id","price"],["name","price"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,303)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,303).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,303)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,303)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.price=n)&&r),r}),null,null)),Xr(303,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(305,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(307,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(308,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Do(309,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Close"])),(e()(),Do(311,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveChanges()&&r),r}),null,null)),(e()(),Wo(-1,null,["Save changes"])),(e()(),Po(16777216,null,null,1,null,hg)),Xr(314,278528,null,0,_l,[Sn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Do(315,0,null,null,4,"div",[["class","containerSoldCars d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(316,0,null,null,3,"div",[["class","SoldCarsBox"]],null,null,null,null,null)),(e()(),Do(317,0,null,null,1,"p",[["class","soldCarsTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0434\u0430\u043d\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456"])),(e()(),Do(319,0,null,null,0,"hr",[["style","color: black; border-color:black;"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,12,0,"title",n.title),e(t,21,0,"bodyType",n.bodyType),e(t,62,0,"engine",n.engine),e(t,71,0,"probig",n.probig),e(t,80,0,"bodyColor",n.bodyColor),e(t,89,0,"korobka",n.korobka),e(t,110,0,"interior",n.interior),e(t,139,0,"transmision",n.transmission),e(t,164,0,"consumption",n.consumption),e(t,173,0,"price",n.price),e(t,180,0),e(t,184,0),e(t,224,0,"title",n.title),e(t,233,0,"bodyType",n.bodyType),e(t,242,0,"engine",n.engine),e(t,251,0,"probig",n.probig),e(t,260,0,"bodyColor",n.bodyColor),e(t,269,0,"korobka",n.korobka),e(t,278,0,"interior",n.interior),e(t,287,0,"transmission",n.transmission),e(t,296,0,"consumption",n.consumption),e(t,305,0,"price",n.price),e(t,314,0,n.products)}),(function(e,t){e(t,1,0,Vr(t,5).ngClassUntouched,Vr(t,5).ngClassTouched,Vr(t,5).ngClassPristine,Vr(t,5).ngClassDirty,Vr(t,5).ngClassValid,Vr(t,5).ngClassInvalid,Vr(t,5).ngClassPending),e(t,9,0,Vr(t,14).ngClassUntouched,Vr(t,14).ngClassTouched,Vr(t,14).ngClassPristine,Vr(t,14).ngClassDirty,Vr(t,14).ngClassValid,Vr(t,14).ngClassInvalid,Vr(t,14).ngClassPending),e(t,18,0,Vr(t,23).ngClassUntouched,Vr(t,23).ngClassTouched,Vr(t,23).ngClassPristine,Vr(t,23).ngClassDirty,Vr(t,23).ngClassValid,Vr(t,23).ngClassInvalid,Vr(t,23).ngClassPending),e(t,59,0,Vr(t,64).ngClassUntouched,Vr(t,64).ngClassTouched,Vr(t,64).ngClassPristine,Vr(t,64).ngClassDirty,Vr(t,64).ngClassValid,Vr(t,64).ngClassInvalid,Vr(t,64).ngClassPending),e(t,68,0,Vr(t,73).ngClassUntouched,Vr(t,73).ngClassTouched,Vr(t,73).ngClassPristine,Vr(t,73).ngClassDirty,Vr(t,73).ngClassValid,Vr(t,73).ngClassInvalid,Vr(t,73).ngClassPending),e(t,77,0,Vr(t,82).ngClassUntouched,Vr(t,82).ngClassTouched,Vr(t,82).ngClassPristine,Vr(t,82).ngClassDirty,Vr(t,82).ngClassValid,Vr(t,82).ngClassInvalid,Vr(t,82).ngClassPending),e(t,86,0,Vr(t,91).ngClassUntouched,Vr(t,91).ngClassTouched,Vr(t,91).ngClassPristine,Vr(t,91).ngClassDirty,Vr(t,91).ngClassValid,Vr(t,91).ngClassInvalid,Vr(t,91).ngClassPending),e(t,107,0,Vr(t,112).ngClassUntouched,Vr(t,112).ngClassTouched,Vr(t,112).ngClassPristine,Vr(t,112).ngClassDirty,Vr(t,112).ngClassValid,Vr(t,112).ngClassInvalid,Vr(t,112).ngClassPending),e(t,136,0,Vr(t,141).ngClassUntouched,Vr(t,141).ngClassTouched,Vr(t,141).ngClassPristine,Vr(t,141).ngClassDirty,Vr(t,141).ngClassValid,Vr(t,141).ngClassInvalid,Vr(t,141).ngClassPending),e(t,161,0,Vr(t,166).ngClassUntouched,Vr(t,166).ngClassTouched,Vr(t,166).ngClassPristine,Vr(t,166).ngClassDirty,Vr(t,166).ngClassValid,Vr(t,166).ngClassInvalid,Vr(t,166).ngClassPending),e(t,170,0,Vr(t,175).ngClassUntouched,Vr(t,175).ngClassTouched,Vr(t,175).ngClassPristine,Vr(t,175).ngClassDirty,Vr(t,175).ngClassValid,Vr(t,175).ngClassInvalid,Vr(t,175).ngClassPending),e(t,212,0,Vr(t,216).ngClassUntouched,Vr(t,216).ngClassTouched,Vr(t,216).ngClassPristine,Vr(t,216).ngClassDirty,Vr(t,216).ngClassValid,Vr(t,216).ngClassInvalid,Vr(t,216).ngClassPending),e(t,221,0,Vr(t,226).ngClassUntouched,Vr(t,226).ngClassTouched,Vr(t,226).ngClassPristine,Vr(t,226).ngClassDirty,Vr(t,226).ngClassValid,Vr(t,226).ngClassInvalid,Vr(t,226).ngClassPending),e(t,230,0,Vr(t,235).ngClassUntouched,Vr(t,235).ngClassTouched,Vr(t,235).ngClassPristine,Vr(t,235).ngClassDirty,Vr(t,235).ngClassValid,Vr(t,235).ngClassInvalid,Vr(t,235).ngClassPending),e(t,239,0,Vr(t,244).ngClassUntouched,Vr(t,244).ngClassTouched,Vr(t,244).ngClassPristine,Vr(t,244).ngClassDirty,Vr(t,244).ngClassValid,Vr(t,244).ngClassInvalid,Vr(t,244).ngClassPending),e(t,248,0,Vr(t,253).ngClassUntouched,Vr(t,253).ngClassTouched,Vr(t,253).ngClassPristine,Vr(t,253).ngClassDirty,Vr(t,253).ngClassValid,Vr(t,253).ngClassInvalid,Vr(t,253).ngClassPending),e(t,257,0,Vr(t,262).ngClassUntouched,Vr(t,262).ngClassTouched,Vr(t,262).ngClassPristine,Vr(t,262).ngClassDirty,Vr(t,262).ngClassValid,Vr(t,262).ngClassInvalid,Vr(t,262).ngClassPending),e(t,266,0,Vr(t,271).ngClassUntouched,Vr(t,271).ngClassTouched,Vr(t,271).ngClassPristine,Vr(t,271).ngClassDirty,Vr(t,271).ngClassValid,Vr(t,271).ngClassInvalid,Vr(t,271).ngClassPending),e(t,275,0,Vr(t,280).ngClassUntouched,Vr(t,280).ngClassTouched,Vr(t,280).ngClassPristine,Vr(t,280).ngClassDirty,Vr(t,280).ngClassValid,Vr(t,280).ngClassInvalid,Vr(t,280).ngClassPending),e(t,284,0,Vr(t,289).ngClassUntouched,Vr(t,289).ngClassTouched,Vr(t,289).ngClassPristine,Vr(t,289).ngClassDirty,Vr(t,289).ngClassValid,Vr(t,289).ngClassInvalid,Vr(t,289).ngClassPending),e(t,293,0,Vr(t,298).ngClassUntouched,Vr(t,298).ngClassTouched,Vr(t,298).ngClassPristine,Vr(t,298).ngClassDirty,Vr(t,298).ngClassValid,Vr(t,298).ngClassInvalid,Vr(t,298).ngClassPending),e(t,302,0,Vr(t,307).ngClassUntouched,Vr(t,307).ngClassTouched,Vr(t,307).ngClassPristine,Vr(t,307).ngClassDirty,Vr(t,307).ngClassValid,Vr(t,307).ngClassInvalid,Vr(t,307).ngClassPending)}))}var dg=Er("app-admin-products",ug,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-admin-products",[],null,null,null,fg,cg)),Xr(1,114688,null,0,ug,[Qp,sg,Dd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),pg=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),gg=qn({encapsulation:0,styles:[[".header[_ngcontent-%COMP%]{width:100%;height:80px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;border-bottom:2px solid #2f4f4f;background-image:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889152_background.png?alt=media&token=59ccefb0-736f-4414-91fd-c59fd8560c6b);background-repeat:no-repeat;background-size:100%}.logo[_ngcontent-%COMP%]{width:25%;font-family:Lobster,cursive;color:#2f4f4f;text-align:center}.cars[_ngcontent-%COMP%]{height:50%;font-size:35px}.fromSweden[_ngcontent-%COMP%]{height:50%;font-size:25px}.contacts[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:25%}.nMenu[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:50%;-webkit-box-pack:justify;justify-content:space-between;padding-top:17px;padding-bottom:25px}.nMenuItem[_ngcontent-%COMP%]{color:#2f4f4f;font-family:'Roboto Condensed',sans-serif;font-size:25px;font-weight:700;text-decoration:none}.nMenuItem[_ngcontent-%COMP%]:hover{text-decoration:underline}.navik[_ngcontent-%COMP%]{display:none}.carouselLabel[_ngcontent-%COMP%]{font-size:50px;font-family:'Roboto Condensed',sans-serif}.textLabel[_ngcontent-%COMP%]{font-size:35px;font-family:'Roboto Condensed',sans-serif}.social[_ngcontent-%COMP%]{margin-left:30px;width:15%}.numbers[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding-top:10px;width:85%}.firstNumber[_ngcontent-%COMP%], .secondNumber[_ngcontent-%COMP%]{height:50%;color:#2f4f4f;font-family:'Roboto Condensed',sans-serif;font-size:20px;font-weight:700}.facebook[_ngcontent-%COMP%]{margin-top:5px;width:34px;height:34px;background:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889155_facebook.png?alt=media&token=da78ac35-2865-4895-a4aa-f5ba907b0f97) no-repeat}.instagram[_ngcontent-%COMP%]{margin-top:2px;width:34px;height:34px;background:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889141_instagram.png?alt=media&token=e291f7a1-5861-4857-bda3-e718b7ede800) no-repeat}.orderBox[_ngcontent-%COMP%]{width:100%;height:80px;background-image:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889152_background.png?alt=media&token=59ccefb0-736f-4414-91fd-c59fd8560c6b);border-bottom:2px solid #2f4f4f;background-repeat:no-repeat;background-size:100%}.mnBox[_ngcontent-%COMP%]{padding-top:15px;display:-webkit-box;display:flex;justify-content:space-around}.orderText[_ngcontent-%COMP%]{font-size:40px;font-family:'Roboto Condensed',sans-serif}.orderButton[_ngcontent-%COMP%]{width:200px;height:40px;text-decoration:none;padding-top:3px;font-size:20px;font-family:'Roboto Condensed',sans-serif;color:#fff}.menu[_ngcontent-%COMP%]{display:none;text-align:right}.menu__icon[_ngcontent-%COMP%]{width:45px;height:35px;position:relative;cursor:pointer;display:inline-block}.menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;position:absolute;height:6px;width:100%;background:#085c5f;border-radius:9px;opacity:1;left:0;-webkit-transform:rotate(0);transform:rotate(0);-webkit-transition:.25s ease-in-out;transition:.25s ease-in-out}.menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:0}.menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2), .menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){top:13px}.menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:26px}.menu__links-item[_ngcontent-%COMP%]{font-family:Arial;line-height:30px;text-transform:uppercase;text-decoration:none}.menu__links-item[_ngcontent-%COMP%]:hover{text-decoration:underline}.menu.menu_state_open[_ngcontent-%COMP%]   .menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:18px;width:0%;left:50%}.menu.menu_state_open[_ngcontent-%COMP%]   .menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){-webkit-transform:rotate(45deg);transform:rotate(45deg)}.menu.menu_state_open[_ngcontent-%COMP%]   .menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.menu.menu_state_open[_ngcontent-%COMP%]   .menu__icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:18px;width:0%;left:50%}.menu.menu_state_open[_ngcontent-%COMP%]   .menu__links[_ngcontent-%COMP%]{display:block}.menu__links[_ngcontent-%COMP%]{position:fixed;display:none;top:0;right:0;left:0;margin-top:78px;background-color:rgba(187,195,195,.8);z-index:1000;overflow:auto;font-family:'Roboto Condensed',sans-serif}.menu__links-item[_ngcontent-%COMP%]{display:block;padding:10px 0;text-align:center;color:#2f4f4f;font-weight:700;font-size:20px}@media screen and (max-width:1040px){.firstNumber[_ngcontent-%COMP%], .secondNumber[_ngcontent-%COMP%]{font-size:15px}.orderText[_ngcontent-%COMP%]{font-size:25px}.orderBox[_ngcontent-%COMP%]{height:60px}.orderButton[_ngcontent-%COMP%]{font-size:16px;height:25px;padding:0}.carouselLabel[_ngcontent-%COMP%]{font-size:35px}.textLabel[_ngcontent-%COMP%]{font-size:25px}}@media screen and (max-width:840px){.logo[_ngcontent-%COMP%]{width:32%}.numbers[_ngcontent-%COMP%]{display:none}.contacts[_ngcontent-%COMP%]{width:12%}.carouselLabel[_ngcontent-%COMP%]{font-size:25px}.textLabel[_ngcontent-%COMP%]{font-size:20px}.nMenu[_ngcontent-%COMP%]{width:60%}.nMenuItem[_ngcontent-%COMP%]{font-size:20px}.cars[_ngcontent-%COMP%]{font-size:30px}.fromSweden[_ngcontent-%COMP%]{font-size:22px}.orderText[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:540px){.nMenuItem[_ngcontent-%COMP%]{display:none}.nMenu[_ngcontent-%COMP%]{width:50%;-webkit-box-pack:end;justify-content:flex-end}.menu[_ngcontent-%COMP%]{display:block}.social[_ngcontent-%COMP%]{margin-left:0}.contacts[_ngcontent-%COMP%]{width:10%}}"]],data:{}});function mg(e){return Qo(0,[(e()(),Do(0,0,null,null,46,"div",[["class","header"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,4,"div",[["class","logo"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,1,"p",[["class","cars"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456"])),(e()(),Do(4,0,null,null,1,"p",[["class","fromSweden"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0437 \u0428\u0432\u0435\u0446\u0456\u0457"])),(e()(),Do(6,0,null,null,31,"div",[["class","nMenu"]],null,null,null,null,null)),(e()(),Do(7,0,null,null,2,"a",[["class","nMenuItem"],["href","#"],["routerLink","home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(8,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u0413\u043e\u043b\u043e\u0432\u043d\u0430"])),(e()(),Do(10,0,null,null,2,"a",[["class","nMenuItem"],["href","#"],["routerLink","catalog"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(11,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041a\u0430\u0442\u0430\u043b\u043e\u0433"])),(e()(),Do(13,0,null,null,2,"a",[["class","nMenuItem"],["href","#"],["routerLink","about-us"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(14,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041f\u0440\u043e \u043d\u0430\u0441"])),(e()(),Do(16,0,null,null,2,"a",[["class","nMenuItem"],["href","#"],["routerLink","contacts"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(17,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"])),(e()(),Do(19,0,null,null,18,"div",[["class","menu"]],null,null,null,null,null)),(e()(),Do(20,0,null,null,4,"div",[["class","menu__icon"]],null,null,null,null,null)),(e()(),Do(21,0,null,null,0,"span",[],null,null,null,null,null)),(e()(),Do(22,0,null,null,0,"span",[],null,null,null,null,null)),(e()(),Do(23,0,null,null,0,"span",[],null,null,null,null,null)),(e()(),Do(24,0,null,null,0,"span",[],null,null,null,null,null)),(e()(),Do(25,0,null,null,12,"div",[["class","menu__links"]],null,null,null,null,null)),(e()(),Do(26,0,null,null,2,"a",[["class","menu__links-item"],["href","#"],["routerLink","home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(27,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u0413\u043e\u043b\u043e\u0432\u043d\u0430"])),(e()(),Do(29,0,null,null,2,"a",[["class","menu__links-item"],["href","#"],["routerLink","catalog"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,30).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(30,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041a\u0430\u0442\u0430\u043b\u043e\u0433"])),(e()(),Do(32,0,null,null,2,"a",[["class","menu__links-item"],["href","#"],["routerLink","about-us"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,33).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(33,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041f\u0440\u043e \u041d\u0430\u0441"])),(e()(),Do(35,0,null,null,2,"a",[["class","menu__links-item"],["href","#"],["routerLink","contacts"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(36,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"])),(e()(),Do(38,0,null,null,8,"div",[["class","contacts"]],null,null,null,null,null)),(e()(),Do(39,0,null,null,2,"div",[["class","social d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(40,0,null,null,0,"a",[["class","facebook"],["href","https://www.facebook.com/Car.from.Sweden"],["target","blank"]],null,null,null,null,null)),(e()(),Do(41,0,null,null,0,"a",[["class","instagram"],["href","https://www.instagram.com/prygon_avto_z_shvetsii"],["target","blank"]],null,null,null,null,null)),(e()(),Do(42,0,null,null,4,"div",[["class","numbers flex-column"]],null,null,null,null,null)),(e()(),Do(43,0,null,null,1,"p",[["class","firstNumber"]],null,null,null,null,null)),(e()(),Wo(-1,null,["(067)-25-30-647 \u0420\u043e\u0441\u0442\u0438\u0441\u043b\u0430\u0432"])),(e()(),Do(45,0,null,null,1,"p",[["class","secondNumber"]],null,null,null,null,null)),(e()(),Wo(-1,null,["(067)-11-33-228 \u0422\u0430\u0440\u0430\u0441"])),(e()(),Do(47,0,null,null,35,"div",[["class","bd-example mainCarousel"]],null,null,null,null,null)),(e()(),Do(48,0,null,null,34,"div",[["class","carousel slide carousel-fade"],["data-ride","carousel"],["id","carouselExampleCaptions"]],null,null,null,null,null)),(e()(),Do(49,0,null,null,3,"ol",[["class","carousel-indicators"]],null,null,null,null,null)),(e()(),Do(50,0,null,null,0,"li",[["class","active"],["data-slide-to","0"],["data-target","#carouselExampleCaptions"]],null,null,null,null,null)),(e()(),Do(51,0,null,null,0,"li",[["data-slide-to","1"],["data-target","#carouselExampleCaptions"]],null,null,null,null,null)),(e()(),Do(52,0,null,null,0,"li",[["data-slide-to","2"],["data-target","#carouselExampleCaptions"]],null,null,null,null,null)),(e()(),Do(53,0,null,null,21,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),Do(54,0,null,null,6,"div",[["class","carousel-item active"]],null,null,null,null,null)),(e()(),Do(55,0,null,null,0,"img",[["alt","..."],["class","d-block w-100 img-fluid"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889130_honda.jpg?alt=media&token=61e61944-4808-4259-8256-5a12b7b0d7df"]],null,null,null,null,null)),(e()(),Do(56,0,null,null,4,"div",[["class","carousel-caption d-none d-md-block"]],null,null,null,null,null)),(e()(),Do(57,0,null,null,1,"p",[["class","carouselLabel"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u043f\u0456\u0434 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"])),(e()(),Do(59,0,null,null,1,"p",[["class","textLabel"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0456\u0434\u0431\u0435\u0440\u0435\u043c\u043e \u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043c\u043e \u0432\u0430\u043c \u0431\u0430\u0436\u0430\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c"])),(e()(),Do(61,0,null,null,6,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),Do(62,0,null,null,0,"img",[["alt","..."],["class","d-block w-100 img-fluid"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889145_vw.jpg?alt=media&token=ef6504f8-fc90-4baf-a433-14b7a0e84f03"]],null,null,null,null,null)),(e()(),Do(63,0,null,null,4,"div",[["class","carousel-caption d-none d-md-block"]],null,null,null,null,null)),(e()(),Do(64,0,null,null,1,"p",[["class","carouselLabel"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041e\u0433\u043b\u044f\u0434 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432 \u0432 \u0428\u0432\u0435\u0446\u0456\u0457"])),(e()(),Do(66,0,null,null,1,"p",[["class","textLabel"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041d\u0430\u0448\u0456 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0442\u044c, \u0442\u0430 \u0437\u0440\u043e\u0431\u043b\u044f\u0442\u044c \u0432\u0438\u0441\u043d\u043e\u0432\u043a\u0438 \u043f\u043e \u0432\u0438\u0431\u0440\u0430\u043d\u043e\u043c\u0443 \u0432\u0430\u043c\u0438 \u0430\u0432\u0442\u043e"])),(e()(),Do(68,0,null,null,6,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),Do(69,0,null,null,0,"img",[["alt","..."],["class","d-block w-100 img-fluid"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889144_tiguan.jpg?alt=media&token=f2e77475-f787-4729-9e00-bdf13097b8be"]],null,null,null,null,null)),(e()(),Do(70,0,null,null,4,"div",[["class","carousel-caption d-none d-md-block"]],null,null,null,null,null)),(e()(),Do(71,0,null,null,1,"p",[["class","carouselLabel"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0434\u0430\u0436 \u0432\u0438\u043a\u0443\u043f\u043b\u0435\u043d\u0438\u0445 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432"])),(e()(),Do(73,0,null,null,1,"p",[["class","textLabel"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u0443\u043f\u043b\u044f\u0442\u0438 \u0432\u0436\u0435 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0442\u0430 \u0432\u0438\u043a\u0443\u043f\u043b\u0435\u043d\u0456 \u043d\u0430\u043c\u0438 \u0430\u0432\u0442\u043e \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456"])),(e()(),Do(75,0,null,null,3,"a",[["class","carousel-control-prev"],["data-slide","prev"],["href","#carouselExampleCaptions"],["role","button"]],null,null,null,null,null)),(e()(),Do(76,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(e()(),Do(77,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Previous"])),(e()(),Do(79,0,null,null,3,"a",[["class","carousel-control-next"],["data-slide","next"],["href","#carouselExampleCaptions"],["role","button"]],null,null,null,null,null)),(e()(),Do(80,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(e()(),Do(81,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Next"])),(e()(),Do(83,0,null,null,6,"div",[["class","orderBox"]],null,null,null,null,null)),(e()(),Do(84,0,null,null,5,"div",[["class","mnBox"]],null,null,null,null,null)),(e()(),Do(85,0,null,null,1,"h1",[["class","orderText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u0438 \u043f\u0456\u0434\u0431\u0435\u0440\u0435\u043c\u043e \u0434\u043b\u044f \u0432\u0430\u0441 \u0430\u0432\u0442\u043e \u0432 \u0428\u0432\u0435\u0446\u0456\u0457"])),(e()(),Do(87,0,null,null,2,"a",[["class","orderButton btn btn-danger"],["href",""],["routerLink","zakaz"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,88).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(88,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438 \u0430\u0432\u0442\u043e"]))],(function(e,t){e(t,8,0,"home"),e(t,11,0,"catalog"),e(t,14,0,"about-us"),e(t,17,0,"contacts"),e(t,27,0,"home"),e(t,30,0,"catalog"),e(t,33,0,"about-us"),e(t,36,0,"contacts"),e(t,88,0,"zakaz")}),(function(e,t){e(t,7,0,Vr(t,8).target,Vr(t,8).href),e(t,10,0,Vr(t,11).target,Vr(t,11).href),e(t,13,0,Vr(t,14).target,Vr(t,14).href),e(t,16,0,Vr(t,17).target,Vr(t,17).href),e(t,26,0,Vr(t,27).target,Vr(t,27).href),e(t,29,0,Vr(t,30).target,Vr(t,30).href),e(t,32,0,Vr(t,33).target,Vr(t,33).href),e(t,35,0,Vr(t,36).target,Vr(t,36).href),e(t,87,0,Vr(t,88).target,Vr(t,88).href)}))}var vg=Er("app-header",pg,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-header",[],null,null,null,mg,gg)),Xr(1,114688,null,0,pg,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),yg=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=Object.assign({},e.value);delete t.id,null==e.value.id?this.firestore.collection("clients").add(t):this.firestore.doc("clients"+e.value.id).update(t),this.clearForm()}},{key:"clearForm",value:function(){this.name="",this.phoneNumber=""}}]),e}(),bg=qn({encapsulation:0,styles:[[".footer[_ngcontent-%COMP%]{width:100%;height:100px;background-image:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889152_background.png?alt=media&token=59ccefb0-736f-4414-91fd-c59fd8560c6b);background-repeat:no-repeat;background-size:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;border-top:2px solid #2f4f4f}.footerMd[_ngcontent-%COMP%]{width:100%;height:50px;color:#2f4f4f}.footerInfo[_ngcontent-%COMP%]{width:100%;height:50px}.footerText[_ngcontent-%COMP%]{font-family:Lobster,cursive;font-size:20px}.order[_ngcontent-%COMP%]{font-family:Lobster,cursive;padding-top:8px;padding-bottom:8px;width:50%}.menu[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:50%;-webkit-box-pack:center;justify-content:center}.footerMenu[_ngcontent-%COMP%]{font-family:Lobster,cursive;font-size:20px;text-align:center;padding-top:10px;padding-bottom:8px;width:15%;color:#2f4f4f;text-decoration:none}.footerMenu[_ngcontent-%COMP%]:hover{font-size:25px}.orderText[_ngcontent-%COMP%]{color:#2f4f4f;font-size:20px;padding-top:5px}.name[_ngcontent-%COMP%], .phNumber[_ngcontent-%COMP%]{border-radius:5px}.send[_ngcontent-%COMP%]{color:#fff;padding:0}@media screen and (max-width:1040px){.footer[_ngcontent-%COMP%]{height:150px}.footerInfo[_ngcontent-%COMP%]{height:115px}.myForm[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.order[_ngcontent-%COMP%]{width:40%}.menu[_ngcontent-%COMP%]{width:60%;display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.send[_ngcontent-%COMP%]{height:15%}.footerMenu[_ngcontent-%COMP%]{padding:0;width:40%;font-size:25px}.footerMenu[_ngcontent-%COMP%]:hover{text-decoration:underline;-webkit-text-decoration-color:#2f4f4f;text-decoration-color:#2f4f4f}.orderText[_ngcontent-%COMP%]{font-size:25px}}@media screen and (max-width:540px){.menu[_ngcontent-%COMP%]{display:none}.order[_ngcontent-%COMP%]{width:100%;justify-content:space-around}.orderText[_ngcontent-%COMP%]{font-size:20px}input[_ngcontent-%COMP%]{height:25px}.send[_ngcontent-%COMP%]{height:20px}}"]],data:{}});function _g(e){return Qo(0,[(e()(),Do(0,0,null,null,39,"div",[["class","footer d-flex flex-column "]],null,null,null,null,null)),(e()(),Do(1,0,null,null,35,"div",[["class","footerInfo d-flex"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,21,"div",[["class","order d-flex justify-content-md-between"]],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"p",[["class","orderText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u0438 \u0432\u0430\u043c \u0437\u0430\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443\u0454\u043c\u043e !"])),(e()(),Do(5,0,null,null,18,"form",[["action",""],["autocomplete","off"],["class","myForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==Vr(e,7).onSubmit(n)&&r),"reset"===t&&(r=!1!==Vr(e,7).onReset()&&r),"submit"===t&&(r=!1!==i.onSubmit(Vr(e,7))&&r),r}),null,null)),Xr(6,16384,null,0,jp,[],null,null),Xr(7,4210688,[["form",4]],0,Rp,[[8,null],[8,null]],null,null),Zr(2048,null,Jd,null,[Rp]),Xr(9,16384,null,0,np,[[4,Jd]],null,null),(e()(),Do(10,0,null,null,5,"input",[["class","name"],["name","name"],["placeholder","\u0406\u043c'\u044f"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,11)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,11).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,11)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,11)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.name=n)&&r),r}),null,null)),Xr(11,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(13,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(15,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(16,0,null,null,5,"input",[["class","phNumber"],["name","phoneNumber"],["placeholder","\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,17)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,17).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,17)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,17)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.phoneNumber=n)&&r),r}),null,null)),Xr(17,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(19,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(21,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(22,0,null,null,1,"button",[["class","send btn btn-danger h-75"],["type","submit"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"])),(e()(),Do(24,0,null,null,12,"div",[["class","menu"]],null,null,null,null,null)),(e()(),Do(25,0,null,null,2,"a",[["class","footerMenu"],["href","#"],["routerLink","home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(26,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u0413\u043e\u043b\u043e\u0432\u043d\u0430"])),(e()(),Do(28,0,null,null,2,"a",[["class","footerMenu"],["href","#"],["routerLink","catalog"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,29).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(29,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041a\u0430\u0442\u0430\u043b\u043e\u0433"])),(e()(),Do(31,0,null,null,2,"a",[["class","footerMenu"],["href","#"],["routerLink","about-us"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,32).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(32,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041f\u0440\u043e \u043d\u0430\u0441"])),(e()(),Do(34,0,null,null,2,"a",[["class","footerMenu"],["href","#"],["routerLink","contacts"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,35).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(35,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"])),(e()(),Do(37,0,null,null,2,"div",[["class","footerMd d-flex align-items-end justify-content-center"]],null,null,null,null,null)),(e()(),Do(38,0,null,null,1,"p",[["class","footerText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\xa9 2019 Cars.from.Sweden . All Rights Reserved"]))],(function(e,t){var n=t.component;e(t,13,0,"name",n.name),e(t,19,0,"phoneNumber",n.phoneNumber),e(t,26,0,"home"),e(t,29,0,"catalog"),e(t,32,0,"about-us"),e(t,35,0,"contacts")}),(function(e,t){e(t,5,0,Vr(t,9).ngClassUntouched,Vr(t,9).ngClassTouched,Vr(t,9).ngClassPristine,Vr(t,9).ngClassDirty,Vr(t,9).ngClassValid,Vr(t,9).ngClassInvalid,Vr(t,9).ngClassPending),e(t,10,0,Vr(t,15).ngClassUntouched,Vr(t,15).ngClassTouched,Vr(t,15).ngClassPristine,Vr(t,15).ngClassDirty,Vr(t,15).ngClassValid,Vr(t,15).ngClassInvalid,Vr(t,15).ngClassPending),e(t,16,0,Vr(t,21).ngClassUntouched,Vr(t,21).ngClassTouched,Vr(t,21).ngClassPristine,Vr(t,21).ngClassDirty,Vr(t,21).ngClassValid,Vr(t,21).ngClassInvalid,Vr(t,21).ngClassPending),e(t,25,0,Vr(t,26).target,Vr(t,26).href),e(t,28,0,Vr(t,29).target,Vr(t,29).href),e(t,31,0,Vr(t,32).target,Vr(t,32).href),e(t,34,0,Vr(t,35).target,Vr(t,35).href)}))}var wg=Er("app-footer",yg,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-footer",[],null,null,null,_g,bg)),Xr(1,114688,null,0,yg,[Dd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Cg=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),kg=qn({encapsulation:0,styles:[[".info[_ngcontent-%COMP%]{margin-top:80px;width:100%;min-height:520px;margin-bottom:80px}.bigInfoBox[_ngcontent-%COMP%]{margin-top:60px;width:100%;min-height:400px}.infoBox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:1300px;min-height:400px;justify-content:space-around}.card[_ngcontent-%COMP%]{box-shadow:0 0 15px #d3d3d3;width:20rem}.card-body[_ngcontent-%COMP%]{font-family:'Roboto Condensed',sans-serif}.card-title[_ngcontent-%COMP%]{text-align:center;font-size:24px}.card-text[_ngcontent-%COMP%]{font-size:18px}.title[_ngcontent-%COMP%]{margin-top:40px;width:100%;height:60px;text-align:center;font-size:40px;font-family:'Roboto Condensed',sans-serif}.catalog[_ngcontent-%COMP%]{width:100%;min-height:450px;background-image:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889152_background.png?alt=media&token=59ccefb0-736f-4414-91fd-c59fd8560c6b);background-repeat:no-repeat;background-size:100% 100%;margin-top:20px;border-top:2px solid #2f4f4f;border-bottom:2px solid #2f4f4f;padding:20px}.catalogBoxFirst[_ngcontent-%COMP%]{width:100%;min-height:450px}.catalogBoxSecond[_ngcontent-%COMP%]{width:1300px;min-height:450px}.carsInfo[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:60px;width:100%;min-height:350px;-webkit-box-pack:center;justify-content:center}.left[_ngcontent-%COMP%]{width:35%;height:315px;border:2px solid #2f4f4f;border-radius:5px}.middle[_ngcontent-%COMP%]{width:29%;min-height:320px;padding:18px;font-family:'Roboto Condensed',sans-serif}.newMiddle[_ngcontent-%COMP%]{font-family:'Roboto Condensed',sans-serif;display:none}.middleTitle[_ngcontent-%COMP%]{font-size:30px;text-align:center}.middleText[_ngcontent-%COMP%]{padding-top:20px;font-size:20px}.zakaz[_ngcontent-%COMP%]{padding-top:12px;font-family:'Roboto Condensed',sans-serif;font-size:20px}.right[_ngcontent-%COMP%]{width:35%;height:315px;border:2px solid #2f4f4f;border-radius:5px}.peregliad[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center;width:100%;height:60px}.benefits[_ngcontent-%COMP%]{margin-top:80px;width:100%;min-height:500px;padding:20px;margin-bottom:80px}.benefitsBox[_ngcontent-%COMP%]{margin-top:40px;width:100%;min-height:320px}.bnBox[_ngcontent-%COMP%]{width:1300px;min-height:320px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.leftBox[_ngcontent-%COMP%]{width:35%;min-height:320px}.rightBox[_ngcontent-%COMP%]{width:35%;height:320px}.shtraf[_ngcontent-%COMP%], .texogliad[_ngcontent-%COMP%]{width:100%;min-height:106px}.official[_ngcontent-%COMP%]{width:100%;min-height:108px}.comlectation[_ngcontent-%COMP%], .dorogy[_ngcontent-%COMP%]{width:100%;min-height:106px}.texobslug[_ngcontent-%COMP%]{width:100%;min-height:108px}.textBox[_ngcontent-%COMP%]{padding-top:40px;font-family:'Roboto Condensed',sans-serif;font-size:20px;text-align:center}.imgBox[_ngcontent-%COMP%]{float:left}.text[_ngcontent-%COMP%]{width:100%;height:60px}.bigText[_ngcontent-%COMP%]{text-align:center;font-family:'Roboto Condensed',sans-serif;font-size:40px}@media screen and (max-width:1040px){.infoBox[_ngcontent-%COMP%]{width:85%;display:-webkit-box;display:flex;justify-content:space-around}.card-text[_ngcontent-%COMP%]{font-size:15px}.card[_ngcontent-%COMP%]{width:14rem}.middle[_ngcontent-%COMP%]{width:60%}.middleTitle[_ngcontent-%COMP%]{font-size:20px}.middleText[_ngcontent-%COMP%]{font-size:16px}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{height:178px}.catalogBoxFirst[_ngcontent-%COMP%], .catalogBoxSecond[_ngcontent-%COMP%]{min-height:390px}.carsInfo[_ngcontent-%COMP%]{min-height:326px}.zakaz[_ngcontent-%COMP%]{font-size:17px;padding:0}.peregliad[_ngcontent-%COMP%]{height:30px}.catalogBoxSecond[_ngcontent-%COMP%]{width:80%}}@media screen and (max-width:840px){.infoBox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.card[_ngcontent-%COMP%]{width:70%;margin-top:30px}.bnBox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.leftBox[_ngcontent-%COMP%], .rightBox[_ngcontent-%COMP%]{width:100%}.comlectation[_ngcontent-%COMP%], .dorogy[_ngcontent-%COMP%], .official[_ngcontent-%COMP%], .shtraf[_ngcontent-%COMP%], .texobslug[_ngcontent-%COMP%], .texogliad[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.middle[_ngcontent-%COMP%]{display:none}.newMiddle[_ngcontent-%COMP%]{display:inline-block}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{width:48%}.carsInfo[_ngcontent-%COMP%]{justify-content:space-around;min-height:245px}}@media screen and (max-width:540px){.title[_ngcontent-%COMP%]{font-size:35px}.carsInfo[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{width:75%;margin-bottom:20px}.textBox[_ngcontent-%COMP%]{font-size:16px}.zakaz[_ngcontent-%COMP%]{font-size:14px;padding:2px 0}}"]],data:{}});function Tg(e){return Qo(0,[(e()(),Do(0,0,null,null,29,"div",[["class","info"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u042f\u043a \u0437\u043d\u0430\u0439\u0442\u0438 \u0442\u0430 \u043a\u0443\u043f\u0438\u0442\u0438 \u0430\u0432\u0442\u043e \u0432 \u0428\u0432\u0435\u0446\u0456\u0457"])),(e()(),Do(3,0,null,null,26,"div",[["class","bigInfoBox d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(4,0,null,null,25,"div",[["class","infoBox"]],null,null,null,null,null)),(e()(),Do(5,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(e()(),Do(6,0,null,null,0,"img",[["alt","..."],["class","card-img-top"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889145_zayavka.png?alt=media&token=fbf6b642-1532-492d-8de6-62644699310b"]],null,null,null,null,null)),(e()(),Do(7,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),Do(8,0,null,null,1,"h5",[["class","card-title text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0417\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0437\u0430\u044f\u0432\u043a\u0443"])),(e()(),Do(10,0,null,null,5,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0437\u0430\u043c\u043e\u0432\u0438\u0442\u0438 \u043f\u0456\u0434\u0431\u0456\u0440 \u0442\u0430 \u043e\u0433\u043b\u044f\u0434 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f \u0432 \u043d\u0430\u0448\u0456\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 "])),(e()(),Do(12,0,null,null,2,"a",[["class","text-danger"],["href",""],["routerLink","/zakaz"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(13,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"])),(e()(),Wo(-1,null,[". \u0421\u0442\u0430\u0440\u0430\u0439\u0442\u0435\u0441\u044c \u0437\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0437\u0430\u044f\u0432\u043a\u0443 \u044f\u043a \u043c\u043e\u0436\u043d\u0430 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435. \u041f\u0456\u0441\u043b\u044f \u0437\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043d\u044f \u0437\u0430\u044f\u0432\u043a\u0438 \u0437 \u0412\u0430\u043c\u0438 \u0437\u0432'\u044f\u0436\u0435\u0442\u044c\u0441\u044f \u043d\u0430\u0448 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0456 \u0443\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0432\u0441\u0456 \u0434\u0435\u0442\u0430\u043b\u0456."])),(e()(),Do(16,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(e()(),Do(17,0,null,null,0,"img",[["alt","..."],["class","card-img-top"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889140_inspection.png?alt=media&token=69fd5621-6849-47d9-9a1e-f383bdd6c083"]],null,null,null,null,null)),(e()(),Do(18,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),Do(19,0,null,null,1,"h5",[["class","card-title text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u043e\u0448\u0443\u043a \u0442\u0430 \u043e\u0433\u043b\u044f\u0434"])),(e()(),Do(21,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0456\u0441\u043b\u044f \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u0442\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u0438 \u043f\u043e\u0433\u043e\u0434\u0436\u0443\u0454\u043c\u043e \u0432\u0441\u0456 \u0434\u0435\u0442\u0430\u043b\u0456 \u043f\u043e \u0431\u0430\u0436\u0430\u043d\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044e. \u0414\u0430\u043b\u044c\u0448\u0435 \u0448\u0443\u043a\u0430\u0454\u043c\u043e \u0430\u0432\u0442\u043e \u0456 \u0432\u0438\u0457\u0436\u0434\u0436\u0430\u0454\u043c\u043e \u043d\u0430 \u043e\u0433\u043b\u044f\u0434 \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e. \u0412\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u043f\u043e\u0432\u043d\u0438\u0439 \u0432\u0456\u0434\u0435\u043e \u0442\u0430 \u0444\u043e\u0442\u043e \u0437\u0432\u0456\u0442 \u0437 \u043e\u0433\u043b\u044f\u0434\u0443, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0432\u0438\u0441\u043d\u043e\u0432\u043e\u043a, \u0447\u0438 \u0432\u0430\u0440\u0442\u043e \u043a\u0443\u043f\u043b\u044f\u0442\u0438 \u0434\u0430\u043d\u0435 \u0430\u0432\u0442\u043e."])),(e()(),Do(23,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(e()(),Do(24,0,null,null,0,"img",[["alt","..."],["class","card-img-top"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889154_dogovir.png?alt=media&token=a0bd8eac-1303-4bb8-8c39-e9083461fad4"]],null,null,null,null,null)),(e()(),Do(25,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),Do(26,0,null,null,1,"h5",[["class","card-title text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u0443\u043f\u0456\u0432\u043b\u044f \u0442\u0430 \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"])),(e()(),Do(28,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0456\u0441\u043b\u044f \u043e\u0433\u043b\u044f\u0434\u0443 \u043c\u0438 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0430\u0454\u043c\u043e \u0412\u0430\u043c \u0437\u0434\u0456\u0439\u0441\u043d\u0438\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443 \u0430\u0432\u0442\u043e \u0432 \u0428\u0432\u0435\u0446\u0456\u0457, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043e\u0444\u043e\u0440\u043c\u043b\u044f\u0454\u043c\u043e \u0432\u0441\u0456 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0456 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438, \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0443. \u041d\u0435 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u044f\u043a\u0456 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438 \u0412\u0430\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u043d\u0430 \u043c\u0438\u0442\u043d\u0438\u0446\u0456, \u0442\u043e\u043c\u0443 \u0449\u043e \u043c\u0438 \u0432\u0441\u0435 \u043f\u0456\u0434\u0433\u043e\u0442\u0443\u0454\u043c\u043e, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0443\u0454\u043c\u043e \u043f\u043e \u0432\u0441\u0456\u0445 \u043f\u0438\u0442\u0430\u043d\u043d\u044f\u0445."])),(e()(),Do(30,0,null,null,19,"div",[["class","catalog"]],null,null,null,null,null)),(e()(),Do(31,0,null,null,14,"div",[["class","catalogBoxFirst d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(32,0,null,null,13,"div",[["class","catalogBoxSecond"]],null,null,null,null,null)),(e()(),Do(33,0,null,null,4,"div",[["class","newMiddle"]],null,null,null,null,null)),(e()(),Do(34,0,null,null,1,"p",[["class","middleTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0435\u043f\u0435\u0440 \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u0443\u043f\u0438\u0442\u0438 \u0432\u0436\u0435 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c \u043f\u0440\u044f\u043c\u043e \u0443 \u043d\u0430\u0441"])),(e()(),Do(36,0,null,null,1,"p",[["class","middleText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u0438 \u0448\u0443\u043a\u0430\u0454\u043c\u043e, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0454\u043c\u043e \u0442\u0430 \u043a\u0443\u043f\u043b\u044f\u0454\u043c\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0441\u0435\u0440\u0435\u0434 \u043d\u0430\u0448\u0438\u0445 \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0432 \u0428\u0432\u0435\u0446\u0456\u0457, \u0449\u043e\u0431 \u0412\u0438 \u043c\u043e\u0433\u043b\u0438 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0456\u0445 \u0437\u0430\u0442\u0440\u0430\u0442 \u0447\u0430\u0441\u0443, \u0441\u0438\u043b \u0442\u0430 \u0433\u0440\u043e\u0448\u0435\u0439 \u043a\u0443\u043f\u0438\u0442\u0438 \u0441\u043e\u0431\u0456 \u0430\u0432\u0442\u043e. \u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u043d\u0430\u0441 \u0456 \u043c\u0438 \u0440\u043e\u0437\u043a\u0430\u0436\u0435\u043c\u043e \u0412\u0430\u043c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0432\u0441\u044e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0430\u0432\u0442\u043e."])),(e()(),Do(38,0,null,null,7,"div",[["class","carsInfo"]],null,null,null,null,null)),(e()(),Do(39,0,null,null,0,"img",[["alt",""],["class","left"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889151_b8.jpg?alt=media&token=12da7147-5e9a-4071-8240-18d974e65cff"]],null,null,null,null,null)),(e()(),Do(40,0,null,null,4,"div",[["class","middle"]],null,null,null,null,null)),(e()(),Do(41,0,null,null,1,"p",[["class","middleTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0435\u043f\u0435\u0440 \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u0443\u043f\u0438\u0442\u0438 \u0432\u0436\u0435 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c \u043f\u0440\u044f\u043c\u043e \u0443 \u043d\u0430\u0441"])),(e()(),Do(43,0,null,null,1,"p",[["class","middleText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u0438 \u0448\u0443\u043a\u0430\u0454\u043c\u043e, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0454\u043c\u043e \u0442\u0430 \u043a\u0443\u043f\u043b\u044f\u0454\u043c\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0441\u0435\u0440\u0435\u0434 \u043d\u0430\u0448\u0438\u0445 \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0432 \u0428\u0432\u0435\u0446\u0456\u0457, \u0449\u043e\u0431 \u0412\u0438 \u043c\u043e\u0433\u043b\u0438 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0456\u0445 \u0437\u0430\u0442\u0440\u0430\u0442 \u0447\u0430\u0441\u0443, \u0441\u0438\u043b \u0442\u0430 \u0433\u0440\u043e\u0448\u0435\u0439 \u043a\u0443\u043f\u0438\u0442\u0438 \u0441\u043e\u0431\u0456 \u0430\u0432\u0442\u043e. \u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u043d\u0430\u0441 \u0456 \u043c\u0438 \u0440\u043e\u0437\u043a\u0430\u0436\u0435\u043c\u043e \u0412\u0430\u043c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0432\u0441\u044e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0430\u0432\u0442\u043e."])),(e()(),Do(45,0,null,null,0,"img",[["alt",""],["class","right"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889148_audi.jpg?alt=media&token=b5eabf90-d2c3-49e6-9d4c-a192ca48c698"]],null,null,null,null,null)),(e()(),Do(46,0,null,null,3,"div",[["class","peregliad d-flex"]],null,null,null,null,null)),(e()(),Do(47,0,null,null,2,"a",[["class","btn btn-danger zakaz"],["href",""],["routerLink","/catalog"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,48).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(48,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"])),(e()(),Do(50,0,null,null,31,"div",[["class","benefits"]],null,null,null,null,null)),(e()(),Do(51,0,null,null,2,"div",[["class","text"]],null,null,null,null,null)),(e()(),Do(52,0,null,null,1,"p",[["class","bigText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432 \u0437 \u0428\u0432\u0435\u0446\u0456\u0457"])),(e()(),Do(54,0,null,null,27,"div",[["class","benefitsBox d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(55,0,null,null,26,"div",[["class","bnBox"]],null,null,null,null,null)),(e()(),Do(56,0,null,null,12,"div",[["class","leftBox d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(57,0,null,null,3,"div",[["class","texogliad"]],null,null,null,null,null)),(e()(),Do(58,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889143_settings.png?alt=media&token=6b94f5c5-835f-4a89-9c13-a52ba0ccbb62"]],null,null,null,null,null)),(e()(),Do(59,0,null,null,1,"p",[["class","textBox text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u0439 \u0436\u043e\u0441\u0442\u043a\u0438\u0439 \u0449\u043e\u0440\u0456\u0447\u043d\u0438\u0439 \u0442\u0435\u0445\u043e\u0433\u043b\u044f\u0434"])),(e()(),Do(61,0,null,null,3,"div",[["class","shtraf"]],null,null,null,null,null)),(e()(),Do(62,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889153_cash.png?alt=media&token=71bc8743-5754-4c2e-9bb5-47a01bb5de83"]],null,null,null,null,null)),(e()(),Do(63,0,null,null,1,"p",[["class","textBox text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0428\u0442\u0440\u0430\u0444 \u0437\u0430 \u0441\u043a\u0440\u0443\u0447\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0440\u043e\u0431\u0456\u0433\u0443(\u044f\u043a \u043c\u0456\u043d\u0456\u043c\u0443\u043c)"])),(e()(),Do(65,0,null,null,3,"div",[["class","official"]],null,null,null,null,null)),(e()(),Do(66,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889141_laptop.png?alt=media&token=9abaee3b-3064-43ac-bbc2-0ad43c83127a"]],null,null,null,null,null)),(e()(),Do(67,0,null,null,1,"p",[["class","textBox text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043e\u0444\u0456\u0446\u0456\u0430\u043b\u044c\u043d\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f"])),(e()(),Do(69,0,null,null,12,"div",[["class","rightBox d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(70,0,null,null,3,"div",[["class","dorogy"]],null,null,null,null,null)),(e()(),Do(71,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889144_truck.png?alt=media&token=1e4f5f3f-5d82-4d66-aca0-267f63f94d89"]],null,null,null,null,null)),(e()(),Do(72,0,null,null,1,"p",[["class","textBox text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0411\u0435\u0437\u043f\u0435\u0447\u043d\u0456 \u0434\u043e\u0440\u043e\u0433\u0438 \u0437 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u043d\u044f\u043c \u0448\u0432\u0438\u0434\u043a\u043e\u0441\u0442\u0456"])),(e()(),Do(74,0,null,null,3,"div",[["class","comlectation"]],null,null,null,null,null)),(e()(),Do(75,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889142_like.png?alt=media&token=ee0ec78c-a84c-4928-b6fa-dc91684f8b01"]],null,null,null,null,null)),(e()(),Do(76,0,null,null,1,"p",[["class","textBox text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0420\u043e\u0437\u0448\u0438\u0440\u0435\u043d\u0430 (\u0441\u043a\u0430\u043d\u0434\u0438\u043d\u0430\u0432\u0441\u044c\u043a\u0430) \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f"])),(e()(),Do(78,0,null,null,3,"div",[["class","texobslug"]],null,null,null,null,null)),(e()(),Do(79,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889153_clipboard.png?alt=media&token=c36a289f-920f-4351-bb2a-478a983a9206"]],null,null,null,null,null)),(e()(),Do(80,0,null,null,1,"p",[["class","textBox text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0427\u0443\u0434\u043e\u0432\u0430 \u044f\u043a\u0456\u0441\u0442\u044c \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f"]))],(function(e,t){e(t,13,0,"/zakaz"),e(t,48,0,"/catalog")}),(function(e,t){e(t,12,0,Vr(t,13).target,Vr(t,13).href),e(t,47,0,Vr(t,48).target,Vr(t,48).href)}))}var Sg=Er("app-home",Cg,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-home",[],null,null,null,Tg,kg)),Xr(1,114688,null,0,Cg,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Eg=function(){function e(t,n){_classCallCheck(this,e),this.firestore=t,this.productsService=n,this.getProducts()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getProducts",value:function(){var e=this;this.productsService.getProducts().subscribe((function(t){e.products=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),console.log(e.products)}))}}]),e}(),Ig=qn({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:100%;min-height:600px}.carContainer[_ngcontent-%COMP%]{width:90%;min-height:600px;padding:20px;font-family:'Roboto Condensed',sans-serif}.info[_ngcontent-%COMP%]{margin-top:50px;width:100%;min-height:200px}.titleInfo[_ngcontent-%COMP%]{text-align:center;font-size:30px}.titleText[_ngcontent-%COMP%]{font-size:20px}.cars[_ngcontent-%COMP%]{margin-top:50px;width:100%;min-height:450px}.carsTitle[_ngcontent-%COMP%]{text-align:center;font-size:30px;margin-bottom:20px}.CarBox[_ngcontent-%COMP%]{width:100%;min-height:250px;border:1px solid #d3d3d3;border-radius:5px;padding:10px;box-shadow:0 0 10px #2f4f4f;margin-top:60px}.MainImg[_ngcontent-%COMP%]{border-radius:5px;margin-right:10px}.CarInfoBox[_ngcontent-%COMP%]{width:100%;min-height:225px}.infoBoxTitle[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.table[_ngcontent-%COMP%]{width:100%;min-height:225px}.option_first[_ngcontent-%COMP%], .option_second[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.spec[_ngcontent-%COMP%]{font-size:15px}.price[_ngcontent-%COMP%]{width:20%;height:145px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.priceNew[_ngcontent-%COMP%]{display:none}.spanPrice[_ngcontent-%COMP%]{font-size:15px;font-weight:700;text-align:center}.money[_ngcontent-%COMP%]{font-size:30px;font-weight:700;text-align:end}.containerSoldCars[_ngcontent-%COMP%]{width:100%;min-height:600px;background-image:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889152_background.png?alt=media&token=59ccefb0-736f-4414-91fd-c59fd8560c6b);background-repeat:no-repeat;background-size:100% 100%}.SoldCarsBox[_ngcontent-%COMP%]{width:1300px;min-height:600px;padding:20px;font-family:'Roboto Condensed',sans-serif}.soldCarsTitle[_ngcontent-%COMP%]{text-align:center;font-size:30px;margin-top:30px}@media screen and (max-width:1040px){.CarBox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.MainImg[_ngcontent-%COMP%]{max-width:300px}.CarInfoBox[_ngcontent-%COMP%]{width:85%}.infoBoxTitle[_ngcontent-%COMP%]{margin-top:20px}.price[_ngcontent-%COMP%]{display:none}.priceNew[_ngcontent-%COMP%]{display:inline-block}}@media screen and (max-width:540px){.table[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}"]],data:{}});function xg(e){return Qo(0,[(e()(),Do(0,0,null,null,59,"div",[["class","CarBox d-flex"],["data-target",".bd-example-modal-xl"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,0,"img",[["alt",""],["class","MainImg"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889149_audi-catalog.jpg?alt=media&token=23ccb0f0-2144-4197-8bbc-d4c362b6d5aa"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,52,"div",[["class","CarInfoBox"]],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"p",[["class","infoBoxTitle"]],null,null,null,null,null)),(e()(),Wo(4,null,["",""])),(e()(),Do(5,0,null,null,49,"div",[["class","table d-flex"]],null,null,null,null,null)),(e()(),Do(6,0,null,null,21,"table",[["class","first"]],null,null,null,null,null)),(e()(),Do(7,0,null,null,20,"tbody",[],null,null,null,null,null)),(e()(),Do(8,0,null,null,4,"tr",[["class","category_body_style"]],null,null,null,null,null)),(e()(),Do(9,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430:"])),(e()(),Do(11,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(12,null,["",""])),(e()(),Do(13,0,null,null,4,"tr",[["class","category_mileage"]],null,null,null,null,null)),(e()(),Do(14,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0431\u0456\u0433:"])),(e()(),Do(16,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(17,null,["",""])),(e()(),Do(18,0,null,null,4,"tr",[["class","category_transmission"]],null,null,null,null,null)),(e()(),Do(19,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u0440\u043e\u0431\u043a\u0430:"])),(e()(),Do(21,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(22,null,["",""])),(e()(),Do(23,0,null,null,4,"tr",[["class","category_drivetrain"]],null,null,null,null,null)),(e()(),Do(24,0,null,null,1,"td",[["class","option_first"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0440\u0430\u043d\u0441\u043c\u0456\u0441\u0456\u044f:"])),(e()(),Do(26,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(27,null,["",""])),(e()(),Do(28,0,null,null,21,"table",[["class","second"]],null,null,null,null,null)),(e()(),Do(29,0,null,null,20,"tbody",[],null,null,null,null,null)),(e()(),Do(30,0,null,null,4,"tr",[["class","category_engine"]],null,null,null,null,null)),(e()(),Do(31,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u0432\u0438\u0433\u0443\u043d:"])),(e()(),Do(33,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(34,null,["",""])),(e()(),Do(35,0,null,null,4,"tr",[["class","category_body_color"]],null,null,null,null,null)),(e()(),Do(36,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043b\u0456\u0440 \u043a\u0443\u0437\u043e\u0432\u0430:"])),(e()(),Do(38,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(39,null,["",""])),(e()(),Do(40,0,null,null,4,"tr",[["class","category_interior"]],null,null,null,null,null)),(e()(),Do(41,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0406\u043d\u0442\u0435\u0440'\u0454\u0440:"])),(e()(),Do(43,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(44,null,["",""])),(e()(),Do(45,0,null,null,4,"tr",[["class","category_mpg"]],null,null,null,null,null)),(e()(),Do(46,0,null,null,1,"td",[["class","option_second"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0420\u043e\u0437\u0445\u0456\u0434:"])),(e()(),Do(48,0,null,null,1,"td",[["class","spec"]],null,null,null,null,null)),(e()(),Wo(49,null,["",""])),(e()(),Do(50,0,null,null,4,"div",[["class","price justify-content-md-end"]],null,null,null,null,null)),(e()(),Do(51,0,null,null,1,"span",[["class","spanPrice"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0426\u0456\u043d\u0430 :"])),(e()(),Do(53,0,null,null,1,"p",[["class","money"]],null,null,null,null,null)),(e()(),Wo(54,null,["",""])),(e()(),Do(55,0,null,null,4,"div",[["class","priceNew"]],null,null,null,null,null)),(e()(),Do(56,0,null,null,1,"span",[["class","spanPrice"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0426\u0456\u043d\u0430 :"])),(e()(),Do(58,0,null,null,1,"p",[["class","money"]],null,null,null,null,null)),(e()(),Wo(59,null,["",""]))],null,(function(e,t){e(t,4,0,t.context.$implicit.title),e(t,12,0,t.context.$implicit.bodyType),e(t,17,0,t.context.$implicit.probig),e(t,22,0,t.context.$implicit.korobka),e(t,27,0,t.context.$implicit.transmision),e(t,34,0,t.context.$implicit.engine),e(t,39,0,t.context.$implicit.bodyColor),e(t,44,0,t.context.$implicit.interior),e(t,49,0,t.context.$implicit.consumption),e(t,54,0,t.context.$implicit.price),e(t,59,0,t.context.$implicit.price)}))}function Ag(e){return Qo(0,[(e()(),Do(0,0,null,null,39,"div",[["class","container d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,38,"div",[["class","carContainer"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,13,"div",[["class","info"]],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"p",[["class","titleInfo text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u0443\u043f\u0438\u0442\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c \u043f\u0440\u044f\u043c\u043e \u0443 \u043d\u0430\u0441"])),(e()(),Do(5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(6,0,null,null,9,"p",[["class","titleText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u0438 \u0448\u0443\u043a\u0430\u0454\u043c\u043e, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0454\u043c\u043e \u0442\u0430 \u043a\u0443\u043f\u043b\u044f\u0454\u043c\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0432 \u0428\u0432\u0435\u0446\u0456\u0457, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431 \u0412\u0438 \u043c\u043e\u0433\u043b\u0438 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0456\u0445 \u0437\u0430\u0442\u0440\u0430\u0442 \u0447\u0430\u0441\u0443, \u0441\u0438\u043b \u0442\u0430 \u0433\u0440\u043e\u0448\u0435\u0439 \u043a\u0443\u043f\u0438\u0442\u0438 \u0441\u043e\u0431\u0456 \u0430\u0432\u0442\u043e. \u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u043d\u0430\u0441 \u0456 \u043c\u0438 \u0440\u043e\u0437\u043a\u0430\u0436\u0435\u043c\u043e \u0432\u0441\u044e \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0456\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0447\u0438\u0439 \u0412\u0430\u0441 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c."])),(e()(),Do(8,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Wo(-1,null,[" \u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0442\u0430 \u0446\u0456\u043d\u0438 \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u0438\u0432\u0438\u0442\u0438\u0441\u044c \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 \u043d\u0438\u0436\u0447\u0435. \u041f\u043e \u043f\u0438\u0442\u0430\u043d\u043d\u044f\u043c \u043a\u0443\u043f\u0456\u0432\u043b\u0456 \u0437\u0432\u0435\u0440\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u043e \u043d\u0430\u0448\u0438\u0445 "])),(e()(),Do(10,0,null,null,2,"a",[["class","text-danger text-decoration-none"],["href","#"],["routerLink","/contacts"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Vr(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Xr(11,671744,null,0,$h,[Jh,qc,il],{routerLink:[0,"routerLink"]},null),(e()(),Wo(-1,null,["\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430\u0445"])),(e()(),Wo(-1,null,["."])),(e()(),Do(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Wo(-1,null,[" \u0422\u0430\u043a\u043e\u0436 \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0432\u0430\u0442\u0438 \u0441\u0432\u043e\u044e \u0446\u0456\u043d\u0443 \u0437\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c, \u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0439\u0442\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u0443 \u0446\u0456\u043d\u0443."])),(e()(),Do(16,0,null,null,23,"div",[["class","cars"]],null,null,null,null,null)),(e()(),Do(17,0,null,null,1,"p",[["class","carsTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"])),(e()(),Do(19,0,null,null,18,"div",[["aria-hidden","true"],["aria-labelledby","myExtraLargeModalLabel"],["class","modal fade bd-example-modal-xl"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(e()(),Do(20,0,null,null,17,"div",[["class","modal-dialog modal-xl"]],null,null,null,null,null)),(e()(),Do(21,0,null,null,16,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),Do(22,0,null,null,15,"div",[["class","carousel slide"],["data-ride","carousel"],["id","carouselExampleControls"]],null,null,null,null,null)),(e()(),Do(23,0,null,null,6,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),Do(24,0,null,null,1,"div",[["class","carousel-item active"]],null,null,null,null,null)),(e()(),Do(25,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889150_audi-slaider1.jpg?alt=media&token=6337029b-9ada-4871-b05d-40de89f82fd4"]],null,null,null,null,null)),(e()(),Do(26,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),Do(27,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889150_audi-slaider2.jpg?alt=media&token=61ded7cf-8e72-4c5b-bd1a-34e7e0e8875e"]],null,null,null,null,null)),(e()(),Do(28,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),Do(29,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889151_audi-slaider3.jpg?alt=media&token=8747fe62-a290-4b9c-bd00-f5ab38a63e18"]],null,null,null,null,null)),(e()(),Do(30,0,null,null,3,"a",[["class","carousel-control-prev"],["data-slide","prev"],["href","#carouselExampleControls"],["role","button"]],null,null,null,null,null)),(e()(),Do(31,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(e()(),Do(32,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Previous"])),(e()(),Do(34,0,null,null,3,"a",[["class","carousel-control-next"],["data-slide","next"],["href","#carouselExampleControls"],["role","button"]],null,null,null,null,null)),(e()(),Do(35,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(e()(),Do(36,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Next"])),(e()(),Po(16777216,null,null,1,null,xg)),Xr(39,278528,null,0,_l,[Sn,kn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Do(40,0,null,null,4,"div",[["class","containerSoldCars d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(41,0,null,null,3,"div",[["class","SoldCarsBox"]],null,null,null,null,null)),(e()(),Do(42,0,null,null,1,"p",[["class","soldCarsTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0434\u0430\u043d\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456"])),(e()(),Do(44,0,null,null,0,"hr",[["style","color: white; border-color: white;"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,11,0,"/contacts"),e(t,39,0,n.products)}),(function(e,t){e(t,10,0,Vr(t,11).target,Vr(t,11).href)}))}var Og=Er("app-catalog",Eg,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-catalog",[],null,null,null,Ag,Ig)),Xr(1,114688,null,0,Eg,[Dd,sg],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Ng=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),Pg=qn({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:100%;min-height:700px;font-family:'Roboto Condensed',sans-serif}.upBox[_ngcontent-%COMP%]{width:1300px;min-height:600px;padding:20px}.titleUpBox[_ngcontent-%COMP%]{margin-top:80px;font-size:35px;text-align:center}.aboutText[_ngcontent-%COMP%]{font-size:20px}ul[_ngcontent-%COMP%]{padding:20px;font-size:18px;line-height:30px;list-style-type:disc}.underImg[_ngcontent-%COMP%]{margin-top:30px;font-size:20px}.container2[_ngcontent-%COMP%]{width:100%;min-height:600px;font-family:'Roboto Condensed',sans-serif}.downBox[_ngcontent-%COMP%]{width:1300px;min-height:600px;padding:20px}.titleDownBox[_ngcontent-%COMP%]{margin-top:80px;font-size:30px}.bottomContainer[_ngcontent-%COMP%]{width:100%;height:500px}a[_ngcontent-%COMP%]{text-decoration:none}iframe[_ngcontent-%COMP%]{width:85%;height:400px}.carsfromsweden[_ngcontent-%COMP%]{font-size:40px}@media screen and (max-width:540px){.carsfromsweden[_ngcontent-%COMP%], .titleDownBox[_ngcontent-%COMP%], .titleUpBox[_ngcontent-%COMP%]{font-size:25px}}"]],data:{}});function Dg(e){return Qo(0,[(e()(),Do(0,0,null,null,42,"div",[["class","container d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,41,"div",[["class","upBox"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,3,"p",[["class","titleUpBox"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0444\u0435\u0441\u0456\u0439\u043d\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0430 \u0432 \u043f\u0438\u0442\u0430\u043d\u043d\u044f\u0445 \u043a\u0443\u043f\u0456\u0432\u043b\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432 \u0432 \u0428\u0432\u0435\u0446\u0456\u0457 \u0432\u0456\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 "])),(e()(),Do(4,0,null,null,1,"b",[["class","text-danger carsfromsweden"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Cars.from.Sweden"])),(e()(),Do(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(7,0,null,null,1,"p",[["class","aboutText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0430\u0432\u0442\u043e \u043f\u0456\u0434 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437 \u0428\u0432\u0435\u0446\u0456\u0457 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430, \u0430\u0434\u0436\u0435 \u043c\u0438 \u043d\u0430\u0434\u0430\u0454\u043c\u043e \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0456 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0437 \u043a\u0443\u043f\u0456\u0432\u043b\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f \u0432 \u0428\u0432\u0435\u0446\u0456\u0457. \u041c\u0438:"])),(e()(),Do(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(10,0,null,null,8,"ul",[],null,null,null,null,null)),(e()(),Do(11,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0428\u0443\u043a\u0430\u0454\u043c\u043e \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c."])),(e()(),Do(13,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0432\u043e\u0434\u0438\u043c\u043e \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0438\u0439 \u043e\u0433\u043b\u044f\u0434."])),(e()(),Do(15,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u0454\u043c\u043e \u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432."])),(e()(),Do(17,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0454\u043c\u043e \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c \u0434\u043e \u043a\u043e\u0440\u0434\u043e\u043d\u0443 \u0437 \u0423\u043a\u0440\u0430\u0457\u043d\u043e\u044e."])),(e()(),Do(19,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(20,0,null,null,1,"p",[["class","aboutText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0417\u0430 \u0447\u0430\u0441 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u0441\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u043c\u0438 \u0432\u0441\u0442\u0438\u0433\u043b\u0438 \u043f\u0440\u0438\u0432\u0435\u0437\u0442\u0438 \u043d\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 100 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432, \u0434\u0435\u0445\u0442\u043e \u0437 \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432 \u0437\u0432\u0435\u0440\u0442\u0430\u0432\u0441\u044f \u0434\u043e \u043d\u0430\u0441 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0430\u0437\u0456\u0432, \u0442\u0430\u043a \u044f\u043a \u043a\u0443\u043f\u0443\u0432\u0430\u043b\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456 \u0434\u043b\u044f \u043a\u0456\u043b\u044c\u043a\u043e\u0445 \u0447\u043b\u0435\u043d\u0456\u0432 \u0441\u0456\u043c'\u0457."])),(e()(),Do(22,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(23,0,null,null,0,"img",[["alt",""],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889147_art.jpg?alt=media&token=4e7356ba-3373-4a7f-b513-146bf1a3a276"],["style","max-width: 100%;"]],null,null,null,null,null)),(e()(),Do(24,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(25,0,null,null,1,"p",[["class","underImg"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0430\u043a\u043e\u0436 \u043d\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0442\u0443\u0440\u0431\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043f\u0440\u043e \u0441\u0442\u0430\u043d \u0432\u0438\u0431\u0440\u0430\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e. \u041c\u0438 \u0432\u0438\u044f\u0432\u0438\u043c\u043e \u0432\u0441\u0456 \u043d\u0435\u0432\u043a\u0430\u0437\u0430\u043d\u0456 \u043f\u043e\u0448\u043a\u043e\u0434\u0436\u0435\u043d\u043d\u044f \u0442\u0430 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438, \u0437\u0440\u043e\u0431\u0438\u043c\u043e \u0444\u043e\u0442\u043e \u0442\u0430 \u0432\u0456\u0434\u0435\u043e \u0444\u0456\u043a\u0441\u0430\u0446\u0456\u044e, \u0449\u043e\u0431 \u0432\u0438 \u043c\u043e\u0433\u043b\u0438 \u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u043d\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u0443."])),(e()(),Do(27,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(28,0,null,null,13,"p",[["class","aboutText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u0438 \u0437 \u0437\u0430\u0434\u043e\u0432\u043e\u043b\u0435\u043d\u043d\u044f\u043c \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435\u043c\u043e \u0412\u0430\u043c \u043a\u0443\u043f\u0438\u0442\u0438 \u044f\u043a\u0456\u0441\u043d\u0443 \u0442\u0435\u0445\u043d\u0456\u043a\u0443 \u0437\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0446\u0456\u043d\u043e\u044e, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u043d\u0430\u0448\u0456 \u0448\u0438\u0440\u043e\u043a\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 \u0437 \u0431\u0430\u0433\u0430\u0442\u044c\u043c\u0430 \u0430\u0432\u0442\u043e\u0441\u0430\u043b\u043e\u043d\u0430\u043c\u0438 \u0428\u0432\u0435\u0446\u0456\u0457, \u0441\u0430\u0439\u0442\u0430\u043c\u0438 \u0434\u043b\u044f \u043a\u0443\u043f\u0456\u0432\u043b\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432 "])),(e()(),Do(30,0,null,null,1,"a",[["class","text-danger"],["href","https://www.blocket.se/annonser/hela_sverige/fordon/bilar?cg=1020&st=s"],["target","_blank"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Blocket"])),(e()(),Wo(-1,null,[" \u0442\u0430 "])),(e()(),Do(33,0,null,null,1,"a",[["class","text-danger"],["href","https://www.bytbil.com/bil"],["target","_blank"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Bytbil"])),(e()(),Wo(-1,null,[" \u0456 \u0430\u0443\u043a\u0446\u0456\u043e\u043d\u043d\u0438\u043c\u0438 \u043c\u0430\u0439\u0434\u0430\u043d\u0447\u0438\u043a\u0430\u043c\u0438 "])),(e()(),Do(36,0,null,null,1,"a",[["class","text-danger"],["href","https://www.kvd.se/auktioner"],["target","_blank"]],null,null,null,null,null)),(e()(),Wo(-1,null,["KVD"])),(e()(),Wo(-1,null,[" \u0456 "])),(e()(),Do(39,0,null,null,1,"a",[["class","text-danger"],["href","https://auktion.netbil.se/Home/Search?Search=&submit-button=S%C3%B6k"],["target","_blank"]],null,null,null,null,null)),(e()(),Wo(-1,null,["NETBIL"])),(e()(),Wo(-1,null,[", \u0430 \u0442\u0430\u043a\u043e\u0436 \u0431\u0430\u0433\u0430\u0442\u043e\u0440\u0456\u0447\u043d\u0438\u0439 \u0434\u043e\u0441\u0432\u0456\u0434 \u0440\u043e\u0431\u043e\u0442\u0438 \u043d\u0430 \u0454\u0432\u0440\u043e\u043f\u0435\u0439\u0441\u044c\u043a\u043e\u043c\u0443 \u0440\u0438\u043d\u043a\u0443 \u043f\u043e\u0441\u0442\u0430\u0432\u043e\u043a \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432, \u0432\u0430\u043d\u0442\u0430\u0436\u043d\u043e\u0457 \u0442\u0435\u0445\u043d\u0456\u043a\u0438 \u0442\u0430 \u043f\u0440\u0438\u0447\u0435\u043f\u0456\u0432 \u043d\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."])),(e()(),Do(42,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(43,0,null,null,27,"div",[["class","container2 d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(44,0,null,null,26,"div",[["class","downBox"]],null,null,null,null,null)),(e()(),Do(45,0,null,null,1,"p",[["class","titleDownBox text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u043e\u0441\u043b\u0443\u0433\u0438 \u044f\u043a\u0456 \u043c\u0438 \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454\u043c\u043e:"])),(e()(),Do(47,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(48,0,null,null,18,"ul",[],null,null,null,null,null)),(e()(),Do(49,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u043e\u0448\u0443\u043a \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f, \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0430\u043c \u0437\u0430\u043c\u043e\u0432\u043d\u0438\u043a\u0430."])),(e()(),Do(51,0,null,null,7,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u0457 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f \u0441\u043b\u0443\u0436\u0431\u0430\u043c\u0438 "])),(e()(),Do(53,0,null,null,1,"a",[["class","text-danger"],["href","https://www.carfax.se/"],["target","_blank"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Carfax"])),(e()(),Wo(-1,null,[" \u0442\u0430 "])),(e()(),Do(56,0,null,null,1,"a",[["class","text-danger"],["href","https://transportstyrelsen.se/sv/vagtrafik/"],["target","_blank"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Transport Styrelsen"])),(e()(),Wo(-1,null,["."])),(e()(),Do(59,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041e\u0433\u043b\u044f\u0434 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u0445 \u043d\u0435\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0435\u0439."])),(e()(),Do(61,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0440\u043e\u0437\u043c\u0438\u0442\u043d\u0435\u043d\u043d\u044f \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456."])),(e()(),Do(63,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f \u0434\u043e \u043a\u043e\u0440\u0434\u043e\u043d\u0443 \u0437 \u0423\u043a\u0440\u0430\u0457\u043d\u043e\u044e."])),(e()(),Do(65,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0456\u0457 \u0442\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0430 \u0432 \u0440\u043e\u0437\u043c\u0438\u0442\u043d\u0435\u043d\u043d\u0456 \u0442\u0430 \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0446\u0456 \u043d\u0430 \u043e\u0431\u043b\u0456\u043a."])),(e()(),Do(67,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(68,0,null,null,1,"p",[["class","aboutText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0425\u043e\u0442\u0456\u0432 \u0431\u0438 \u0432\u0456\u0434\u043c\u0456\u0442\u0438\u0442\u0438 \u0432\u0430\u0436\u043b\u0438\u0432\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u0456 \u0437 \u043d\u0430\u043c\u0438. \u041f\u0440\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f \u0432 \u044f\u043a\u043e\u0441\u0442\u0456 \u043f\u0435\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0438 \u0432\u0438 \u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u0435 \u043d\u0430\u043c 50% \u0432\u0430\u0440\u0442\u043e\u0441\u0442\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f \u0432 \u0428\u0432\u0435\u0446\u0456\u0457, \u0446\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0442\u0430 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0430 \u0443\u043c\u043e\u0432\u0430 \u0441\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u0456 \u0437 \u043d\u0430\u0448\u043e\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0454\u044e."])),(e()(),Do(70,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Do(71,0,null,null,1,"div",[["class","bottomContainer d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(72,0,null,null,0,"iframe",[["allowfullscreen",""],["frameborder","0"],["src","https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d1286.862458439593!2d24.051838353170183!3d49.82448738693831!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x6a38393a937a953!2z0JHRg9C00ZbQstC10LvRjNC90LjQug!5e0!3m2!1suk!2sua!4v1572866120602!5m2!1suk!2sua"],["style","box-shadow: 0 0 15px lightgray;"]],null,null,null,null,null))],null,null)}var Rg=Er("app-about-us",Ng,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-about-us",[],null,null,null,Dg,Pg)),Xr(1,114688,null,0,Ng,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Mg=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=Object.assign({},e.value);delete t.id,null==e.value.id?this.firestore.collection("clients").add(t):this.firestore.doc("clients"+e.value.id).update(t),this.clearForm()}},{key:"clearForm",value:function(){this.name="",this.phoneNumber="",this.email="",this.message=""}}]),e}(),Lg=qn({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:100%;min-height:600px}.containerTop[_ngcontent-%COMP%]{margin-top:80px;width:100%;min-height:600px;padding:30px;font-family:'Roboto Condensed',sans-serif;display:-webkit-box;display:flex}.containerLeft[_ngcontent-%COMP%]{width:50%;min-height:540}.leftContBottomTitle[_ngcontent-%COMP%], .leftContUpTitle[_ngcontent-%COMP%]{font-size:20px;width:100%;height:25px}.contactInfo[_ngcontent-%COMP%]{width:100%;min-height:240px;padding-top:20px;padding-bottom:20px}.imgBox[_ngcontent-%COMP%]{float:left;margin-right:15px}.Email[_ngcontent-%COMP%], .address[_ngcontent-%COMP%], .phoneNumber[_ngcontent-%COMP%]{width:100%;min-height:80px}.contactText[_ngcontent-%COMP%]{font-size:20px;padding-top:5px}.workTime[_ngcontent-%COMP%]{padding-top:15px;width:100%;min-height:200px}.timeText[_ngcontent-%COMP%]{font-size:20px}.spanText[_ngcontent-%COMP%]{margin-right:30px}.containerRight[_ngcontent-%COMP%]{width:50%;min-height:540}.rightContUpTitle[_ngcontent-%COMP%]{font-size:20px;width:100%;height:25px}.spn[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;font-size:20px}.btn[_ngcontent-%COMP%]{margin-top:10px}input[_ngcontent-%COMP%]{height:35px;font-size:25px}.bottomContainer[_ngcontent-%COMP%]{width:100%;height:500px}@media screen and (max-width:840px){.containerTop[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.containerLeft[_ngcontent-%COMP%], .containerRight[_ngcontent-%COMP%]{width:100%}}"]],data:{}});function Vg(e){return Qo(0,[(e()(),Do(0,0,null,null,91,"div",[["class","container d-flex flex-column justify-content-center"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,88,"div",[["class","containerTop justify-content-lg-center"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,41,"div",[["class","containerLeft d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(3,0,null,null,1,"p",[["class","leftContUpTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430 \u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"])),(e()(),Do(5,0,null,null,15,"div",[["class","contactInfo d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(6,0,null,null,5,"div",[["class","address"]],null,null,null,null,null)),(e()(),Do(7,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889146_addres.png?alt=media&token=3f30b83d-cef3-4b5f-80f2-af5a07ab5fb9"]],null,null,null,null,null)),(e()(),Do(8,0,null,null,3,"p",[["class","contactText"]],null,null,null,null,null)),(e()(),Do(9,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wo(-1,null,["Address:"])),(e()(),Wo(-1,null,[" \u043c.\u041b\u044c\u0432\u0456\u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0430"])),(e()(),Do(12,0,null,null,3,"div",[["class","phoneNumber"]],null,null,null,null,null)),(e()(),Do(13,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889143_phone.png?alt=media&token=c683a1d5-7010-4264-a7c4-3731c1e9cd49"]],null,null,null,null,null)),(e()(),Do(14,0,null,null,1,"p",[["class","contactText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["+380672530647 \u0420\u043e\u0441\u0442\u0438\u0441\u043b\u0430\u0432"])),(e()(),Do(16,0,null,null,4,"div",[["class","Email"]],null,null,null,null,null)),(e()(),Do(17,0,null,null,0,"img",[["alt",""],["class","imgBox"],["src","https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889154_email.png?alt=media&token=6d28dd9e-8d0a-4ed8-ba94-f837401005fe"]],null,null,null,null,null)),(e()(),Do(18,0,null,null,2,"p",[["class","contactText"]],null,null,null,null,null)),(e()(),Do(19,0,null,null,1,"a",[["class","text-danger"],["href","mailto:cars.from.sweden@gmail.com"]],null,null,null,null,null)),(e()(),Wo(-1,null,["cars.from.sweden@gmail.com"])),(e()(),Do(21,0,null,null,1,"p",[["class","leftContBottomTitle text-danger"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0413\u043e\u0434\u0438\u043d\u0438 \u0420\u043e\u0431\u043e\u0442\u0438"])),(e()(),Do(23,0,null,null,20,"div",[["class","workTime"]],null,null,null,null,null)),(e()(),Do(24,0,null,null,3,"p",[["class","timeText"]],null,null,null,null,null)),(e()(),Do(25,0,null,null,1,"span",[["class","spanText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a:"])),(e()(),Wo(-1,null,["9:00 - 18:00"])),(e()(),Do(28,0,null,null,3,"p",[["class","timeText"]],null,null,null,null,null)),(e()(),Do(29,0,null,null,1,"span",[["class","spanText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a:"])),(e()(),Wo(-1,null,["9:00 - 18:00"])),(e()(),Do(32,0,null,null,3,"p",[["class","timeText"]],null,null,null,null,null)),(e()(),Do(33,0,null,null,1,"span",[["class","spanText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0421\u0435\u0440\u0435\u0434\u0430:"])),(e()(),Wo(-1,null,["9:00 - 18:00"])),(e()(),Do(36,0,null,null,3,"p",[["class","timeText"]],null,null,null,null,null)),(e()(),Do(37,0,null,null,1,"span",[["class","spanText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0427\u0435\u0442\u0432\u0435\u0440:"])),(e()(),Wo(-1,null,["9:00 - 18:00"])),(e()(),Do(40,0,null,null,3,"p",[["class","timeText"]],null,null,null,null,null)),(e()(),Do(41,0,null,null,1,"span",[["class","spanText"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f'\u044f\u0442\u043d\u0438\u0446\u044f:"])),(e()(),Wo(-1,null,["9:00 - 18:00"])),(e()(),Do(44,0,null,null,45,"div",[["class","containerRight d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(45,0,null,null,1,"p",[["class","rightContUpTitle"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043d\u0430\u043c"])),(e()(),Do(47,0,null,null,42,"form",[["action",""],["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==Vr(e,49).onSubmit(n)&&r),"reset"===t&&(r=!1!==Vr(e,49).onReset()&&r),"submit"===t&&(r=!1!==i.onSubmit(Vr(e,49))&&r),r}),null,null)),Xr(48,16384,null,0,jp,[],null,null),Xr(49,4210688,[["form",4]],0,Rp,[[8,null],[8,null]],null,null),Zr(2048,null,Jd,null,[Rp]),Xr(51,16384,null,0,np,[[4,Jd]],null,null),(e()(),Do(52,0,null,null,8,"div",[["class","form-group name d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(53,0,null,null,1,"span",[["class","text-danger spn"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0430\u0448\u0435 \u0406\u043c'\u044f *"])),(e()(),Do(55,0,null,null,5,"input",[["name","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,56)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,56).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,56)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,56)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.name=n)&&r),r}),null,null)),Xr(56,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(58,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(60,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(61,0,null,null,8,"div",[["class","form-group phone d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(62,0,null,null,1,"span",[["class","text-danger spn"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d *"])),(e()(),Do(64,0,null,null,5,"input",[["name","phoneNumber"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,65)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,65).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,65)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,65)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.phoneNumber=n)&&r),r}),null,null)),Xr(65,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(67,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(69,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(70,0,null,null,8,"div",[["class","form-group email d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(71,0,null,null,1,"span",[["class","text-danger spn"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Email *"])),(e()(),Do(73,0,null,null,5,"input",[["name","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,74)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,74).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,74)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,74)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.email=n)&&r),r}),null,null)),Xr(74,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(76,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(78,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(79,0,null,null,8,"div",[["class","form-group areaText d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(80,0,null,null,1,"span",[["class","text-danger spn"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f *"])),(e()(),Do(82,0,null,null,5,"textarea",[["cols","30"],["id",""],["name","message"],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,83)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,83).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,83)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,83)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.message=n)&&r),r}),null,null)),Xr(83,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(85,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(87,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(88,0,null,null,1,"button",[["class","btn btn-danger"],["type","submit"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"])),(e()(),Do(90,0,null,null,1,"div",[["class","bottomContainer d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(91,0,null,null,0,"iframe",[["allowfullscreen",""],["frameborder","0"],["height","400"],["src","https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d1286.862458439593!2d24.051838353170183!3d49.82448738693831!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x6a38393a937a953!2z0JHRg9C00ZbQstC10LvRjNC90LjQug!5e0!3m2!1suk!2sua!4v1572866120602!5m2!1suk!2sua"],["style","box-shadow: 0 0 15px lightgray;"],["width","1300"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,58,0,"name",n.name),e(t,67,0,"phoneNumber",n.phoneNumber),e(t,76,0,"email",n.email),e(t,85,0,"message",n.message)}),(function(e,t){e(t,47,0,Vr(t,51).ngClassUntouched,Vr(t,51).ngClassTouched,Vr(t,51).ngClassPristine,Vr(t,51).ngClassDirty,Vr(t,51).ngClassValid,Vr(t,51).ngClassInvalid,Vr(t,51).ngClassPending),e(t,55,0,Vr(t,60).ngClassUntouched,Vr(t,60).ngClassTouched,Vr(t,60).ngClassPristine,Vr(t,60).ngClassDirty,Vr(t,60).ngClassValid,Vr(t,60).ngClassInvalid,Vr(t,60).ngClassPending),e(t,64,0,Vr(t,69).ngClassUntouched,Vr(t,69).ngClassTouched,Vr(t,69).ngClassPristine,Vr(t,69).ngClassDirty,Vr(t,69).ngClassValid,Vr(t,69).ngClassInvalid,Vr(t,69).ngClassPending),e(t,73,0,Vr(t,78).ngClassUntouched,Vr(t,78).ngClassTouched,Vr(t,78).ngClassPristine,Vr(t,78).ngClassDirty,Vr(t,78).ngClassValid,Vr(t,78).ngClassInvalid,Vr(t,78).ngClassPending),e(t,82,0,Vr(t,87).ngClassUntouched,Vr(t,87).ngClassTouched,Vr(t,87).ngClassPristine,Vr(t,87).ngClassDirty,Vr(t,87).ngClassValid,Vr(t,87).ngClassInvalid,Vr(t,87).ngClassPending)}))}var Ug=Er("app-contacts",Mg,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-contacts",[],null,null,null,Vg,Lg)),Xr(1,114688,null,0,Mg,[Dd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Fg=function(){function e(t){_classCallCheck(this,e),this.firestore=t,this.fuel="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043f\u0430\u043b\u0438\u0432\u0430...",this.probig="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u043e\u0431\u0456\u0433...",this.transmission="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447...",this.bodyType="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430...",this.interior="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0430\u043b\u043e\u043d...",this.interiorColor="\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043b\u0456\u0440 \u0441\u0430\u043b\u043e\u043d\u0443..."}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=Object.assign({},e.value);delete t.id,null==e.value.id?this.firestore.collection("orders").add(t):this.firestore.doc("orders"+e.value.id).update(t),this.clearForm()}},{key:"clearForm",value:function(){this.name="",this.phoneNumber="",this.email="",this.viber="",this.brand="",this.model="",this.year="",this.engine="",this.fuel="",this.probig="",this.transmission="",this.bodyType="",this.price="",this.interior="",this.interiorColor="",this.message=""}}]),e}(),Bg=qn({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:100%;min-height:900px;font-family:'Roboto Condensed',sans-serif;margin-top:80px;margin-bottom:80px}.zakazBox[_ngcontent-%COMP%]{width:1300px;min-height:900px}.titleZakaz[_ngcontent-%COMP%]{text-align:center;font-size:30px}.formBody[_ngcontent-%COMP%]{width:100%;min-height:900px;padding:20px;margin-top:80px;border:1px solid #2f4f4f;border-radius:10px;box-shadow:0 0 10px #2f4f4f;background-image:url(https://firebasestorage.googleapis.com/v0/b/cars-from-sweden.appspot.com/o/images%2F1581423889152_background.png?alt=media&token=59ccefb0-736f-4414-91fd-c59fd8560c6b);background-repeat:no-repeat;background-size:100% 100%}.formBodyLeft[_ngcontent-%COMP%], .formBodyRight[_ngcontent-%COMP%]{width:50%;min-height:900px;padding:20px}.formLabel[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;text-decoration:underline}table[_ngcontent-%COMP%]{width:100%;height:60px}tr[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{font-size:18px}.fuel[_ngcontent-%COMP%]{width:20%;height:25px}.transmType[_ngcontent-%COMP%]{height:25px}.salon[_ngcontent-%COMP%]{width:25%;height:25px}.color[_ngcontent-%COMP%]{height:25px}.textArea[_ngcontent-%COMP%]{max-width:100%}textarea[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}@media screen and (max-width:840px){.formBody[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.formBodyLeft[_ngcontent-%COMP%]{width:100%;min-height:732px}.formBodyRight[_ngcontent-%COMP%]{width:100%}}"]],data:{}});function jg(e){return Qo(0,[(e()(),Do(0,0,null,null,306,"div",[["class","container d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Do(1,0,null,null,305,"div",[["class","zakazBox d-flex flex-column"]],null,null,null,null,null)),(e()(),Do(2,0,null,null,1,"p",[["class","titleZakaz"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043d\u0438\u0436\u0447\u0435 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0443 \u0444\u043e\u0440\u043c\u0443"])),(e()(),Do(4,0,null,null,302,"form",[["action",""],["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==Vr(e,6).onSubmit(n)&&r),"reset"===t&&(r=!1!==Vr(e,6).onReset()&&r),"submit"===t&&(r=!1!==i.onSubmit(Vr(e,6))&&r),r}),null,null)),Xr(5,16384,null,0,jp,[],null,null),Xr(6,4210688,[["form",4]],0,Rp,[[8,null],[8,null]],null,null),Zr(2048,null,Jd,null,[Rp]),Xr(8,16384,null,0,np,[[4,Jd]],null,null),(e()(),Do(9,0,null,null,297,"div",[["class","formBody d-flex"]],null,null,null,null,null)),(e()(),Do(10,0,null,null,169,"div",[["class","formBodyLeft"]],null,null,null,null,null)),(e()(),Do(11,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(12,0,null,null,1,"label",[["class","formLabel"],["for","formGroupNameInput"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0430\u0448\u0435 \u0406\u043c'\u044f *"])),(e()(),Do(14,0,null,null,5,"input",[["class","form-control"],["id","formGroupNameInput"],["name","name"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0406\u043c'\u044f..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,15)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,15).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,15)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.name=n)&&r),r}),null,null)),Xr(15,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(17,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(19,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(20,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(21,0,null,null,1,"label",[["class","formLabel"],["for","formGroupPhoneNumberInput"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 *"])),(e()(),Do(23,0,null,null,5,"input",[["class","form-control"],["id","formGroupPhoneNumberInput"],["name","phoneNumber"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,24)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,24).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,24)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,24)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.phoneNumber=n)&&r),r}),null,null)),Xr(24,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(26,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(28,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(29,0,null,null,25,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(30,0,null,null,1,"label",[["class","formLabel"],["for",""]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c *"])),(e()(),Do(32,0,null,null,22,"table",[],null,null,null,null,null)),(e()(),Do(33,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Do(34,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Do(35,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u0430\u0440\u043a\u0430:"])),(e()(),Do(37,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041c\u043e\u0434\u0435\u043b\u044c:"])),(e()(),Do(39,0,null,null,15,"tbody",[],null,null,null,null,null)),(e()(),Do(40,0,null,null,14,"tr",[],null,null,null,null,null)),(e()(),Do(41,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Do(42,0,null,null,5,"input",[["class","form-control"],["name","brand"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0430\u0440\u043a\u0443 \u0430\u0432\u0442\u043e..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,43)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,43).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,43)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,43)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.brand=n)&&r),r}),null,null)),Xr(43,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(45,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(47,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(48,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Do(49,0,null,null,5,"input",[["class","form-control"],["name","model"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c \u0430\u0432\u0442\u043e..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,50)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,50).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,50)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,50)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.model=n)&&r),r}),null,null)),Xr(50,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(52,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(54,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(55,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(56,0,null,null,1,"label",[["class","formLabel"],["for","year"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0420\u0456\u043a \u0432\u0438\u043f\u0443\u0441\u043a\u0443 *"])),(e()(),Do(58,0,null,null,5,"input",[["class","form-control"],["id","year"],["name","year"],["placeholder","2009 - 2012..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,59)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,59).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,59)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,59)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.year=n)&&r),r}),null,null)),Xr(59,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(61,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(63,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(64,0,null,null,52,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(65,0,null,null,1,"label",[["class","formLabel"],["for","inputState"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041f\u0440\u043e\u0431\u0456\u0433 *"])),(e()(),Do(67,0,null,null,49,"select",[["class","form-control"],["id","inputState"],["name","probig"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,68).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,68).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.probig=n)&&r),r}),null,null)),Xr(68,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(70,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(72,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(73,0,null,null,3,"option",[],null,null,null,null,null)),Xr(74,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(75,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u043e\u0431\u0456\u0433..."])),(e()(),Do(77,0,null,null,3,"option",[],null,null,null,null,null)),Xr(78,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(79,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["5 000 \u043a\u043c"])),(e()(),Do(81,0,null,null,3,"option",[],null,null,null,null,null)),Xr(82,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(83,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["10 000 \u043a\u043c"])),(e()(),Do(85,0,null,null,3,"option",[],null,null,null,null,null)),Xr(86,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(87,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["25 000 \u043a\u043c"])),(e()(),Do(89,0,null,null,3,"option",[],null,null,null,null,null)),Xr(90,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(91,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["50 000 \u043a\u043c"])),(e()(),Do(93,0,null,null,3,"option",[],null,null,null,null,null)),Xr(94,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(95,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["100 000 \u043a\u043c"])),(e()(),Do(97,0,null,null,3,"option",[],null,null,null,null,null)),Xr(98,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(99,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["125 000 \u043a\u043c"])),(e()(),Do(101,0,null,null,3,"option",[],null,null,null,null,null)),Xr(102,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(103,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["150 000 \u043a\u043c"])),(e()(),Do(105,0,null,null,3,"option",[],null,null,null,null,null)),Xr(106,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(107,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["175 000 \u043a\u043c"])),(e()(),Do(109,0,null,null,3,"option",[],null,null,null,null,null)),Xr(110,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(111,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["200 000 \u043a\u043c"])),(e()(),Do(113,0,null,null,3,"option",[],null,null,null,null,null)),Xr(114,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(115,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["250 000 \u043a\u043c"])),(e()(),Do(117,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(118,0,null,null,1,"label",[["class","formLabel"],["for","price"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0411\u044e\u0434\u0436\u0435\u0442 \u043d\u0430 \u0430\u0432\u0442\u043e *"])),(e()(),Do(120,0,null,null,5,"input",[["class","form-control"],["id","price"],["name","price"],["placeholder","USD $..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,121)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,121).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,121)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,121)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.price=n)&&r),r}),null,null)),Xr(121,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(123,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(125,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(126,0,null,null,28,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(127,0,null,null,1,"label",[["class","formLabel"],["for","interior"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0421\u0430\u043b\u043e\u043d *"])),(e()(),Do(129,0,null,null,25,"select",[["class","form-control"],["id","interior"],["name","interior"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,130).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,130).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.interior=n)&&r),r}),null,null)),Xr(130,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(132,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(134,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(135,0,null,null,3,"option",[],null,null,null,null,null)),Xr(136,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(137,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0430\u043b\u043e\u043d..."])),(e()(),Do(139,0,null,null,3,"option",[],null,null,null,null,null)),Xr(140,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(141,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0410\u043b\u044c\u043a\u0430\u043d\u0442\u0430\u0440\u0430"])),(e()(),Do(143,0,null,null,3,"option",[],null,null,null,null,null)),Xr(144,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(145,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0422\u0435\u043a\u0441\u0442\u0438\u043b\u044c"])),(e()(),Do(147,0,null,null,3,"option",[],null,null,null,null,null)),Xr(148,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(149,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041a\u043e\u043c\u0431\u0456\u043d\u043e\u0432\u0430\u043d\u0438\u0439"])),(e()(),Do(151,0,null,null,3,"option",[],null,null,null,null,null)),Xr(152,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(153,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041d\u0435 \u0432\u0430\u0436\u043b\u0438\u0432\u043e"])),(e()(),Do(155,0,null,null,24,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(156,0,null,null,1,"label",[["class","formLabel"],["for","interiorColor"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041a\u043e\u043b\u0456\u0440 c\u0430\u043b\u043e\u043d\u0443 *"])),(e()(),Do(158,0,null,null,21,"select",[["class","form-control"],["id","interiorColor"],["name","interiorColor"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,159).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,159).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.interiorColor=n)&&r),r}),null,null)),Xr(159,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(161,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(163,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(164,0,null,null,3,"option",[],null,null,null,null,null)),Xr(165,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(166,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043b\u0456\u0440 \u0441\u0430\u043b\u043e\u043d\u0443..."])),(e()(),Do(168,0,null,null,3,"option",[],null,null,null,null,null)),Xr(169,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(170,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0421\u0432\u0456\u0442\u043b\u0438\u0439"])),(e()(),Do(172,0,null,null,3,"option",[],null,null,null,null,null)),Xr(173,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(174,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0422\u0435\u043c\u043d\u0438\u0439"])),(e()(),Do(176,0,null,null,3,"option",[],null,null,null,null,null)),Xr(177,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(178,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041d\u0435 \u0432\u0430\u0436\u043b\u0438\u0432\u043e"])),(e()(),Do(180,0,null,null,126,"div",[["class","formBodyRight"]],null,null,null,null,null)),(e()(),Do(181,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(182,0,null,null,1,"label",[["class","formLabel"],["for","formGroupEmailInput"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Email *"])),(e()(),Do(184,0,null,null,5,"input",[["class","form-control"],["id","formGroupEmailInput"],["name","email"],["placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c email..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,185)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,185).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,185)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,185)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.email=n)&&r),r}),null,null)),Xr(185,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(187,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(189,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(190,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(191,0,null,null,1,"label",[["class","formLabel"],["for","formGroupViberInput"]],null,null,null,null,null)),(e()(),Wo(-1,null,["Viber / Telegram "])),(e()(),Do(193,0,null,null,5,"input",[["class","form-control"],["id","formGroupViberInput"],["name","viber"],["placeholder","\u041d\u043e\u043c\u0435\u0440 viber/telegram..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,194)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,194).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,194)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,194)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.viber=n)&&r),r}),null,null)),Xr(194,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(196,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(198,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(199,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(200,0,null,null,1,"label",[["class","formLabel"],["for","engine"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u041e\u0431'\u0454\u043c \u0434\u0432\u0438\u0433\u0443\u043d\u0430 *"])),(e()(),Do(202,0,null,null,5,"input",[["class","form-control"],["id","engine"],["name","engine"],["placeholder","1.6..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,203)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,203).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,203)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,203)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.engine=n)&&r),r}),null,null)),Xr(203,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(205,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(207,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(208,0,null,null,32,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(209,0,null,null,1,"label",[["class","formLabel"],["for","fuel"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0438\u043f \u043f\u0430\u043b\u0438\u0432\u0430 *"])),(e()(),Do(211,0,null,null,29,"select",[["class","form-control"],["id","fuel"],["name","fuel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,212).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,212).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.fuel=n)&&r),r}),null,null)),Xr(212,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(214,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(216,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(217,0,null,null,3,"option",[],null,null,null,null,null)),Xr(218,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(219,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043f\u0430\u043b\u0438\u0432\u0430..."])),(e()(),Do(221,0,null,null,3,"option",[],null,null,null,null,null)),Xr(222,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(223,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0414\u0438\u0437\u0435\u043b\u044c"])),(e()(),Do(225,0,null,null,3,"option",[],null,null,null,null,null)),Xr(226,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(227,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0411\u0435\u043d\u0437\u0438\u043d"])),(e()(),Do(229,0,null,null,3,"option",[],null,null,null,null,null)),Xr(230,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(231,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0415\u043b\u0435\u043a\u0442\u0440\u043e"])),(e()(),Do(233,0,null,null,3,"option",[],null,null,null,null,null)),Xr(234,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(235,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0413\u0430\u0437"])),(e()(),Do(237,0,null,null,3,"option",[],null,null,null,null,null)),Xr(238,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(239,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0413\u0456\u0431\u0440\u0438\u0434"])),(e()(),Do(241,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(242,0,null,null,1,"label",[["class","formLabel"],["for","transmission"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0438\u043f \u043a\u043e\u0440\u043e\u0431\u043a\u0438 *"])),(e()(),Do(244,0,null,null,17,"select",[["class","form-control"],["id","transmission"],["name","transmission"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,245).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,245).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.transmission=n)&&r),r}),null,null)),Xr(245,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(247,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(249,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(250,0,null,null,3,"option",[],null,null,null,null,null)),Xr(251,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(252,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447..."])),(e()(),Do(254,0,null,null,3,"option",[],null,null,null,null,null)),Xr(255,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(256,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0430 \u043a\u043e\u0440\u043e\u0431\u043a\u0430"])),(e()(),Do(258,0,null,null,3,"option",[],null,null,null,null,null)),Xr(259,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(260,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041c\u0435\u0445\u0430\u043d\u0456\u0447\u043d\u0430 \u043a\u043e\u0440\u043e\u0431\u043a\u0430"])),(e()(),Do(262,0,null,null,32,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(263,0,null,null,1,"label",[["class","formLabel"],["for","typeofbody"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0422\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430 *"])),(e()(),Do(265,0,null,null,29,"select",[["class","form-control"],["id","typeofbody"],["name","bodyType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Vr(e,266).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,266).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.bodyType=n)&&r),r}),null,null)),Xr(266,16384,null,0,gp,[rn,$t],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[gp]),Xr(268,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(270,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(271,0,null,null,3,"option",[],null,null,null,null,null)),Xr(272,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(273,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430..."])),(e()(),Do(275,0,null,null,3,"option",[],null,null,null,null,null)),Xr(276,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(277,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0421\u0435\u0434\u0430\u043d"])),(e()(),Do(279,0,null,null,3,"option",[],null,null,null,null,null)),Xr(280,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(281,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0423\u043d\u0456\u0432\u0435\u0440\u0441\u0430\u043b"])),(e()(),Do(283,0,null,null,3,"option",[],null,null,null,null,null)),Xr(284,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(285,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u0425\u0435\u0442\u0447\u0431\u0435\u043a"])),(e()(),Do(287,0,null,null,3,"option",[],null,null,null,null,null)),Xr(288,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(289,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["\u041a\u0440\u043e\u0441\u043e\u0432\u0435\u0440"])),(e()(),Do(291,0,null,null,3,"option",[],null,null,null,null,null)),Xr(292,147456,null,0,mp,[$t,rn,[2,gp]],null,null),Xr(293,147456,null,0,yp,[$t,rn,[8,null]],null,null),(e()(),Wo(-1,null,["SUV"])),(e()(),Do(295,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Do(296,0,null,null,1,"label",[["class","formLabel"],["for","textarea"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0430\u0448\u0456 \u043f\u043e\u0431\u0430\u0436\u0430\u043d\u043d\u044f"])),(e()(),Do(298,0,null,null,6,"div",[["class","textArea"]],null,null,null,null,null)),(e()(),Do(299,0,null,null,5,"textarea",[["id","textarea"],["name","message"],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Vr(e,300)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Vr(e,300).onTouched()&&r),"compositionstart"===t&&(r=!1!==Vr(e,300)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Vr(e,300)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.message=n)&&r),r}),null,null)),Xr(300,16384,null,0,Yd,[rn,$t,[2,Qd]],null,null),Zr(1024,null,Gd,(function(e){return[e]}),[Yd]),Xr(302,671744,null,0,Bp,[[2,Jd],[8,null],[8,null],[6,Gd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zr(2048,null,$d,null,[Bp]),Xr(304,16384,null,0,tp,[[4,$d]],null,null),(e()(),Do(305,0,null,null,1,"button",[["class","btn btn-danger"],["type","submit"]],null,null,null,null,null)),(e()(),Wo(-1,null,["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u0437\u0430\u044f\u0432\u043a\u0443"]))],(function(e,t){var n=t.component;e(t,17,0,"name",n.name),e(t,26,0,"phoneNumber",n.phoneNumber),e(t,45,0,"brand",n.brand),e(t,52,0,"model",n.model),e(t,61,0,"year",n.year),e(t,70,0,"probig",n.probig),e(t,123,0,"price",n.price),e(t,132,0,"interior",n.interior),e(t,161,0,"interiorColor",n.interiorColor),e(t,187,0,"email",n.email),e(t,196,0,"viber",n.viber),e(t,205,0,"engine",n.engine),e(t,214,0,"fuel",n.fuel),e(t,247,0,"transmission",n.transmission),e(t,268,0,"bodyType",n.bodyType),e(t,302,0,"message",n.message)}),(function(e,t){e(t,4,0,Vr(t,8).ngClassUntouched,Vr(t,8).ngClassTouched,Vr(t,8).ngClassPristine,Vr(t,8).ngClassDirty,Vr(t,8).ngClassValid,Vr(t,8).ngClassInvalid,Vr(t,8).ngClassPending),e(t,14,0,Vr(t,19).ngClassUntouched,Vr(t,19).ngClassTouched,Vr(t,19).ngClassPristine,Vr(t,19).ngClassDirty,Vr(t,19).ngClassValid,Vr(t,19).ngClassInvalid,Vr(t,19).ngClassPending),e(t,23,0,Vr(t,28).ngClassUntouched,Vr(t,28).ngClassTouched,Vr(t,28).ngClassPristine,Vr(t,28).ngClassDirty,Vr(t,28).ngClassValid,Vr(t,28).ngClassInvalid,Vr(t,28).ngClassPending),e(t,42,0,Vr(t,47).ngClassUntouched,Vr(t,47).ngClassTouched,Vr(t,47).ngClassPristine,Vr(t,47).ngClassDirty,Vr(t,47).ngClassValid,Vr(t,47).ngClassInvalid,Vr(t,47).ngClassPending),e(t,49,0,Vr(t,54).ngClassUntouched,Vr(t,54).ngClassTouched,Vr(t,54).ngClassPristine,Vr(t,54).ngClassDirty,Vr(t,54).ngClassValid,Vr(t,54).ngClassInvalid,Vr(t,54).ngClassPending),e(t,58,0,Vr(t,63).ngClassUntouched,Vr(t,63).ngClassTouched,Vr(t,63).ngClassPristine,Vr(t,63).ngClassDirty,Vr(t,63).ngClassValid,Vr(t,63).ngClassInvalid,Vr(t,63).ngClassPending),e(t,67,0,Vr(t,72).ngClassUntouched,Vr(t,72).ngClassTouched,Vr(t,72).ngClassPristine,Vr(t,72).ngClassDirty,Vr(t,72).ngClassValid,Vr(t,72).ngClassInvalid,Vr(t,72).ngClassPending),e(t,120,0,Vr(t,125).ngClassUntouched,Vr(t,125).ngClassTouched,Vr(t,125).ngClassPristine,Vr(t,125).ngClassDirty,Vr(t,125).ngClassValid,Vr(t,125).ngClassInvalid,Vr(t,125).ngClassPending),e(t,129,0,Vr(t,134).ngClassUntouched,Vr(t,134).ngClassTouched,Vr(t,134).ngClassPristine,Vr(t,134).ngClassDirty,Vr(t,134).ngClassValid,Vr(t,134).ngClassInvalid,Vr(t,134).ngClassPending),e(t,158,0,Vr(t,163).ngClassUntouched,Vr(t,163).ngClassTouched,Vr(t,163).ngClassPristine,Vr(t,163).ngClassDirty,Vr(t,163).ngClassValid,Vr(t,163).ngClassInvalid,Vr(t,163).ngClassPending),e(t,184,0,Vr(t,189).ngClassUntouched,Vr(t,189).ngClassTouched,Vr(t,189).ngClassPristine,Vr(t,189).ngClassDirty,Vr(t,189).ngClassValid,Vr(t,189).ngClassInvalid,Vr(t,189).ngClassPending),e(t,193,0,Vr(t,198).ngClassUntouched,Vr(t,198).ngClassTouched,Vr(t,198).ngClassPristine,Vr(t,198).ngClassDirty,Vr(t,198).ngClassValid,Vr(t,198).ngClassInvalid,Vr(t,198).ngClassPending),e(t,202,0,Vr(t,207).ngClassUntouched,Vr(t,207).ngClassTouched,Vr(t,207).ngClassPristine,Vr(t,207).ngClassDirty,Vr(t,207).ngClassValid,Vr(t,207).ngClassInvalid,Vr(t,207).ngClassPending),e(t,211,0,Vr(t,216).ngClassUntouched,Vr(t,216).ngClassTouched,Vr(t,216).ngClassPristine,Vr(t,216).ngClassDirty,Vr(t,216).ngClassValid,Vr(t,216).ngClassInvalid,Vr(t,216).ngClassPending),e(t,244,0,Vr(t,249).ngClassUntouched,Vr(t,249).ngClassTouched,Vr(t,249).ngClassPristine,Vr(t,249).ngClassDirty,Vr(t,249).ngClassValid,Vr(t,249).ngClassInvalid,Vr(t,249).ngClassPending),e(t,265,0,Vr(t,270).ngClassUntouched,Vr(t,270).ngClassTouched,Vr(t,270).ngClassPristine,Vr(t,270).ngClassDirty,Vr(t,270).ngClassValid,Vr(t,270).ngClassInvalid,Vr(t,270).ngClassPending),e(t,299,0,Vr(t,304).ngClassUntouched,Vr(t,304).ngClassTouched,Vr(t,304).ngClassPristine,Vr(t,304).ngClassDirty,Vr(t,304).ngClassValid,Vr(t,304).ngClassInvalid,Vr(t,304).ngClassPending)}))}var qg=Er("app-zakaz",Fg,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-zakaz",[],null,null,null,jg,Bg)),Xr(1,114688,null,0,Fg,[Dd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),zg=qn({encapsulation:0,styles:[[""]],data:{}});function Hg(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-header",[],null,null,null,mg,gg)),Xr(1,114688,null,0,pg,[],null,null),(e()(),Do(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Xr(3,212992,null,0,of,[rf,Sn,Yt,[8,null],Ct],null,null),(e()(),Do(4,0,null,null,1,"app-footer",[],null,null,null,_g,bg)),Xr(5,114688,null,0,yg,[Dd],null,null)],(function(e,t){e(t,1,0),e(t,3,0),e(t,5,0)}),null)}var Wg,Kg=Er("app-root",tl,(function(e){return Qo(0,[(e()(),Do(0,0,null,null,1,"app-root",[],null,null,null,Hg,zg)),Xr(1,49152,null,0,tl,[],null,null)],null,null)}),{},{},[]);n("6Joi");var Gg=Wg=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(e){return{ngModule:Wg,providers:[{provide:Ed,useValue:!0},{provide:Id,useValue:e}]}}}]),e}(),Qg=function e(t,n,r,i){var o=this;_classCallCheck(this,e);var a=pd(new dd(i),r);this.auth=i.runOutsideAngular((function(){return Td(t,i,n).auth()})),this.authState=new k((function(e){return i.runOutsideAngular((function(){return o.auth.onAuthStateChanged(e)}))})).pipe(a),this.user=new k((function(e){return i.runOutsideAngular((function(){return o.auth.onIdTokenChanged(e)}))})).pipe(a),this.idToken=this.user.pipe(wu((function(e){return e?Q(e.getIdToken()):Bl(null)}))),this.idTokenResult=this.user.pipe(wu((function(e){return e?Q(e.getIdTokenResult()):Bl(null)})))},Yg=n("wj3C"),Xg=n.n(Yg);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)l.b(this.a[e]);this.a=null}};var l=new r;return t.prototype.o=function(e){var t=this.f();e.La(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.La(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.La=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?l.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).La(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--l&&e(a)}}var a=[],l=0;do{a.push(void 0),l++,o(r.value).La(i(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},a=this||self;function l(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}var s=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){return null===e}function p(e){return"array"==f(e)}function g(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var T=Date.now||function(){return+new Date};function S(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function I(e){if(Error.captureStackTrace)Error.captureStackTrace(this,I);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function x(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");I.call(this,n+e[r])}function A(e,t){throw new x("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function O(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function N(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function P(){this.b=this.a=null}S(I,Error),I.prototype.name="CustomError",S(x,I),x.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var D=new O((function(){return new M}),(function(e){e.reset()}));function R(){var e=je,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function M(){this.next=this.b=this.a=null}function L(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(l){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(l){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;A("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}P.prototype.add=function(e,t){var n=D.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(l(e))return l(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},U=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},F=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=l(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},B=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=l(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function j(e,t){return 0<=V(e,t)}function q(e,t){var n;return(n=0<=(t=V(e,t)))&&Array.prototype.splice.call(e,t,1),n}function z(e,t){!function(e,t){for(var n=l(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function H(e){return Array.prototype.concat.apply([],arguments)}function W(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function K(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function G(e){for(var t in e)return!1;return!0}function Q(e){var t,n={};for(t in e)n[t]=e[t];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function J(e,t){this.a=e===ee&&t||"",this.b=$}function Z(e){return e instanceof J&&e.constructor===J&&e.b===$?e.a:(A("expected object of type Const, got '"+e+"'"),"type_error:Const")}J.prototype.qa=!0,J.prototype.pa=function(){return this.a},J.prototype.toString=function(){return"Const{"+this.a+"}"};var $={},ee={},te=new J(ee,"");function ne(){this.a="",this.b=le}function re(e){return e instanceof ne&&e.constructor===ne&&e.b===le?e.a:(A("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function ie(e,t){var n=Z(e);if(!ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ue(e=n.replace(oe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof J?Z(e):encodeURIComponent(String(e))})))}ne.prototype.qa=!0,ne.prototype.pa=function(){return this.a.toString()},ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var oe=/%{(\w+)}/g,ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,le={};function ue(e){var t=new ne;return t.a=e,t}var se=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ce=/&/g,he=/</g,fe=/>/g,de=/"/g,pe=/'/g,ge=/\x00/g,me=/[\x00&<>"']/;function ve(e,t){return-1!=e.indexOf(t)}function ye(e,t){return e<t?-1:e>t?1:0}function be(){this.a="",this.b=Te}function _e(e){return e instanceof be&&e.constructor===be&&e.b===Te?e.a:(A("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}be.prototype.qa=!0,be.prototype.pa=function(){return this.a.toString()},be.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var we=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ce(e){return e instanceof be?e:(e="object"==typeof e&&e.qa?e.pa():String(e),we.test(e)||(e="about:invalid#zClosurez"),Se(e))}var ke,Te={};function Se(e){var t=new be;return t.a=e,t}Se("about:blank");e:{var Ee=a.navigator;if(Ee){var Ie=Ee.userAgent;if(Ie){ke=Ie;break e}}ke=""}function xe(e){return ve(ke,e)}function Ae(){this.a="",this.b=Ne}function Oe(e){return e instanceof Ae&&e.constructor===Ae&&e.b===Ne?e.a:(A("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}Ae.prototype.qa=!0,Ae.prototype.pa=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ne={};function Pe(e){var t=new Ae;return t.a=e,t}Pe("<!DOCTYPE html>");var De,Re,Me=Pe("");function Le(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ve(e){return me.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ce,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(he,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(fe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(de,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(pe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ge,"&#0;"))),e}function Ue(e){a.setTimeout((function(){throw e}),0)}function Fe(e,t){Re||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);Re=function(){e.then(qe)}}else Re=function(){var e=qe;!m(a.setImmediate)||a.Window&&a.Window.prototype&&!xe("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(De||(De=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!xe("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=ue(Z(te));L(e,"HTMLIFrameElement"),e.src=re(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(Oe(Me)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!xe("Trident")&&!xe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){a.setTimeout(e,0)}}()),De(e)):a.setImmediate(e)}}(),Be||(Re(),Be=!0),je.add(e,t)}Pe("<br>");var Be=!1,je=new P;function qe(){for(var e;e=R();){try{e.a.call(e.b)}catch(t){Ue(t)}N(D,e)}Be=!1}function ze(e,t){if(this.a=He,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){nt(n,We,e)}),(function(e){if(!(e instanceof st))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}nt(n,Ke,e)}))}catch(r){nt(this,Ke,r)}}var He=0,We=2,Ke=3;function Ge(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ge.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Qe=new O((function(){return new Ge}),(function(e){e.reset()}));function Ye(e,t,n){var r=Qe.get();return r.g=e,r.b=t,r.f=n,r}function Xe(e){if(e instanceof ze)return e;var t=new ze(h);return nt(t,We,e),t}function Je(e){return new ze((function(t,n){n(e)}))}function Ze(e,t,n){rt(e,t,n,null)||Fe(k(t,e))}function $e(e){return new ze((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Ze(e[o],k(i,o,!0),k(i,o,!1));else t(r)}))}function et(e,t){e.b||e.a!=We&&e.a!=Ke||it(e),e.f?e.f.next=t:e.b=t,e.f=t}function tt(e,t,n,r){var i=Ye(null,null,null);return i.a=new ze((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof st?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,et(e,i),i.a}function nt(e,t,n){e.a==He&&(e===n&&(t=Ke,n=new TypeError("Promise cannot resolve to itself")),e.a=1,rt(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,it(e),t!=Ke||n instanceof st||function(e,t){e.g=!0,Fe((function(){e.g&&ut.call(null,t)}))}(e,n)))}function rt(e,t,n,r){if(e instanceof ze)return et(e,Ye(t||h,n||null,r)),!0;if(E(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(l){o(l)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function it(e){e.h||(e.h=!0,Fe(e.Zb,e))}function ot(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function at(e,t,n,r){if(n==Ke&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,lt(t,n,r);else try{t.c?t.g.call(t.f):lt(t,n,r)}catch(i){ut.call(null,i)}N(Qe,t)}function lt(e,t,n){t==We?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ze.prototype.then=function(e,t,n){return tt(this,m(e)?e:null,m(t)?t:null,n)},ze.prototype.$goog_Thenable=!0,(e=ze.prototype).ka=function(e,t){return(e=Ye(e,e,t)).c=!0,et(this,e),this},e.s=function(e,t){return tt(this,null,e,t)},e.cancel=function(e){this.a==He&&Fe((function(){!function e(t,n){if(t.a==He)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,l=r.b;l&&(l.c||(i++,l.a==t&&(o=l),!(o&&1<i)));l=l.next)o||(a=l);o&&(r.a==He&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):ot(r),at(r,o,Ke,n)))}t.c=null}else nt(t,Ke,n)}(this,new st(e))}),this)},e.Oc=function(e){this.a=He,nt(this,We,e)},e.Pc=function(e){this.a=He,nt(this,Ke,e)},e.Zb=function(){for(var e;e=ot(this);)at(this,e,this.a,this.i);this.h=!1};var ut=Ue;function st(e){I.call(this,e)}function ct(){0!=ht&&(ft[this[y]||(this[y]=++b)]=this),this.va=this.va,this.la=this.la}S(st,I),st.prototype.name="cancel";var ht=0,ft={};function dt(e){if(!e.va&&(e.va=!0,e.za(),0!=ht)){var t=e[y]||(e[y]=++b);if(0!=ht&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ft[t]}}function pt(e){return pt[" "](e),e}ct.prototype.va=!1,ct.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},pt[" "]=h;var gt,mt,vt=xe("Opera"),yt=xe("Trident")||xe("MSIE"),bt=xe("Edge"),_t=bt||yt,wt=xe("Gecko")&&!(ve(ke.toLowerCase(),"webkit")&&!xe("Edge"))&&!(xe("Trident")||xe("MSIE"))&&!xe("Edge"),Ct=ve(ke.toLowerCase(),"webkit")&&!xe("Edge");function kt(){var e=a.document;return e?e.documentMode:void 0}e:{var Tt="",St=(mt=ke,wt?/rv:([^\);]+)(\)|;)/.exec(mt):bt?/Edge\/([\d\.]+)/.exec(mt):yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mt):Ct?/WebKit\/(\S+)/.exec(mt):vt?/(?:Version)[ \/]?(\S+)/.exec(mt):void 0);if(St&&(Tt=St?St[1]:""),yt){var Et=kt();if(null!=Et&&Et>parseFloat(Tt)){gt=String(Et);break e}}gt=Tt}var It,xt={};function At(e){return function(e,t){var n=xt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=se(String(gt)).split("."),r=se(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;t=ye(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||ye(0==a[2].length,0==l[2].length)||ye(a[2],l[2]),a=a[3],l=l[3]}while(0==t)}return 0<=t}))}It=a.document&&yt?kt():void 0;var Ot=Object.freeze||function(e){return e},Nt=!yt||9<=Number(It),Pt=yt&&!At("9"),Dt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",h,t),a.removeEventListener("test",h,t)}catch(n){}return e}();function Rt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Mt(e,t){if(Rt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(wt){e:{try{pt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=l(e.pointerType)?e.pointerType:Lt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Rt.prototype.preventDefault=function(){this.Mb=!1},S(Mt,Rt);var Lt=Ot({2:"touch",3:"pen",4:"mouse"});Mt.prototype.preventDefault=function(){Mt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Pt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Mt.prototype.f=function(){return this.a};var Vt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Ft(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Pa=i,this.key=++Ut,this.ta=this.Ka=!1}function Bt(e){e.ta=!0,e.listener=null,e.proxy=null,e.src=null,e.Pa=null}function jt(e){this.src=e,this.a={},this.b=0}function qt(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(Bt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function zt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ta&&o.listener==t&&o.capture==!!n&&o.Pa==r)return i}return-1}jt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=zt(e,t,r,i);return-1<a?(t=e[a],n||(t.Ka=!1)):((t=new Ft(t,this.src,o,!!r,i)).Ka=n,e.push(t)),t};var Ht="closure_lm_"+(1e6*Math.random()|0),Wt={};function Kt(e,t,n,r,i){if(r&&r.once)Qt(e,t,n,r,i);else if(p(t))for(var o=0;o<t.length;o++)Kt(e,t[o],n,r,i);else n=rn(n),e&&e[Vt]?an(e,t,n,v(r)?!!r.capture:!!r,i):Gt(e,t,n,!1,r,i)}function Gt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,l=tn(e);if(l||(e[Ht]=l=new jt(e)),!(n=l.add(t,n,r,a,o)).proxy)if(r=function(){var e=en,t=Nt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Dt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function Qt(e,t,n,r,i){if(p(t))for(var o=0;o<t.length;o++)Qt(e,t[o],n,r,i);else n=rn(n),e&&e[Vt]?ln(e,t,n,v(r)?!!r.capture:!!r,i):Gt(e,t,n,!0,r,i)}function Yt(e,t,n,r,i){if(p(t))for(var o=0;o<t.length;o++)Yt(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=rn(n),e&&e[Vt]?(e=e.u,(t=String(t).toString())in e.a&&-1<(n=zt(o=e.a[t],n,r,i))&&(Bt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=tn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=zt(t,n,r,i)),(n=-1<e?t[e]:null)&&Xt(n))}function Xt(e){if("number"!=typeof e&&e&&!e.ta){var t=e.src;if(t&&t[Vt])qt(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=tn(t))?(qt(n,e),0==n.b&&(n.src=null,t[Ht]=null)):Bt(e)}}}function Jt(e){return e in Wt?Wt[e]:Wt[e]="on"+e}function Zt(e,t,n,r){var i=!0;if((e=tn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ta&&(o=$t(o,r),i=i&&!1!==o)}return i}function $t(e,t){var n=e.listener,r=e.Pa||e.src;return e.Ka&&Xt(e),n.call(r,t)}function en(e,t){if(e.ta)return!0;if(!Nt){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Mt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(l){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Zt(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Zt(r[i],e,!1,t),n=n&&o}return n}return $t(e,new Mt(t,this))}function tn(e){return(e=e[Ht])instanceof jt?e:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(e){return m(e)?e:(e[nn]||(e[nn]=function(t){return e.handleEvent(t)}),e[nn])}function on(){ct.call(this),this.u=new jt(this),this.Sb=this,this.Xa=null}function an(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function ln(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function un(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ta&&a.capture==n){var l=a.listener,u=a.Pa||a.src;a.Ka&&qt(e.u,a),i=!1!==l.call(u,r)&&i}}return i&&0!=r.Mb}function sn(e,t,n){if(m(e))n&&(e=C(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function cn(e){var t=null;return new ze((function(n,r){-1==(t=sn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw a.clearTimeout(t),e}))}function hn(e){if(e.U&&"function"==typeof e.U)return e.U();if(l(e))return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function fn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(g(e)||l(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function dn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof dn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];gn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)gn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S(on,ct),on.prototype[Vt]=!0,on.prototype.addEventListener=function(e,t,n,r){Kt(this,e,t,n,r)},on.prototype.removeEventListener=function(e,t,n,r){Yt(this,e,t,n,r)},on.prototype.dispatchEvent=function(e){var t,n=this.Xa;if(n)for(t=[];n;n=n.Xa)t.push(n);n=this.Sb;var r=e.type||e;if(l(e))e=new Rt(e,n);else if(e instanceof Rt)e.target=e.target||n;else{var i=e;X(e=new Rt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=un(a,r,!0,e)&&i}if(i=un(a=e.b=n,r,!0,e)&&i,i=un(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=un(a=e.b=t[o],r,!1,e)&&i;return i},on.prototype.za=function(){if(on.qb.za.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Bt(n[r]);delete t.a[e],t.b--}}this.Xa=null},(e=dn.prototype).U=function(){pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.X=function(){return pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return gn(this.b,e)?this.b[e]:t},e.set=function(e,t){gn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof vn?(this.h=void 0!==t?t:e.h,yn(this,e.f),this.i=e.i,this.b=e.b,bn(this,e.l),this.c=e.c,_n(this,Fn(e.a)),this.g=e.g):e&&(n=String(e).match(mn))?(this.h=!!t,yn(this,n[1]||"",!0),this.i=Sn(n[2]||""),this.b=Sn(n[3]||"",!0),bn(this,n[4]),this.c=Sn(n[5]||"",!0),_n(this,n[6]||"",!0),this.g=Sn(n[7]||"")):(this.h=!!t,this.a=new Dn(null,this.h))}function yn(e,t,n){e.f=n?Sn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function bn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function _n(e,t,n){t instanceof Dn?(e.a=t,function(e,t){t&&!e.f&&(Rn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ln(this,t),Un(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=En(t,Nn)),e.a=new Dn(t,e.h))}function wn(e,t,n){e.a.set(t,n)}function Cn(e,t){return e.a.get(t)}function kn(e){return e instanceof vn?new vn(e):new vn(e,void 0)}function Tn(e,t){var n=new vn(null,void 0);return yn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Sn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function En(e,t,n){return l(e)?(e=encodeURI(e).replace(t,In),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function In(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(En(t,xn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(En(t,xn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(En(n,"/"==n.charAt(0)?On:An,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",En(n,Pn)),e.join("")},vn.prototype.resolve=function(e){var t=new vn(this),n=!!e.f;n?yn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)bn(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ve(i,"./")||ve(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var l=i[a++];"."==l?r&&a==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?_n(t,Fn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var xn=/[#\/\?@]/g,An=/[#\?:]/g,On=/[#\?]/g,Nn=/[#\?@]/g,Pn=/#/g;function Dn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Rn(e){e.a||(e.a=new dn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Mn(e){var t=fn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Dn(null,void 0);e=hn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];p(o)?Un(n,i,o):n.add(i,o)}return n}function Ln(e,t){Rn(e),t=Bn(e,t),gn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,gn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&pn(e)))}function Vn(e,t){return Rn(e),t=Bn(e,t),gn(e.a.b,t)}function Un(e,t,n){Ln(e,t),0<n.length&&(e.c=null,e.a.set(Bn(e,t),W(n)),e.b+=n.length)}function Fn(e){var t=new Dn;return t.c=e.c,e.a&&(t.a=new dn(e.a),t.b=e.b),t}function Bn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=Dn.prototype).add=function(e,t){Rn(this),this.c=null,e=Bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Rn(this),this.a.forEach((function(n,r){U(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.X=function(){Rn(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.U=function(e){Rn(this);var t=[];if(l(e))Vn(this,e)&&(t=H(t,this.a.get(Bn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=H(t,e[n])}return t},e.set=function(e,t){return Rn(this),this.c=null,Vn(this,e=Bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var jn=!yt||9<=Number(It);function qn(e){var t=document;return l(e)?t.getElementById(e):e}function zn(e,t){K(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Hn.hasOwnProperty(n)?e.setAttribute(Hn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var Hn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Wn(e,t,n){function r(n){n&&t.appendChild(l(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||v(o)&&0<o.nodeType?r(o):U(Kn(o)?W(o):o,r)}}function Kn(e){if(e&&"number"==typeof e.length){if(v(e))return"function"==typeof e.item||"string"==typeof e.item;if(m(e))return"function"==typeof e.item}return!1}function Gn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(p(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Jn(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Jn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,e,t),t.join("")}function Qn(){}var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Xn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Jn(e,t){t.push('"',e.replace(Xn,(function(e){var t=Yn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Yn[e]=t),t})),'"')}function Zn(){var e=mr();return yt&&!!It&&11==It||/Edge\/\d+/.test(e)}function $n(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function er(e,t){t=t||a.window;var n="about:blank";e&&(n=_e(Ce(e)).toString()),t.location.href=n}function tr(e){return!!((e=(e||mr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function nr(e){e=e||a.window;try{e.close()}catch(t){}}function rr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=mr().toLowerCase(),r&&(t.target=r,ve(n,"crios/")&&(t.target="_blank")),dr(mr())==fr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof be?n:Ce(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((xe("iPhone")&&!xe("iPod")&&!xe("iPad")||xe("iPad")||xe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(L(a=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof be||t instanceof be||(t="object"==typeof t&&t.qa?t.pa():String(t),we.test(t)||(t="about:invalid#zClosurez"),t=Se(t)),a.href=_e(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=_e(t).toString(),a&&(_t&&ve(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Pe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ve(e)+'">'),a.document.write(Oe(e)),a.document.close())):(a=r.open(_e(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(l){}return a}var ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function ar(){var e=null;return new ze((function(t){"complete"==a.document.readyState?t():(e=function(){t()},Qt(window,"load",e))})).s((function(t){throw Yt(window,"load",e),t}))}function lr(e){return e=e||mr(),!("file:"!==wr()&&"ionic:"!==wr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){var e=a.window;try{return!(!e||e==e.top)}catch(t){return!1}}function sr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function cr(){return Xg.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Xg.a.INTERNAL.hasOwnProperty("node")?"Node":sr()?"Worker":"Browser"}function hr(){var e=cr();return"ReactNative"===e||"Node"===e}var fr="Firefox";function dr(e){var t=e.toLowerCase();return ve(t,"opera/")||ve(t,"opr/")||ve(t,"opios/")?"Opera":ve(t,"iemobile")?"IEMobile":ve(t,"msie")||ve(t,"trident/")?"IE":ve(t,"edge/")?"Edge":ve(t,"firefox/")?fr:ve(t,"silk/")?"Silk":ve(t,"blackberry")?"Blackberry":ve(t,"webos")?"Webos":!ve(t,"safari/")||ve(t,"chrome/")||ve(t,"crios/")||ve(t,"android")?!ve(t,"chrome/")&&!ve(t,"crios/")||ve(t,"edge/")?ve(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var pr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function gr(e,t){t=t||[];var n,r=[],i={};for(n in pr)i[pr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=cr())?r=dr(i=mr()):"Worker"===r&&(r=dr(i=mr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function mr(){return a.navigator&&a.navigator.userAgent||""}function vr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function yr(){try{var e=a.localStorage,t=Er();if(e)return e.setItem(t,"1"),e.removeItem(t),!Zn()||!!a.indexedDB}catch(n){return sr()&&!!a.indexedDB}return!1}function br(){return(_r()||"chrome-extension:"===wr()||lr())&&!hr()&&yr()&&!sr()}function _r(){return"http:"===wr()||"https:"===wr()}function wr(){return a.location&&a.location.protocol||null}function Cr(e){return!tr(e=e||mr())&&dr(e)!=fr}function kr(e){return void 0===e?null:Gn(e)}function Tr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Sr(e){if(null!==e)return JSON.parse(e)}function Er(e){return e||Math.floor(1e9*Math.random()).toString()}function Ir(e){return"Safari"!=dr(e=e||mr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ar(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=mr(),t=cr(),this.b=tr(e)||"ReactNative"===t}function Or(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Nr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Pr(){return!(!vr("fireauth.oauthhelper",a)&&!vr("fireauth.iframe",a))}Ar.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!_r()&&"chrome-extension:"!==wr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Dr,Rr={};function Mr(e){Rr[e]||(Rr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Lr={};Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:2}),Dr=2==Lr.abcd}catch(mt){Dr=!1}function Vr(e,t,n){Dr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Ur(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Vr(e,n,t[n])}function Fr(e){var t={};return Ur(t,e),t}function Br(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Vr(t,n,Br(e[n]));return t}function jr(e){var t={},n=e[zr],r=e[Hr];if(!(e=e[Wr])||e!=qr&&!n)throw Error("Invalid provider user info!");t[Gr]=r||null,t[Kr]=n||null,Vr(this,Yr,e),Vr(this,Qr,Br(t))}var qr="EMAIL_SIGNIN",zr="email",Hr="newEmail",Wr="requestType",Kr="email",Gr="fromEmail",Qr="data",Yr="operation";function Xr(e,t){this.code=Zr+e,this.message=t||$r[e]||""}function Jr(e){var t=e&&e.code;return t?new Xr(t.substring(Zr.length),e.message):null}S(Xr,Error),Xr.prototype.A=function(){return{code:this.code,message:this.message}},Xr.prototype.toJSON=function(){return this.A()};var Zr="auth/",$r={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ei(e){var t=Cn(e=kn(e),ti)||null,n=Cn(e,ni)||null,r=Cn(e,oi)||null;if(r=r&&li[r]||null,!t||!n||!r)throw new Xr("argument-error",ti+", "+ni+"and "+oi+" are required in a valid action code URL.");Ur(this,{apiKey:t,operation:r,code:n,continueUrl:Cn(e,ri)||null,languageCode:Cn(e,ii)||null,tenantId:Cn(e,ai)||null})}var ti="apiKey",ni="oobCode",ri="continueUrl",ii="languageCode",oi="mode",ai="tenantId",li={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:qr,verifyEmail:"VERIFY_EMAIL"};function ui(e){try{return new ei(e)}catch(t){return null}}function si(e){var t=e[pi];if(void 0===t)throw new Xr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Xr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ci];if(n&&"object"==typeof n){t=n[vi];var r=n[gi];if(n=n[mi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Xr("argument-error",gi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Xr("argument-error",mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Xr("argument-error",vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Xr("missing-android-pkg-name")}}else if(void 0!==n)throw new Xr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(t=e[di])&&"object"==typeof t){if("string"==typeof(t=t[yi])&&t.length)this.f=t;else if(void 0!==t)throw new Xr("argument-error",yi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Xr("argument-error",di+" property must be a non null object when specified.");if(void 0!==(t=e[fi])&&"boolean"!=typeof t)throw new Xr("argument-error",fi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[hi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Xr("argument-error",hi+" property must be a non empty string when specified.");this.i=e||null}var ci="android",hi="dynamicLinkDomain",fi="handleCodeInApp",di="iOS",pi="url",gi="installApp",mi="minimumVersion",vi="packageName",yi="bundleId";function bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var _i=null,wi=null;function Ci(e){this.f=e.sub,T(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ki(e){return(e=Ti(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ci(e):null}function Ti(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!_i){_i={},wi={};for(var e=0;65>e;e++)_i[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),wi[_i[e]]=e,62<=e&&(wi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),l=n(64);if(64===l&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=l&&t(a<<6&192|l))}}(e,(function(e){t+=String.fromCharCode(e)})),t}(e))}catch(r){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Si,Ei={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ii(e){for(var t in Ei)if(Ei[t].id===e)return{firebaseEndpoint:(e=Ei[t]).cb,secureTokenEndpoint:e.ib};return null}Si=Ii("__EID__")?"__EID__":void 0;var xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ai=["client_id","response_type","scope","redirect_uri","state"],Oi={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Ai},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Ai},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Ai},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:xi},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Ni(e){for(var t in Oi)if(Oi[t].Fa==e)return Oi[t];return null}function Pi(e){var t={};t["facebook.com"]=Vi,t["google.com"]=Fi,t["github.com"]=Ui,t["twitter.com"]=Bi;var n=e&&e[Ri];try{if(n)return t[n]?new t[n](e):new Li(e);if(void 0!==e[Di])return new Mi(e)}catch(r){}return null}var Di="idToken",Ri="providerId";function Mi(e){var t=e[Ri];if(!t&&e[Di]){var n=ki(e[Di]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Vr(this,"providerId",t),Vr(this,"isNewUser",n)}function Li(e){Mi.call(this,e),Vr(this,"profile",Br((e=Sr(e.rawUserInfo||"{}"))||{}))}function Vi(e){if(Li.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ui(e){if(Li.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",this.profile&&this.profile.login||null)}function Fi(e){if(Li.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Bi(e){if(Li.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",e.screenName||null)}function ji(e){var t=kn(e),n=Cn(t,"link"),r=Cn(kn(n),"link");return t=Cn(t,"deep_link_id"),Cn(kn(t),"link")||t||r||n||e}function qi(){}function zi(e,t){return e.then((function(e){if(e[Aa]){var n=ki(e[Aa]);if(!n||t!=n.f)throw new Xr("user-mismatch");return e}throw new Xr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==Zr+"user-not-found"?new Xr("user-mismatch"):e}))}function Hi(e,t){if(!t)throw new Xr("internal-error","failed to construct a credential");this.a=t,Vr(this,"providerId",e),Vr(this,"signInMethod",e)}function Wi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Ki(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Hi(e.providerId,e.pendingToken)}catch(t){}return null}function Gi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Vr(this,"idToken",t.idToken),t.accessToken&&Vr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Vr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Xr("internal-error","failed to construct a credential");Vr(this,"accessToken",t.oauthToken),Vr(this,"secret",t.oauthTokenSecret)}Vr(this,"providerId",e),Vr(this,"signInMethod",n)}function Qi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Mn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Yi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Gi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Xi(e,t){this.Fc=t||[],Ur(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(Ni(e)||{}).Ea||null,this.bb=null}function Ji(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Xr("argument-error",'SAML provider IDs must be prefixed with "saml."');Xi.call(this,e,[])}function Zi(e){Xi.call(this,e,Ai),this.a=[]}function $i(){Zi.call(this,"facebook.com")}function eo(e){if(!e)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new $i).credential({accessToken:t})}function to(){Zi.call(this,"github.com")}function no(e){if(!e)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new to).credential({accessToken:t})}function ro(){Zi.call(this,"google.com"),this.ya("profile")}function io(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new ro).credential({idToken:n,accessToken:t})}function oo(){Xi.call(this,"twitter.com",xi)}function ao(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Gi("twitter.com",n,"twitter.com")}function lo(e,t,n){this.a=e,this.c=t,Vr(this,"providerId","password"),Vr(this,"signInMethod",n===so.EMAIL_LINK_SIGN_IN_METHOD?so.EMAIL_LINK_SIGN_IN_METHOD:so.EMAIL_PASSWORD_SIGN_IN_METHOD)}function uo(e){return e&&e.email&&e.password?new lo(e.email,e.password,e.signInMethod):null}function so(){Ur(this,{providerId:"password",isOAuthProvider:!1})}function co(e,t){if(!(t=ho(t)))throw new Xr("argument-error","Invalid email link!");return new lo(e,t.code,so.EMAIL_LINK_SIGN_IN_METHOD)}function ho(e){return(e=ui(e=ji(e)))&&e.operation===qr?e:null}function fo(e){if(!(e.Va&&e.Ua||e.Ha&&e.ba))throw new Xr("internal-error");this.a=e,Vr(this,"providerId","phone"),Vr(this,"signInMethod","phone")}function po(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new fo(t)}return null}function go(e){return e.a.Ha&&e.a.ba?{temporaryProof:e.a.Ha,phoneNumber:e.a.ba}:{sessionInfo:e.a.Va,code:e.a.Ua}}function mo(e){try{this.a=e||Xg.a.auth()}catch(t){throw new Xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ur(this,{providerId:"phone",isOAuthProvider:!1})}function vo(e,t){if(!e)throw new Xr("missing-verification-id");if(!t)throw new Xr("missing-verification-code");return new fo({Va:e,Ua:t})}function yo(e){if(e.temporaryProof&&e.phoneNumber)return new fo({Ha:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return io(o,n);case"facebook.com":return eo(n);case"github.com":return no(n);case"twitter.com":return ao(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Hi(t,a):new Gi(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Zi(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(l){return null}}function bo(e){if(!e.isOAuthProvider)throw new Xr("invalid-oauth-provider")}function _o(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Xr("invalid-auth-event");if(this.g&&this.a)throw new Xr("invalid-auth-event");if(this.g&&!this.f)throw new Xr("invalid-auth-event")}function wo(e){return(e=e||{}).type?new _o(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Jr(e.error),e.postBody,e.tenantId):null}function Co(){this.b=null,this.a=[]}S(Li,Mi),S(Vi,Li),S(Ui,Li),S(Fi,Li),S(Bi,Li),Hi.prototype.na=function(e){return Ga(e,Wi(this))},Hi.prototype.b=function(e,t){var n=Wi(this);return n.idToken=t,Qa(e,n)},Hi.prototype.f=function(e,t){return zi(Ya(e,Wi(this)),t)},Hi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Gi.prototype.na=function(e){return Ga(e,Qi(this))},Gi.prototype.b=function(e,t){var n=Qi(this);return n.idToken=t,Qa(e,n)},Gi.prototype.f=function(e,t){return zi(Ya(e,Qi(this)),t)},Gi.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Xi.prototype.Ga=function(e){return this.zb=Q(e),this},S(Ji,Xi),S(Zi,Xi),Zi.prototype.ya=function(e){return j(this.a,e)||this.a.push(e),this},Zi.prototype.Hb=function(){return W(this.a)},Zi.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Gi(this.providerId,n,this.providerId)},S($i,Zi),Vr($i,"PROVIDER_ID","facebook.com"),Vr($i,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(to,Zi),Vr(to,"PROVIDER_ID","github.com"),Vr(to,"GITHUB_SIGN_IN_METHOD","github.com"),S(ro,Zi),Vr(ro,"PROVIDER_ID","google.com"),Vr(ro,"GOOGLE_SIGN_IN_METHOD","google.com"),S(oo,Xi),Vr(oo,"PROVIDER_ID","twitter.com"),Vr(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),lo.prototype.na=function(e){return this.signInMethod==so.EMAIL_LINK_SIGN_IN_METHOD?Tl(e,rl,{email:this.a,oobCode:this.c}):Tl(e,_l,{email:this.a,password:this.c})},lo.prototype.b=function(e,t){return this.signInMethod==so.EMAIL_LINK_SIGN_IN_METHOD?Tl(e,il,{idToken:t,email:this.a,oobCode:this.c}):Tl(e,pl,{idToken:t,email:this.a,password:this.c})},lo.prototype.f=function(e,t){return zi(this.na(e),t)},lo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Ur(so,{PROVIDER_ID:"password"}),Ur(so,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ur(so,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fo.prototype.na=function(e){return e.Wa(go(this))},fo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,Tl(e,Cl,n)},fo.prototype.f=function(e,t){var n=go(this);return n.operation="REAUTH",zi(e=Tl(e,kl,n),t)},fo.prototype.A=function(){var e={providerId:"phone"};return this.a.Va&&(e.verificationId=this.a.Va),this.a.Ua&&(e.verificationCode=this.a.Ua),this.a.Ha&&(e.temporaryProof=this.a.Ha),this.a.ba&&(e.phoneNumber=this.a.ba),e},mo.prototype.Wa=function(e,t){var n=this.a.b;return Xe(t.verify()).then((function(r){if(!l(r))throw new Xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Tl(e,fl,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new Xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ur(mo,{PROVIDER_ID:"phone"}),Ur(mo,{PHONE_SIGN_IN_METHOD:"phone"}),_o.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},_o.prototype.R=function(){return this.h},_o.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var ko,To=null;function So(e){var t="unauthorized-domain",n=void 0,r=kn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Le("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Le("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Xr.call(this,t,n)}function Eo(e,t,n){Xr.call(this,e,n),(e=t||{}).Ab&&Vr(this,"email",e.Ab),e.ba&&Vr(this,"phoneNumber",e.ba),e.credential&&Vr(this,"credential",e.credential),e.Qb&&Vr(this,"tenantId",e.Qb)}function Io(e){if(e.code){var t=e.code||"";0==t.indexOf(Zr)&&(t=t.substring(Zr.length));var n={credential:yo(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Xr(t,e.message||void 0);return new Eo(t,n,e.message)}return null}function xo(){}function Ao(){}function Oo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function No(){}function Po(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Do(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Ro(e,t,n){this.reset(e,t,n,void 0,void 0)}function Mo(e){this.f=e,this.b=this.c=this.a=null}function Lo(e,t){this.name=e,this.value=t}S(So,Xr),S(Eo,Xr),Eo.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&X(e,t),e},Eo.prototype.toJSON=function(){return this.A()},xo.prototype.c=null,S(Ao,xo),Ao.prototype.a=function(){var e=Oo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ao.prototype.b=function(){var e={};return Oo(this)&&(e[0]=!0,e[1]=!0),e},ko=new Ao,S(No,xo),No.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Po;throw Error("Unsupported browser")},No.prototype.b=function(){return{}},(e=Po.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Do(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",Do(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,Do(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ro.prototype.a=null,Ro.prototype.reset=function(e,t,n,r,i){r||T(),delete this.a},Lo.prototype.toString=function(){return this.name};var Vo=new Lo("SEVERE",1e3),Uo=new Lo("WARNING",900),Fo=new Lo("CONFIG",700),Bo=new Lo("FINE",500);Mo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(A("Root logger has no level set."),null)}(this).value)for(m(t)&&(t=t()),e=new Ro(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var jo={},qo=null;function zo(e){var t;if(qo||(qo=new Mo(""),jo[""]=qo,qo.c=Fo),!(t=jo[e])){t=new Mo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=zo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,jo[e]=t}return t}function Ho(e,t){e&&e.log(Bo,t,void 0)}function Wo(e){this.f=e}function Ko(e){on.call(this),this.o=e,this.readyState=Go,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=zo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(Wo,xo),Wo.prototype.a=function(){return new Ko(this.f)},Wo.prototype.b=function(e){return function(){return e}}({}),S(Ko,on);var Go=0;function Qo(e){e.c.read().then(e.ec.bind(e)).catch(e.Oa.bind(e))}function Yo(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,Xo(e)}function Xo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Jo(e){on.call(this),this.headers=new dn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Zo,this.v=this.P=!1}(e=Ko.prototype).open=function(e,t){if(this.readyState!=Go)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,Xo(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Oa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Yo(this,!1)),this.readyState=Go},e.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,Xo(this)),this.a&&(this.readyState=3,Xo(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Qo(this)):e.text().then(this.ic.bind(this),this.Oa.bind(this)))))},e.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Yo(this,!0):Xo(this),3==this.readyState&&Qo(this)}},e.ic=function(e){this.a&&(this.response=this.responseText=e,Yo(this,!0))},e.hc=function(e){this.a&&(this.response=e,Yo(this,!0))},e.Oa=function(e){var t=this.h;t&&t.log(Uo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Yo(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Uo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Uo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},S(Jo,on);var Zo="";Jo.prototype.b=zo("goog.net.XhrIo");var $o=/^https?$/i,ea=["POST","PUT"];function ta(e){return"content-type"==e.toLowerCase()}function na(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ra(e),oa(e)}function ra(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ia(e){if(e.c&&void 0!==o)if(e.w[1]&&4==la(e)&&2==ua(e))Ho(e.b,sa(e,"Local request error detected and ignored"));else if(e.i&&4==la(e))sn(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==la(e)){Ho(e.b,sa(e,"Request complete")),e.c=!1;try{var t,n=ua(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var l=String(e.l).match(mn)[1]||null;if(!l&&a.self&&a.self.location){var u=a.self.location.protocol;l=u.substr(0,u.length-1)}i=!$o.test(l?l.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<la(e)?e.a.statusText:""}catch(c){Ho(e.b,"Can not get status: "+c.message),s=""}e.h=s+" ["+ua(e)+"]",ra(e)}}finally{oa(e)}}}function oa(e,t){if(e.a){aa(e);var n=e.a,r=e.w[0]?h:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Vo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function aa(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(a.clearTimeout(e.o),e.o=null)}function la(e){return e.a?e.a.readyState:0}function ua(e){try{return 2<la(e)?e.a.status:-1}catch(t){return-1}}function sa(e,t){return t+" ["+e.O+" "+e.l+" "+ua(e)+"]"}function ca(e){var t=wa;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ha(e,t,n){e.a=!0,e.c=n,e.f=!t,ga(e)}function fa(e){if(e.a){if(!e.u)throw new ma(e);e.u=!1}}function da(e,t,n,r){e.g.push([t,n,r]),e.a&&ga(e)}function pa(e){return B(e.g,(function(e){return m(e[1])}))}function ga(e){if(e.h&&e.a&&pa(e)){var t=e.h,n=ba[t];n&&(a.clearTimeout(n.a),delete ba[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],l=i[1];if(i=i[2],o=e.f?l:o)try{var u=o.call(i||e.o,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(E(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(s){t=s,e.f=!0,pa(e)||(n=!0)}}e.c=t,r&&(u=C(e.m,e,!0),r=C(e.m,e,!1),t instanceof ca?(da(t,u,r),t.w=!0):t.then(u,r)),n&&(t=new ya(t),ba[t.a]=t,e.h=t.a)}function ma(){I.call(this)}function va(){I.call(this)}function ya(e){this.a=a.setTimeout(C(this.c,this),0),this.b=e}(e=Jo.prototype).Ia=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ho(this.b,sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Ho(this.b,sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oa(this))},e.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oa(this,!0)),Jo.qb.za.call(this)},e.Lb=function(){this.va||(this.J||this.i||this.f?ia(this):this.yc())},e.yc=function(){ia(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Zo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Vo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Ho(this.b,"Can not get response: "+t.message),null}},ca.prototype.cancel=function(e){if(this.a)this.c instanceof ca&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new va(this),fa(this),ha(this,!1,e))}},ca.prototype.m=function(e,t){this.i=!1,ha(this,e,t)},ca.prototype.then=function(e,t,n){var r,i,o=new ze((function(e,t){r=e,i=t}));return da(this,r,(function(e){e instanceof va?o.cancel():i(e)})),o.then(e,t,n)},ca.prototype.$goog_Thenable=!0,S(ma,I),ma.prototype.message="Deferred has already fired",ma.prototype.name="AlreadyCalledError",S(va,I),va.prototype.message="Deferred was canceled",va.prototype.name="CanceledError",ya.prototype.c=function(){throw delete ba[this.a],this.b};var ba={};function _a(e){var t={},n=t.document||document,r=re(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ia:void 0},l=new ca(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ca(i,!0);var e=new Sa(Ta,"Timeout reached for loading script "+r);fa(l),ha(l,!1,e)}),h),o.Ia=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ca(i,t.gd||!1,u),fa(l),ha(l,!0,null))},i.onerror=function(){Ca(i,!0,u);var e=new Sa(ka,"Error while loading script "+r);fa(l),ha(l,!1,e)},X(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(i,o),function(e,t){L(e,"HTMLScriptElement"),e.src=re(t),null===c&&(c=(t=(t=a.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""),(t=c)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),l}function wa(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Ca(e,!0,this.Ia)}}function Ca(e,t,n){null!=n&&a.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var ka=0,Ta=1;function Sa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),I.call(this,n),this.code=e}function Ea(e){this.f=e}function Ia(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Oa,this.g=Q(e.secureTokenHeaders||Na),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Pa,this.a=Q(e.firebaseHeaders||Da),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==cr(),!(n=a.XMLHttpRequest||n&&Xg.a.INTERNAL.node&&Xg.a.INTERNAL.node.XMLHttpRequest)&&!sr())throw new Xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=sr()?new Wo(self):hr()?new Ea(n):new No,this.b=null}S(Sa,I),S(Ea,xo),Ea.prototype.a=function(){return new this.f},Ea.prototype.b=function(){return{}};var xa,Aa="idToken",Oa=new Ar(3e4,6e4),Na={"Content-Type":"application/x-www-form-urlencoded"},Pa=new Ar(3e4,6e4),Da={"Content-Type":"application/json"};function Ra(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ma(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function La(e,t,n,r,i,o,l){(function(){var e=mr();return!((e="Chrome"!=dr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||yt&&It&&!(9<It))})()||sr()?e=C(e.o,e):(xa||(xa=new ze((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(a[Ua]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){da(e,null,t,void 0)}(_a(ie(Va,{onload:Ua})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=C(e.m,e)),e(t,n,r,i,o,l)}Ia.prototype.R=function(){return this.b},Ia.prototype.o=function(e,t,n,r,i,o){if(sr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Xr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Jo(this.f);if(o){u.g=Math.max(0,o);var s=setTimeout((function(){u.dispatchEvent("timeout")}),o)}an(u,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Ho(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),ln(u,"ready",(function(){s&&clearTimeout(s),dt(this)})),ln(u,"timeout",(function(){s&&clearTimeout(s),dt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():ko.a(),e.w=function(e){return e.c||(e.c=e.b())}(e.B?e.B:ko),e.a.onreadystatechange=C(e.Lb,e);try{Ho(e.b,sa(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(u){return Ho(e.b,sa(e,"Error opening Xhr: "+u.message)),void na(e,u)}t=r||"";var o=new dn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||l(e))U(e,t,void 0);else for(var n=fn(e),r=hn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ta,n=e.length,r=l(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:l(e)?e.charAt(t):e[t]}(o.X()),r=a.FormData&&t instanceof a.FormData,!j(ea,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{aa(e),0<e.g&&(e.v=function(e){return yt&&At(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Ho(e.b,sa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=C(e.Ia,e)):e.o=sn(e.Ia,e.g,e)),Ho(e.b,sa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(u){Ho(e.b,sa(e,"Send error: "+u.message)),na(e,u)}}(u,e,n,r,i)};var Va=new J(ee,"https://apis.google.com/js/client.js?onload=%{onload}"),Ua="__fcb"+Math.floor(1e6*Math.random()).toString();function Fa(e){if(!l(e=e.email)||!or.test(e))throw new Xr("invalid-email")}function Ba(e){"email"in e&&Fa(e)}function ja(e){if(!e[Aa])throw new Xr("internal-error")}function qa(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Xr("internal-error")}else{if(!e.sessionInfo)throw new Xr("missing-verification-id");if(!e.code)throw new Xr("missing-verification-code")}}Ia.prototype.m=function(e,t,n,r,i){var o=this;xa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ia.prototype.ob=function(){return Tl(this,gl,{})},Ia.prototype.rb=function(e,t){return Tl(this,dl,{idToken:e,email:t})},Ia.prototype.sb=function(e,t){return Tl(this,pl,{idToken:e,password:t})};var za={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ha(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Xr("internal-error")}function Wa(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Vn(e=new Dn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function Ka(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Io(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Io(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Io(e)):e.errorMessage&&(t=Sl(e.errorMessage)),t)throw t;if(!e[Aa])throw new Xr("internal-error")}function Ga(e,t){return t.returnIdpCredential=!0,Tl(e,ml,t)}function Qa(e,t){return t.returnIdpCredential=!0,Tl(e,yl,t)}function Ya(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Tl(e,vl,t)}function Xa(e){if(!e.oobCode)throw new Xr("invalid-action-code")}(e=Ia.prototype).tb=function(e,t){var n={idToken:e},r=[];return K(za,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Tl(this,dl,n)},e.kb=function(e,t){return X(e={requestType:"PASSWORD_RESET",email:e},t),Tl(this,ul,e)},e.lb=function(e,t){return X(e={requestType:"EMAIL_SIGNIN",email:e},t),Tl(this,al,e)},e.jb=function(e,t){return X(e={requestType:"VERIFY_EMAIL",idToken:e},t),Tl(this,ll,e)},e.Wa=function(e){return Tl(this,wl,e)},e.ab=function(e,t){return Tl(this,hl,{oobCode:e,newPassword:t})},e.Ma=function(e){return Tl(this,Za,{oobCode:e})},e.Ya=function(e){return Tl(this,Ja,{oobCode:e})};var Ja={endpoint:"setAccountInfo",D:Xa,fa:"email",F:!0},Za={endpoint:"resetPassword",D:Xa,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Xr("internal-error")},F:!0},$a={endpoint:"signupNewUser",D:function(e){if(Fa(e),!e.password)throw new Xr("weak-password")},K:ja,T:!0,F:!0},el={endpoint:"createAuthUri",F:!0},tl={endpoint:"deleteAccount",V:["idToken"]},nl={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!p(e.deleteProvider))throw new Xr("internal-error")}},rl={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Fa,K:ja,T:!0,F:!0},il={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Fa,K:ja,T:!0},ol={endpoint:"getAccountInfo"},al={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Xr("internal-error");Fa(e)},fa:"email",F:!0},ll={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Xr("internal-error")},fa:"email",F:!0},ul={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Xr("internal-error");Fa(e)},fa:"email",F:!0},sl={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},cl={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Xr("internal-error")}},hl={endpoint:"resetPassword",D:Xa,fa:"email",F:!0},fl={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},dl={endpoint:"setAccountInfo",V:["idToken"],D:Ba,T:!0},pl={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Ba(e),!e.password)throw new Xr("weak-password")},K:ja,T:!0},gl={endpoint:"signupNewUser",K:ja,T:!0,F:!0},ml={endpoint:"verifyAssertion",D:Ha,Ra:Wa,K:Ka,T:!0,F:!0},vl={endpoint:"verifyAssertion",D:Ha,Ra:Wa,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Xr("user-not-found");if(e.errorMessage)throw Sl(e.errorMessage);if(!e[Aa])throw new Xr("internal-error")},T:!0,F:!0},yl={endpoint:"verifyAssertion",D:function(e){if(Ha(e),!e.idToken)throw new Xr("internal-error")},Ra:Wa,K:Ka,T:!0},bl={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Xr("invalid-custom-token")},K:ja,T:!0,F:!0},_l={endpoint:"verifyPassword",D:function(e){if(Fa(e),!e.password)throw new Xr("wrong-password")},K:ja,T:!0,F:!0},wl={endpoint:"verifyPhoneNumber",D:qa,K:ja,F:!0},Cl={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Xr("internal-error");qa(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Io(e);ja(e)}},kl={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:qa,K:ja,F:!0};function Tl(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.V))return Je(new Xr("internal-error"));var r,i=t.Kb||"POST";return Xe(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o){var a=kn(e.h+t);wn(a,"key",e.c),o&&wn(a,"cb",T().toString());var l="GET"==n;if(l)for(var u in r)r.hasOwnProperty(u)&&wn(a,u,r[u]);return new ze((function(t,o){La(e,a.toString(),(function(e){e?e.error?o(El(e,i||{})):t(e):o(new Xr("network-request-failed"))}),n,l?void 0:Gn(Tr(r)),e.a,e.i.get())}))}(e,t.endpoint,i,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Ra?t.Ra(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new Xr("internal-error");return r[t.fa]}))}function Sl(e){return El({error:{errors:[{message:e}],code:400,message:e}})}function El(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Xr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",X(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Xr(r[i],t);return!t&&e&&(t=kr(e)),new Xr("internal-error",t)}function Il(e){this.b=e,this.a=null,this.gb=function(e){return(Nl||(Nl=new ze((function(e,t){function n(){xr(),vr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){xr(),t(Error("Network Error"))},timeout:Al.get()})}if(vr("gapi.iframes.Iframe"))e();else if(vr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){vr("gapi.load")?n():t(Error("Network Error"))},Xe(_a(r=ie(xl,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Nl=null,e})))).then((function(){return new ze((function(t,n){vr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ol.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var xl=new J(ee,"https://apis.google.com/js/api.js?onload=%{onload}"),Al=new Ar(3e4,6e4),Ol=new Ar(5e3,15e3),Nl=null;function Pl(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Tn(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Dl(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Rl(e){try{return Xg.a.app(e).auth().Ca()}catch(t){return[]}}function Ml(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ll(e){var t=$n();return function(e){return Tl(e,sl,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=kn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,l=r;if(0==o.indexOf("chrome-extension://")?a=kn(o).b==a&&"chrome-extension"==l:"http"!=l&&"https"!=l?a=!1:ir.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new So($n())}))}function Vl(e){return e.l?e.l:(e.l=ar().then((function(){if(!e.o){var t=e.c,n=e.h,r=Rl(e.b),i=new Pl(e.u,e.f,e.b);i.f=t,i.b=n,i.c=W(r||[]),e.o=i.toString()}e.i=new Il(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.gb.then((function(){e.a.register("authEvent",t,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=wo(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Xe(n)}return n.status="ERROR",Xe(n)}))}(e)})),e.l)}function Ul(e){return e.m||(e.v=e.c?gr(e.c,Rl(e.b)):null,e.m=new Ia(e.f,Ii(e.h),e.v)),e.m}function Fl(e,t,n,r,i,o,a,l,u,s,c){return(e=new Dl(e,t,n,r,i)).l=o,e.g=a,e.i=l,e.b=Q(u||null),e.f=s,e.nb(c).toString()}function Bl(e){if(this.a=e||Xg.a.INTERNAL.reactNative&&Xg.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Xr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function jl(e){this.b=e,this.a={},this.f=C(this.c,this)}Pl.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Ln(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Ln(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Ln(this.a.a,"fw"),this.a.toString()},Dl.prototype.nb=function(e){return this.h=e,this},Dl.prototype.toString=function(){var e=Tn(this.o,"/__/auth/handler");if(wn(e,"apiKey",this.m),wn(e,"appName",this.c),wn(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=Xg.a.app(this.c).auth().ha()}catch(l){n=null}for(var r in t.bb=n,wn(e,"providerId",this.a.providerId),n=Tr((t=this.a).zb))n[r]=n[r].toString();r=t.Fc,n=Q(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}t.eb&&t.bb&&!n[t.eb]&&(n[t.eb]=t.bb),G(n)||wn(e,"customParameters",kr(n))}if("function"==typeof this.a.Hb&&(t=this.a.Hb()).length&&wn(e,"scopes",t.join(",")),this.l?wn(e,"redirectUrl",this.l):Ln(e.a,"redirectUrl"),this.g?wn(e,"eventId",this.g):Ln(e.a,"eventId"),this.i?wn(e,"v",this.i):Ln(e.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Cn(e,a)&&wn(e,a,this.b[a]);return this.h?wn(e,"tid",this.h):Ln(e.a,"tid"),this.f?wn(e,"eid",this.f):Ln(e.a,"eid"),(a=Rl(this.c)).length&&wn(e,"fw",a.join(",")),e.toString()},(e=Ml.prototype).Fb=function(e,t,n){var r=new Xr("popup-closed-by-user"),i=new Xr("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return Vl(e).then((function(){return function(e,t){return e.gb.then((function(){return new ze((function(n){e.a.send(t.type,t,n,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&nr(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new ze((function(t){return function n(){cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return cn(n).then((function(){t(r)}))}))},e.Ob=function(){var e=mr();return!Cr(e)&&!Ir(e)},e.Jb=function(){return!1},e.Db=function(e,t,n,r,i,o,a,l){if(!e)return Je(new Xr("popup-blocked"));if(a&&!Cr())return this.ia().s((function(t){nr(e),i(t)})),r(),Xe();this.a||(this.a=Ll(Ul(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw nr(e),i(t),t}));return r(),t})).then((function(){bo(n),a||er(Fl(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,l),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Eb=function(e,t,n,r){this.a||(this.a=Ll(Ul(this)));var i=this;return this.a.then((function(){bo(t),er(Fl(i.u,i.f,i.b,e,t,$n(),n,i.c,void 0,i.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ia=function(){var e=this;return Vl(this).then((function(){return e.i.gb})).s((function(){throw e.a=null,new Xr("network-request-failed")}))},e.Rb=function(){return!0},e.Aa=function(e){this.g.push(e)},e.Na=function(e){z(this.g,(function(t){return t==e}))},(e=Bl.prototype).get=function(e){return Xe(this.a.getItem(e)).then((function(e){return e&&Sr(e)}))},e.set=function(e,t){return Xe(this.a.setItem(e,kr(t)))},e.S=function(e){return Xe(this.a.removeItem(e))},e.$=function(){},e.ea=function(){};var ql,zl=[];function Hl(e,t,n){G(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Wl(e){this.a=e}function Kl(e){this.c=e,this.b=!1,this.a=[]}function Gl(e,t,n,r){var i,o,a,l,u=n||{},s=null;if(e.b)return Je(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ze((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),e.a.push(s={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),l=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(l),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(l),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ql(e,s),t})).s((function(t){throw Ql(e,s),t}))}function Ql(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),z(e.a,(function(e){return e==t}))}}function Yl(){if(!Jl())throw new Xr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;sr()&&self?(this.l=function(){var e=sr()?self:null;if(U(zl,(function(n){n.b==e&&(t=n)})),!t){var t=new jl(e);zl.push(t)}return t}(),Hl(this.l,"keyChanged",(function(t,n){return nu(e).then((function(t){return 0<t.length&&U(e.a,(function(e){e(t)})),{keyProcessed:j(t,n.key)}}))})),Hl(this.l,"ping",(function(){return Xe(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?Xe().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Xe(null)}().then((function(t){(e.h=t)&&(e.g=new Kl(new Wl(t)),Gl(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&j(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function Xl(e){return e.m||(e.m=function e(t){return new ze((function(n,r){var i=t.u.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new ze((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).s((function(e){r(e)}))}}))}(e)),e.m}function Jl(){try{return!!a.indexedDB}catch(mt){return!1}}function Zl(e){return e.objectStore("firebaseLocalStorage")}function $l(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function eu(e){return new ze((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function tu(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Gl(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Xe()}function nu(e){return Xl(e).then((function(e){var t=Zl($l(e,!1));return t.getAll?eu(t.getAll()):new ze((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function ru(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function iu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Xe().then((function(){if(Jl()){var e=Er(),r="__sak"+e;return ql||(ql=new Yl),(n=ql).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){U(t.a,(function(t){t(e)}))})),e}))}function ou(){this.a={},this.type="inMemory"}function au(){if(!function(){var e="Node"==cr();if(!(e=lu()||e&&Xg.a.INTERNAL.node&&Xg.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==cr())throw new Xr("internal-error","The LocalStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=lu()||Xg.a.INTERNAL.node.localStorage,this.type="localStorage"}function lu(){try{var e=a.localStorage,t=Er();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function uu(){this.type="nullStorage"}function su(){if(!function(){var e="Node"==cr();if(!(e=cu()||e&&Xg.a.INTERNAL.node&&Xg.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==cr())throw new Xr("internal-error","The SessionStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=cu()||Xg.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cu(){try{var e=a.sessionStorage,t=Er();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function hu(){var e={};e.Browser=pu,e.Node=gu,e.ReactNative=mu,e.Worker=vu,this.a=e[cr()]}jl.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];U(r,(function(t){i.push(Xe().then((function(){return t(e.origin,e.data.data)})))})),$e(i).then((function(r){var i=[];U(r,(function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),U(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Wl.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Kl.prototype.close=function(){for(;0<this.a.length;)Ql(this,this.a[0]);this.b=!0},(e=Yl.prototype).set=function(e,t){var n,r=!1,i=this;return Xl(this).then((function(t){return eu((t=Zl($l(n=t,!0))).get(e))})).then((function(o){var a=Zl($l(n,!0));return o?(o.value=t,eu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,eu(a.add(o)))})).then((function(){return i.c[e]=t,tu(i,e)})).ka((function(){r&&i.b--}))},e.get=function(e){return Xl(this).then((function(t){return eu(Zl($l(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.S=function(e){var t=!1,n=this;return Xl(this).then((function(r){return t=!0,n.b++,eu(Zl($l(r,!0)).delete(e))})).then((function(){return delete n.c[e],tu(n,e)})).ka((function(){t&&n.b--}))},e.$=function(e){0==this.a.length&&function(e){ru(e),function t(){e.f=setTimeout((function(){e.i=nu(e).then((function(t){0<t.length&&U(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ea=function(e){z(this.a,(function(t){return t==e})),0==this.a.length&&ru(this)},(e=iu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.S=function(e){return this.b.then((function(t){return t.S(e)}))},e.$=function(e){this.a.push(e)},e.ea=function(e){z(this.a,(function(t){return t==e}))},(e=ou.prototype).get=function(e){return Xe(this.a[e])},e.set=function(e,t){return this.a[e]=t,Xe()},e.S=function(e){return delete this.a[e],Xe()},e.$=function(){},e.ea=function(){},(e=au.prototype).get=function(e){var t=this;return Xe().then((function(){return Sr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Xe().then((function(){var r=kr(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},e.$=function(e){a.window&&Kt(a.window,"storage",e)},e.ea=function(e){a.window&&Yt(a.window,"storage",e)},(e=uu.prototype).get=function(){return Xe(null)},e.set=function(){return Xe()},e.S=function(){return Xe()},e.$=function(){},e.ea=function(){},(e=su.prototype).get=function(e){var t=this;return Xe().then((function(){return Sr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Xe().then((function(){var r=kr(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},e.$=function(){},e.ea=function(){};var fu,du,pu={C:au,Ta:su},gu={C:au,Ta:su},mu={C:Bl,Ta:uu},vu={C:au,Ta:uu},yu={ad:"local",NONE:"none",cd:"session"};function bu(){var e=!(Ir(mr())||!ur()),t=Cr(),n=yr();this.m=e,this.h=t,this.l=n,this.a={},fu||(fu=new hu),e=fu;try{this.g=!Zn()&&Pr()||!a.indexedDB?new e.a.C:new iu(sr()?new ou:new e.a.C)}catch(r){this.g=new ou,this.h=!0}try{this.i=new e.a.Ta}catch(r){this.i=new ou}this.u=new ou,this.f=C(this.Pb,this),this.b={}}function _u(){return du||(du=new bu),du}function wu(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Cu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ku(e,t,n){return n=Cu(t,n),"local"==t.C&&(e.b[n]=null),wu(e,t.C).S(n)}function Tu(e){e.c&&(clearInterval(e.c),e.c=null)}function Su(e){this.a=e,this.b=_u()}(e=bu.prototype).get=function(e,t){return wu(this,e.C).get(Cu(e,t))},e.set=function(e,t,n){var r=Cu(e,n),i=this,o=wu(this,e.C);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Cu(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),G(this.a)&&(wu(this,"local").$(this.f),this.h||(Zn()||!Pr())&&a.indexedDB||!this.l||function(e){Tu(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Mt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Cu(e,t),this.a[e]&&(z(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),G(this.a)&&(wu(this,"local").ea(this.f),Tu(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?wu(this,"local").ea(this.f):Tu(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.$a(t))},yt&&It&&10==It&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else U(e,C(this.$a,this))},e.$a=function(e){this.a[e]&&U(this.a[e],(function(e){e()}))};var Eu,Iu={name:"authEvent",C:"local"};function xu(){this.a=_u()}function Au(e,t){this.b=Ou,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0!==Eu||(Eu=a.Int32Array?new Int32Array(Vu):Vu),this.reset()}S(Au,(function(){this.b=-1}));for(var Ou=64,Nu=Ou-1,Pu=[],Du=0;Du<Nu;Du++)Pu[Du]=0;var Ru=H(128,Pu);function Mu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var l=0|e.a[2],u=0|e.a[3],s=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&l^i&l)|0;a=(o=o+((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))|0)+((a=(a=s&c^~s&h)+(0|Eu[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=s,s=u+a|0,u=l,l=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+l|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+s|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Lu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(l(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Mu(e),i=0);else{if(!g(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Mu(e),i=0)}}e.c=i,e.g+=n}Au.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):W(this.h)};var Vu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uu(){Au.call(this,8,Fu)}S(Uu,Au);var Fu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Bu(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new xu,this.g=new Su(this.h),this.f=null,this.b=[],this.a=this.c=null}function ju(e){return new Xr("invalid-cordova-configuration",e)}function qu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function zu(e){return e.f||(e.f=e.ia().then((function(){return new ze((function(t){e.Aa((function n(r){return t(r),e.Na(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Hu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ji(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Sr(Cn(o=kn(i),"firebaseError")||null))?Jr(o):null)?new _o(r.c,r.b,null,null,o,null,r.R()):new _o(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}qu(e,i)}))}var n=new _o("unknown",null,null,null,new Xr("no-auth-event")),r=!1,i=cn(500).then((function(){return Hu(e).then((function(){r||qu(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(vr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},To||(To=new Co),function(e){var t=To;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=vr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Hu(e){var t=null;return function(e){return e.b.get(Iu,e.a).then((function(e){return wo(e)}))}(e.g).then((function(n){return t=n,ku((n=e.g).b,Iu,n.a)})).then((function(){return t}))}function Wu(e){this.a=e,this.b=_u()}(e=Bu.prototype).ia=function(){return this.Da?this.Da:this.Da=(lr(void 0)?ar().then((function(){return new ze((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Je(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof vr("universalLinks.subscribe",a))throw ju("cordova-universal-links-plugin-fix is not installed");if(void 0===vr("BuildInfo.packageName",a))throw ju("cordova-plugin-buildinfo is not installed");if("function"!=typeof vr("cordova.plugins.browsertab.openUrl",a))throw ju("cordova-plugin-browsertab is not installed");if("function"!=typeof vr("cordova.InAppBrowser.open",a))throw ju("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Xr("cordova-not-ready")}))},e.Fb=function(e,t){return t(new Xr("operation-not-supported-in-this-environment")),Xe()},e.Db=function(){return Je(new Xr("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(e,t,n,r){if(this.c)return Je(new Xr("redirect-operation-pending"));var i=this,o=a.document,l=null,u=null,s=null,c=null;return this.c=Xe().then((function(){return bo(t),zu(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),l=new _o(t,r,null,o,new Xr("no-auth-event"),null,i),u=vr("BuildInfo.packageName",a);if("string"!=typeof u)throw new Xr("invalid-cordova-configuration");var s=vr("BuildInfo.displayName",a),c={};if(mr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!mr().toLowerCase().match(/android/))return Je(new Xr("operation-not-supported-in-this-environment"));c.apn=u}s&&(c.appDisplayName=s),o=function(e){var t=new Uu;Lu(t,e),e=[];var n=8*t.g;Lu(t,Ru,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Mu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return F(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),c.sessionId=o;var h=Fl(e.u,e.i,e.l,t,n,null,r,e.m,c,e.o,i);return e.ia().then((function(){var t=e.h;return e.v.a.set(Iu,l.A(),t)})).then((function(){var t=vr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new Xr("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=vr("cordova.plugins.browsertab.openUrl",a)))throw new Xr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=vr("cordova.InAppBrowser.open",a)))throw new Xr("invalid-cordova-configuration");t=mr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new ze((function(e,t){u=function(){var t=vr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(u),c=function(){Or()&&s()},o.addEventListener("resume",s=function(){l||(l=cn(2e3).then((function(){t(new Xr("redirect-cancelled-by-user"))})))},!1),mr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(e){return Hu(i).then((function(){throw e}))}))})).ka((function(){s&&o.removeEventListener("resume",s,!1),c&&o.removeEventListener("visibilitychange",c,!1),l&&l.cancel(),u&&i.Na(u),i.c=null}))},e.Aa=function(e){this.b.push(e),zu(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new _o("unknown",null,null,null,new Xr("no-auth-event")),e(t))}))},e.Na=function(e){z(this.b,(function(t){return t==e}))};var Ku={name:"pendingRedirect",C:"session"};function Gu(e){return ku(e.b,Ku,e.a)}function Qu(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new us,this.w=new ds,this.g=new Wu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Yu(this.B,this.u,this.m,Si)}function Yu(e,t,n,r){var i=Xg.a.SDK_VERSION||null;return lr()?new Bu(e,t,n,i,r):new Ml(e,t,n,i,r)}function Xu(e){e.f||(e.f=!0,e.a.Aa(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function Ju(e){e.a.Ob()&&Xu(e).s((function(t){var n=new _o("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));rs(t)&&e.o(n)})),e.a.Jb()||ss(e.b)}function Zu(e,t){j(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Ku,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Gu(e.g).then((function(){Xu(e).s((function(t){var n=new _o("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));rs(t)&&e.o(n)}))})):Ju(e)})).s((function(){Ju(e)}))}function $u(e,t){z(e.h,(function(e){return e==t}))}Qu.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=Yu(this.B,this.u,this.m),this.i={}},Qu.prototype.o=function(e){if(!e)throw new Xr("invalid-auth-event");if(6e5<=T()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=T())),t=!0;break}}return ss(this.b),t};var es=new Ar(2e3,1e4),ts=new Ar(3e4,6e4);function ns(e,t,n,r,i,o,a){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.Aa(e.l))}),(function(){e.reset()}),i,o,a)}function rs(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function is(e,t,n,r,i){var o;return function(e){return e.b.set(Ku,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,i).s((function(t){if(rs(t))throw new Xr("operation-not-supported-in-this-environment");return o=t,Gu(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new ze((function(){})):Gu(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function os(e,t,n,r,i){return e.a.Fb(r,(function(e){t.ja(n,null,e,i)}),es.get())}Qu.prototype.oa=function(){return this.b.oa()};var as={};function ls(e,t,n){var r=t+":"+n;return as[r]||(as[r]=new Qu(e,t,n)),as[r]}function us(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ss(e){e.g||(e.g=!0,fs(e,!1,null,null))}function cs(e){e.g&&!e.i&&fs(e,!1,null,null)}function hs(e,t){if(e.b=function(){return Xe(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function fs(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Je(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):hs(e,n):hs(e,{user:null}),e.f=[],e.c=[]}function ds(){}function ps(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function gs(e,t){this.a=t,Vr(this,"verificationId",e)}function ms(e,t,n,r){return new mo(e).Wa(t,n).then((function(e){return new gs(e,r)}))}function vs(e){var t=Ti(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Xr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ur(this,{token:e,expirationTime:Nr(1e3*t.exp),authTime:Nr(1e3*t.auth_time),issuedAtTime:Nr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function ys(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bs(e){this.f=e,this.b=this.a=null,this.c=0}function _s(e,t){var n=t[Aa],r=t.refreshToken;t=ws(t.expiresIn),e.b=n,e.c=t,e.a=r}function ws(e){return T()+1e3*parseInt(e,10)}function Cs(e,t){this.a=e||null,this.b=t||null,Ur(this,{lastSignInTime:Nr(t||null),creationTime:Nr(e||null)})}function ks(e,t,n,r,i,o){Ur(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Ts(e,t){for(var n in Rt.call(this,e),t)this[n]=t[n]}function Ss(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=Xg.a.SDK_VERSION?gr(Xg.a.SDK_VERSION):null,this.a=new Ia(this.l,Ii(Si),e),this.b=new bs(this.a),Ps(this,t[Aa]),_s(this.b,t),Vr(this,"refreshToken",this.b.a),Ms(this,n||{}),on.call(this),this.J=!1,this.o&&br()&&(this.i=ls(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new ys((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-T()-3e5;return 0<t?t:0}))}(this),this.W=C(this.Ja,this);var r=this;this.ga=null,this.xa=function(e){r.ua(e.g)},this.Z=null,this.P=[],this.wa=function(e){Is(r,e.c)},this.Y=null}function Es(e,t){e.Z&&Yt(e.Z,"languageCodeChanged",e.xa),(e.Z=t)&&Kt(t,"languageCodeChanged",e.xa)}function Is(e,t){e.P=t,Ma(e.a,Xg.a.SDK_VERSION?gr(Xg.a.SDK_VERSION,e.P):null)}function xs(e,t){e.Y&&Yt(e.Y,"frameworkChanged",e.wa),(e.Y=t)&&Kt(t,"frameworkChanged",e.wa)}function As(e){try{return Xg.a.app(e.m).auth()}catch(t){throw new Xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Os(e){e.B||e.w.b||(e.w.start(),Yt(e,"tokenChanged",e.W),Kt(e,"tokenChanged",e.W))}function Ns(e){Yt(e,"tokenChanged",e.W),e.w.stop()}function Ps(e,t){e.ma=t,Vr(e,"_lat",t)}function Ds(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return $e(t).then((function(){return e}))}function Rs(e){e.i&&!e.J&&(e.J=!0,Zu(e.i,e))}function Ms(e,t){Ur(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Cs(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ls(){}function Vs(e){return Xe().then((function(){if(e.B)throw new Xr("app-deleted")}))}function Us(e){return F(e.providerData,(function(e){return e.providerId}))}function Fs(e,t){t&&(Bs(e,t.providerId),e.providerData.push(t))}function Bs(e,t){z(e.providerData,(function(e){return e.providerId==t}))}function js(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Vr(e,t,n)}function qs(e,t){e!=t&&(Ur(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Vr(e,"metadata",t.metadata?function(e){return new Cs(e.a,e.b)}(t.metadata):new Cs),U(t.providerData,(function(t){Fs(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Vr(e,"refreshToken",e.b.a))}function zs(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return Tl(e.a,ol,{idToken:t}).then(C(e.zc,e))}(e,t).then((function(){return n||js(e,"isAnonymous",!1),t}))}))}function Hs(e,t){t[Aa]&&e.ma!=t[Aa]&&(_s(e.b,t),e.dispatchEvent(new Ts("tokenChanged")),Ps(e,t[Aa]),js(e,"refreshToken",e.b.a))}function Ws(e,t){return zs(e).then((function(){if(j(Us(e),t))return Ds(e).then((function(){throw new Xr("provider-already-linked")}))}))}function Ks(e,t,n){return Fr({user:e,credential:yo(t),additionalUserInfo:t=Pi(t),operationType:n})}function Gs(e,t){return Hs(e,t),e.reload().then((function(){return e}))}function Qs(e,t,n,r,i){if(!br())return Je(new Xr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Je(e.h);var o=Ni(n.providerId),a=Er(e.uid+":::"),l=null;(!Cr()||ur())&&e.o&&n.isOAuthProvider&&(l=Fl(e.o,e.l,e.m,t,n,null,a,Xg.a.SDK_VERSION||null,null,null,e.tenantId));var u=rr(l,o&&o.sa,o&&o.ra);return r=r().then((function(){if(Xs(e),!i)return e.G().then((function(){}))})).then((function(){return ns(e.i,u,t,n,a,!!l,e.tenantId)})).then((function(){return new ze((function(n,r){e.ja(t,null,new Xr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=a,e.c=os(e.i,e,t,u,a)}))})).then((function(e){return u&&nr(u),e?Fr(e):null})).s((function(e){throw u&&nr(u),e})),Js(e,r,i)}function Ys(e,t,n,r,i){if(!br())return Je(new Xr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Je(e.h);var o=null,a=Er(e.uid+":::");return r=r().then((function(){if(Xs(e),!i)return e.G().then((function(){}))})).then((function(){return e.ca=a,Ds(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(ec,e.A(),t.a)),t})).then((function(){return is(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.da)return tc(e.da);throw o})).then((function(){if(o)throw o})),Js(e,r,i)}function Xs(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Xr("internal-error");throw new Xr("auth-domain-config-required")}}function Js(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Je(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Ts("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){q(e.I,r)})),r}function Zs(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Aa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-T())/1e3;var r=new Ss(t,n,e);return e.providerData&&U(e.providerData,(function(e){e&&Fs(r,Fr(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function $s(e){this.a=e,this.b=_u()}us.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},us.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(fs(this,!0,null,e.a),Xe()):t.Ba(n,r)?function(e,t,n){n=n.Ba(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.R(),l=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){fs(e,l,t,null)})).s((function(t){fs(e,l,null,t)}))}(this,e,t):Je(new Xr("invalid-auth-event")):(fs(this,!1,null,null),Xe())}else Je(new Xr("invalid-auth-event"))},us.prototype.oa=function(){var e=this;return new ze((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Xr("timeout");e.a&&e.a.cancel(),e.a=cn(ts.get()).then((function(){e.b||(e.g=!0,fs(e,!0,null,t))}))}(e))}))},ds.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Xe()):t.Ba(n,r)?function(e,t){var n=e.b,r=e.c;t.Ba(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):Je(new Xr("invalid-auth-event"))}else Je(new Xr("invalid-auth-event"))},gs.prototype.confirm=function(e){return e=vo(this.verificationId,e),this.a(e)},ys.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=a.document,t=null;return Or()||!e?Xe():new ze((function(n){t=function(){Or()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},ys.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bs.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},bs.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Je(new Xr("user-token-expired")):e||!this.b||T()>this.c-3e4?this.a?function(e,t){return function(e,t){return new ze((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?La(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(El(e)):e.access_token&&e.refresh_token?n(e):r(new Xr("internal-error")):r(new Xr("network-request-failed"))}),"POST",Mn(t).toString(),e.g,e.u.get()):r(new Xr("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=ws(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Xe(null):Xe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Cs.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Ts,Rt),S(Ss,on),Ss.prototype.ua=function(e){this.ga=e,Ra(this.a,e)},Ss.prototype.ha=function(){return this.ga},Ss.prototype.Ca=function(){return W(this.P)},Ss.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Vr(Ss.prototype,"providerId","firebase"),(e=Ss.prototype).reload=function(){var e=this;return Js(this,Vs(this).then((function(){return zs(e).then((function(){return Ds(e)})).then(Ls)})))},e.dc=function(e){return this.G(e).then((function(e){return new vs(e)}))},e.G=function(e){var t=this;return Js(this,Vs(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Xr("internal-error");return e.accessToken!=t.ma&&(Ps(t,e.accessToken),t.dispatchEvent(new Ts("tokenChanged"))),js(t,"refreshToken",e.refreshToken),e.accessToken})))},e.zc=function(e){if(!(e=e.users)||!e.length)throw new Xr("internal-error");Ms(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?F(e,(function(e){return new ks(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Fs(this,t[n]);js(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.Ac=function(e){return Mr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(e)},e.hb=function(e){var t=this,n=null;return Js(this,e.f(this.a,this.uid).then((function(e){return Hs(t,e),n=Ks(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.rc=function(e){return Mr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(e)},e.fb=function(e){var t=this,n=null;return Js(this,Ws(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ks(t,e,"link"),Gs(t,e)})).then((function(){return n})))},e.sc=function(e,t){var n=this;return Js(this,Ws(this,"phone").then((function(){return ms(As(n),e,t,C(n.fb,n))})))},e.Bc=function(e,t){var n=this;return Js(this,Xe().then((function(){return ms(As(n),e,t,C(n.hb,n))})),!0)},e.rb=function(e){var t=this;return Js(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return Hs(t,e),t.reload()})))},e.Sc=function(e){var t=this;return Js(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return Hs(t,e),t.reload()})))},e.sb=function(e){var t=this;return Js(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return Hs(t,e),t.reload()})))},e.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Vs(this);var t=this;return Js(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Hs(t,e),js(t,"displayName",e.displayName||null),js(t,"photoURL",e.photoUrl||null),U(t.providerData,(function(e){"password"===e.providerId&&(Vr(e,"displayName",t.displayName),Vr(e,"photoURL",t.photoURL))})),Ds(t)})).then(Ls))},e.Qc=function(e){var t=this;return Js(this,zs(this).then((function(n){return j(Us(t),e)?function(e,t,n){return Tl(e,nl,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return U(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),U(Us(t),(function(e){n[e]||Bs(t,e)})),n[mo.PROVIDER_ID]||Vr(t,"phoneNumber",null),Ds(t)})):Ds(t).then((function(){throw new Xr("no-such-provider")}))})))},e.delete=function(){var e=this;return Js(this,this.G().then((function(t){return Tl(e.a,tl,{idToken:t})})).then((function(){e.dispatchEvent(new Ts("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Es(e,null),xs(e,null),e.I=[],e.B=!0,Ns(e),Vr(e,"refreshToken",null),e.i&&$u(e.i,e)}))},e.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},e.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?C(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?C(this.Cb,this):null},e.tc=function(e){var t=this;return Qs(this,"linkViaPopup",e,(function(){return Ws(t,e.providerId).then((function(){return Ds(t)}))}),!1)},e.Cc=function(e){return Qs(this,"reauthViaPopup",e,(function(){return Xe()}),!0)},e.uc=function(e){var t=this;return Ys(this,"linkViaRedirect",e,(function(){return Ws(t,e.providerId)}),!1)},e.Dc=function(e){return Ys(this,"reauthViaRedirect",e,(function(){return Xe()}),!0)},e.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Js(this,this.G().then((function(n){return Qa(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ks(i,e,"link"),Gs(i,e)})).then((function(){return o})))},e.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Js(this,Xe().then((function(){return zi(Ya(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ks(i,e,"reauthenticate"),Hs(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.jb=function(e){var t=this,n=null;return Js(this,this.G().then((function(t){return n=t,void 0===e||G(e)?{}:bi(new si(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&X(e,this.metadata.A()),U(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var ec={name:"redirectUser",C:"session"};function tc(e){return ku(e.b,ec,e.a)}function nc(e){this.a=e,this.b=_u(),this.c=null,this.f=function(e){var t=oc("local"),n=oc("session"),r=oc("none");return function(e,t,n){var r=Cu(t,n),i=wu(e,t.C);return e.get(t,n).then((function(o){var l=null;try{l=Sr(a.localStorage.getItem(r))}catch(u){}if(l&&!o)return a.localStorage.removeItem(r),e.set(t,l,n);l&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ic,e.a).then((function(e){return e?oc(e):t}))}))}))})).then((function(t){return e.c=t,rc(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(oc("local"),this.a,C(this.g,this))}function rc(e,t){var n,r=[];for(n in yu)yu[n]!==t&&r.push(ku(e.b,oc(yu[n]),e.a));return r.push(ku(e.b,ic,e.a)),function(e){return new ze((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},l=0;l<e.length;l++)Ze(e[l],k(o,l),a);else t(i)}))}(r)}nc.prototype.g=function(){var e=this,t=oc("local");sc(this,(function(){return Xe().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return rc(e,"local").then((function(){e.c=t}))}))}))};var ic={name:"persistence",C:"session"};function oc(e){return{name:"authUser",C:e}}function ac(e,t){return sc(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function lc(e){return sc(e,(function(){return ku(e.b,e.c,e.a)}))}function uc(e,t){return sc(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zs(e||{})}))}))}function sc(e,t){return e.f=e.f.then(t,t),e.f}function cc(e){if(this.l=!1,Vr(this,"settings",new ps),Vr(this,"app",e),!yc(this).options||!yc(this).options.apiKey)throw new Xr("invalid-api-key");e=Xg.a.SDK_VERSION?gr(Xg.a.SDK_VERSION):null,this.b=new Ia(yc(this).options&&yc(this).options.apiKey,Ii(Si),e),this.O=[],this.m=[],this.J=[],this.Ub=Xg.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=Xg.a.INTERNAL.createSubscribe(C(this.pc,this)),mc(this,null),this.h=new nc(yc(this).options.apiKey+":"+yc(this).name),this.w=new $s(yc(this).options.apiKey+":"+yc(this).name),this.Y=Cc(this,function(e){var t=yc(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ec,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zs(e||{})}))}(e.w,yc(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),tc(e.w)}));return Cc(e,t)}(e).then((function(){return uc(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return ac(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:lc(e.h)}))):null})).then((function(t){mc(e,t||null)}));return Cc(e,n)}(this)),this.i=Cc(this,function(e){return e.Y.then((function(){return pc(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(oc("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.wa=C(this.bc,this),this.xa=C(this.mc,this),this.Ja=C(this.nc,this),this.a=null,function(e){var t=yc(e).options.authDomain,n=yc(e).options.apiKey;t&&br()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=ls(t,n,yc(e).name),Zu(e.a,e),bc(e)&&Rs(bc(e)),e.B){Rs(e.B);var r=e.B;r.ua(e.ha()),Es(r,e),Is(r=e.B,e.I),xs(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,on.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.ua(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function hc(e){Rt.call(this,"languageCodeChanged"),this.g=e}function fc(e){Rt.call(this,"frameworkChanged"),this.c=e}function dc(e){return e.Tb||Je(new Xr("auth-domain-config-required"))}function pc(e){if(!br())return Je(new Xr("operation-not-supported-in-this-environment"));var t=dc(e).then((function(){return e.a.oa()})).then((function(e){return e?Fr(e):null}));return Cc(e,t)}function gc(e,t){var n={};return n.apiKey=yc(e).options.apiKey,n.authDomain=yc(e).options.authDomain,n.appName=yc(e).name,e.Y.then((function(){return function(e,t,n,r){var i=new Ss(e,t);return n&&(i.da=n),r&&Is(i,r),i.reload().then((function(){return i}))}(n,t,e.w,e.Ca())})).then((function(t){return bc(e)&&t.uid==bc(e).uid?(qs(bc(e),t),e.aa(t)):(mc(e,t),Rs(t),e.aa(t))})).then((function(){wc(e)}))}function mc(e,t){bc(e)&&(function(e,t){z(e.O,(function(e){return e==t}))}(bc(e),e.ub),Yt(bc(e),"tokenChanged",e.wa),Yt(bc(e),"userDeleted",e.xa),Yt(bc(e),"userInvalidated",e.Ja),Ns(bc(e))),t&&(t.O.push(e.ub),Kt(t,"tokenChanged",e.wa),Kt(t,"userDeleted",e.xa),Kt(t,"userInvalidated",e.Ja),0<e.o&&Os(t)),Vr(e,"currentUser",t),t&&(t.ua(e.ha()),Es(t,e),Is(t,e.I),xs(t,e))}function vc(e,t){var n=null,r=null;return Cc(e,t.then((function(t){return n=yo(t),r=Pi(t),gc(e,t)})).then((function(){return Fr({user:bc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function yc(e){return e.app}function bc(e){return e.currentUser}function _c(e){return bc(e)&&bc(e)._lat||null}function wc(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](_c(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](_c(e))}}function Cc(e,t){return e.O.push(t),t.ka((function(){q(e.O,t)})),t}function kc(){}function Tc(){this.a={},this.b=1e12}nc.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Xr("invalid-persistence-type"),n=new Xr("unsupported-persistence-type");e:{for(r in yu)if(yu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(cr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!yr()&&"none"!==e)throw n}}(e),sc(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,rc(n,e)})).then((function(){if(n.c=oc(e),t)return n.b.set(n.c,t,n.a)})):Xe()}))},S(cc,on),S(hc,Rt),S(fc,Rt),(e=cc.prototype).mb=function(e){return Cc(this,e=this.h.mb(e))},e.ua=function(e){this.Z===e||this.l||(this.Z=e,Ra(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var e=a.navigator;this.ua(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.vc=function(e){this.I.push(e),Ma(this.b,Xg.a.SDK_VERSION?gr(Xg.a.SDK_VERSION,this.I):null),this.dispatchEvent(new fc(this.I))},e.Ca=function(){return W(this.I)},e.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:yc(this).options.apiKey,authDomain:yc(this).options.authDomain,appName:yc(this).name,currentUser:bc(this)&&bc(this).A()}},e.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?C(this.ac,this):null},e.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,l=Ga(i.b,e).then((function(e){return o=yo(e),a=Pi(e),e}));return Cc(this,e=i.Y.then((function(){return l})).then((function(e){return gc(i,e)})).then((function(){return Fr({user:bc(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},e.Lc=function(e){if(!br())return Je(new Xr("operation-not-supported-in-this-environment"));var t=this,n=Ni(e.providerId),r=Er(),i=null;(!Cr()||ur())&&yc(this).options.authDomain&&e.isOAuthProvider&&(i=Fl(yc(this).options.authDomain,yc(this).options.apiKey,yc(this).name,"signInViaPopup",e,null,r,Xg.a.SDK_VERSION||null,null,null,this.R()));var o=rr(i,n&&n.sa,n&&n.ra);return Cc(this,n=dc(this).then((function(n){return ns(n,o,"signInViaPopup",e,r,!!i,t.R())})).then((function(){return new ze((function(e,n){t.ja("signInViaPopup",null,new Xr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.c=os(t.a,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&nr(o),e?Fr(e):null})).s((function(e){throw o&&nr(o),e})))},e.Mc=function(e){if(!br())return Je(new Xr("operation-not-supported-in-this-environment"));var t=this;return Cc(this,dc(this).then((function(){return function(e){return sc(e,(function(){return e.b.set(ic,e.c.C,e.a)}))}(t.h)})).then((function(){return is(t.a,"signInViaRedirect",e,void 0,t.R())})))},e.oa=function(){var e=this;return pc(this).then((function(t){return e.a&&cs(e.a.b),t})).s((function(t){throw e.a&&cs(e.a.b),t}))},e.Rc=function(e){if(!e)return Je(new Xr("null-user"));if(this.P!=e.tenantId)return Je(new Xr("tenant-id-mismatch"));var t=this,n={};n.apiKey=yc(this).options.apiKey,n.authDomain=yc(this).options.authDomain,n.appName=yc(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[Aa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-T())/1e3,t=new Ss(t,o),n&&(t.da=n),r&&Is(t,r),qs(t,e),t}(e,n,t.w,t.Ca());return Cc(this,this.i.then((function(){if(yc(t).options.apiKey!=e.l)return r.reload()})).then((function(){return bc(t)&&e.uid==bc(t).uid?(qs(bc(t),e),t.aa(e)):(mc(t,r),Rs(r),t.aa(r))})).then((function(){wc(t)})))},e.pb=function(){var e=this;return Cc(this,this.i.then((function(){return e.a&&cs(e.a.b),bc(e)?(mc(e,null),lc(e.h).then((function(){wc(e)}))):Xe()})))},e.Nc=function(){var e=this;return uc(this.h,yc(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=bc(e)&&t){n=bc(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return qs(bc(e),t),bc(e).G();(bc(e)||t)&&(mc(e,t),t&&(Rs(t),t.da=e.w),e.a&&Zu(e.a,e),wc(e))}}))},e.aa=function(e){return ac(this.h,e)},e.bc=function(){wc(this),this.aa(bc(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(bc(t))}))},e.pc=function(e){var t=this;!function(e,t){e.J.push(t),Cc(e,e.i.then((function(){!e.l&&j(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(_c(e)))})))}(this,(function(){e.next(bc(t))}))},e.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){m(e)?e(bc(r)):m(e.next)&&e.next(bc(r))})),this.Ub(e,t,n)},e.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),m(e)?e(bc(r)):m(e.next)&&e.next(bc(r))})),this.Vb(e,t,n)},e.cc=function(e){var t=this;return Cc(this,this.i.then((function(){return bc(t)?bc(t).G(e).then((function(e){return{accessToken:e}})):null})))},e.Hc=function(e){var t=this;return this.i.then((function(){return vc(t,Tl(t.b,bl,{token:e}))})).then((function(e){var n=e.user;return js(n,"isAnonymous",!1),t.aa(n),e}))},e.Ic=function(e,t){var n=this;return this.i.then((function(){return vc(n,Tl(n.b,_l,{email:e,password:t}))}))},e.Xb=function(e,t){var n=this;return this.i.then((function(){return vc(n,Tl(n.b,$a,{email:e,password:t}))}))},e.Sa=function(e){var t=this;return this.i.then((function(){return vc(t,e.na(t.b))}))},e.Gc=function(e){return Mr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(e)},e.ob=function(){var e=this;return this.i.then((function(){var t=bc(e);if(t&&t.isAnonymous){var n=Fr({providerId:null,isNewUser:!1});return Fr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vc(e,e.b.ob()).then((function(t){var n=t.user;return js(n,"isAnonymous",!0),e.aa(n),t}))}))},e.getUid=function(){return bc(this)&&bc(this).uid||null},e.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&bc(this)&&Os(bc(this))},e.Ec=function(e){var t=this;U(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&bc(this)&&Ns(bc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),Cc(this,this.i.then((function(){t.l||j(t.m,e)&&e(_c(t))})))},e.removeAuthTokenListener=function(e){z(this.m,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(oc("local"),e.a,this.ma),this.a&&($u(this.a,this),cs(this.a.b)),Promise.resolve()},e.$b=function(e){return Cc(this,function(e,t){return Tl(e,el,{identifier:t,continueUri:_r()?$n():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},e.qc=function(e){return!!ho(e)},e.lb=function(e,t){var n=this;return Cc(this,Xe().then((function(){var e=new si(t);if(!e.c)throw new Xr("argument-error",fi+" must be true when sending sign in link to email");return bi(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},e.Uc=function(e){return this.Ma(e).then((function(e){return e.data.email}))},e.ab=function(e,t){return Cc(this,this.b.ab(e,t).then((function(){})))},e.Ma=function(e){return Cc(this,this.b.Ma(e).then((function(e){return new jr(e)})))},e.Ya=function(e){return Cc(this,this.b.Ya(e).then((function(){})))},e.kb=function(e,t){var n=this;return Cc(this,Xe().then((function(){return void 0===t||G(t)?{}:bi(new si(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},e.Kc=function(e,t){return Cc(this,ms(this,e,t,C(this.Sa,this)))},e.Jc=function(e,t){var n=this;return Cc(this,Xe().then((function(){var r=t||$n(),i=co(e,r);if(!(r=ho(r)))throw new Xr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Xr("tenant-id-mismatch");return n.Sa(i)})))},kc.prototype.render=function(){},kc.prototype.reset=function(){},kc.prototype.getResponse=function(){},kc.prototype.execute=function(){};var Sc=null;function Ec(e,t){return(t=Ic(t))&&e.a[t]||null}function Ic(e){return(e=void 0===e?1e12:e)?e.toString():null}function xc(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Kt(this.f,"click",this.i)}function Ac(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Oc(){}Tc.prototype.render=function(e,t){return this.a[this.b.toString()]=new xc(e,t),this.b++},Tc.prototype.reset=function(e){var t=Ec(this,e);e=Ic(e),t&&e&&(t.delete(),delete this.a[e])},Tc.prototype.getResponse=function(e){return(e=Ec(this,e))?e.getResponse():null},Tc.prototype.execute=function(e){(e=Ec(this,e))&&e.execute()},xc.prototype.getResponse=function(){return Ac(this),this.b},xc.prototype.execute=function(){Ac(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},xc.prototype.delete=function(){Ac(this),this.g=!0,clearTimeout(this.a),this.a=null,Yt(this.f,"click",this.i)},Oc.prototype.g=function(){return Sc||(Sc=new Tc),Xe(Sc)},Oc.prototype.c=function(){};var Nc=null;function Pc(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dc=new J(ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rc=new Ar(3e4,6e4);Pc.prototype.g=function(e){var t=this;return new ze((function(n,r){var i=setTimeout((function(){r(new Xr("network-request-failed"))}),Rc.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new Xr("internal-error"));delete a[t.a]},Xe(_a(ie(Dc,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new Xr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Pc.prototype.c=function(){this.b--};var Mc=null;function Lc(e,t,n,r,i,o,l){if(Vr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,l?(Nc||(Nc=new Oc),l=Nc):(Mc||(Mc=new Pc),l=Mc),this.m=l,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fc])throw new Xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Bc],!a.document)throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qn(t)||!this.i&&qn(t).hasChildNodes())throw new Xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ia(e,o||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var s=this.a[Vc];this.a[Vc]=function(e){if(jc(u,e),"function"==typeof s)s(e);else if("string"==typeof s){var t=vr(s,a);"function"==typeof t&&t(e)}};var c=this.a[Uc];this.a[Uc]=function(){if(jc(u,null),"function"==typeof c)c();else if("string"==typeof c){var e=vr(c,a);"function"==typeof e&&e()}}}var Vc="callback",Uc="expired-callback",Fc="sitekey",Bc="size";function jc(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function qc(e,t){return e.h.push(t),t.ka((function(){q(e.h,t)})),t}function zc(e){if(e.B)throw new Xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Hc(e,t,n){var r=!1;try{this.b=n||Xg.a.app()}catch(a){throw new Xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Xr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ca()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Xg.a.SDK_VERSION?gr(Xg.a.SDK_VERSION,o):null,Lc.call(this,n,e,t,(function(){try{var e=i.b.auth().ha()}catch(t){e=null}return e}),o,Ii(Si),r)}function Wc(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Xr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],0>i||i>=Kc.length)throw new Xr("internal-error","Argument validator received an unsupported number of arguments.");n=Kc[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Xr("argument-error",e+" failed: "+r)}(e=Lc.prototype).Da=function(){var e=this;return this.f?this.f:this.f=qc(this,Xe().then((function(){if(_r()&&!sr())return ar();throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,Tl(e.o,cl,{})})).then((function(t){e.a[Fc]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},e.render=function(){zc(this);var e=this;return qc(this,this.Da().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=qn(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!jn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ve(a.name),'"'),a.type){o.push(' type="',Ve(a.type),'"');var u={};X(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(l(a)?o.className=a:p(a)?o.className=a.join(" "):zn(o,a)),2<r.length&&Wn(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){zc(this);var e=this;return qc(this,this.render().then((function(t){return new ze((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){z(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){zc(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){zc(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=qn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},S(Hc,Lc);var Kc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gc(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:l}}function Qc(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:u}}function Yc(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:v}}function Xc(e,t){return{name:e||"",M:"a function",optional:!!t,N:m}}function Jc(e,t){return{name:e||"",M:"null",optional:!!t,N:d}}function Zc(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){return!!t&&!(!t.na||e&&t.providerId!==e)}}}function $c(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&l(e.type)&&m(e.verify))}}}function eh(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function th(e,t){for(var n in t){var r=t[n].name;e[r]=ih(r,e[n],t[n].j)}}function nh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:k((function(e){return this[e]}),n),set:k((function(e,t,n,r){Wc(e,[n],[r],!0),this[t]=r}),r,n,t[n].Za),enumerable:!0})}}function rh(e,t,n,r){e[t]=ih(t,n,r)}function ih(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Wc(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}th(cc.prototype,{Ya:{name:"applyActionCode",j:[Gc("code")]},Ma:{name:"checkActionCode",j:[Gc("code")]},ab:{name:"confirmPasswordReset",j:[Gc("code"),Gc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Gc("email"),Gc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Gc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Gc("emailLink")]},wc:{name:"onAuthStateChanged",j:[eh(Yc(),Xc(),"nextOrObserver"),Xc("opt_error",!0),Xc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[eh(Yc(),Xc(),"nextOrObserver"),Xc("opt_error",!0),Xc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Gc("email"),eh(Yc("opt_actionCodeSettings",!0),Jc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Gc("email"),Yc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Gc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Zc()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[Zc()]},Hc:{name:"signInWithCustomToken",j:[Gc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Gc("email"),Gc("password")]},Jc:{name:"signInWithEmailLink",j:[Gc("email"),Gc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Gc("phoneNumber"),$c()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[eh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Ss)}},Jc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Gc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Za:eh(Gc(),Jc(),"languageCode")},ti:{name:"tenantId",Za:eh(Gc(),Jc(),"tenantId")}}),(cc.Persistence=yu).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",th(Ss.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Qc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Qc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Zc()]},fb:{name:"linkWithCredential",j:[Zc()]},sc:{name:"linkWithPhoneNumber",j:[Gc("phoneNumber"),$c()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Zc()]},hb:{name:"reauthenticateWithCredential",j:[Zc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Gc("phoneNumber"),$c()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[eh(Yc("opt_actionCodeSettings",!0),Jc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gc(null,!0)]},Qc:{name:"unlink",j:[Gc("provider")]},rb:{name:"updateEmail",j:[Gc("email")]},sb:{name:"updatePassword",j:[Gc("password")]},Sc:{name:"updatePhoneNumber",j:[Zc("phone")]},tb:{name:"updateProfile",j:[Yc("profile")]}}),th(Tc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(kc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(ze.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(ps.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:Qc("appVerificationDisabledForTesting")}}),th(gs.prototype,{confirm:{name:"confirm",j:[Gc("verificationCode")]}}),rh(qi,"fromJSON",(function(e){e=l(e)?JSON.parse(e):e;for(var t,n=[Yi,uo,po,Ki],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[eh(Gc(),Yc(),"json")]),rh(so,"credential",(function(e,t){return new lo(e,t)}),[Gc("email"),Gc("password")]),th(lo.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),th($i.prototype,{ya:{name:"addScope",j:[Gc("scope")]},Ga:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh($i,"credential",eo,[eh(Gc(),Yc(),"token")]),rh(so,"credentialWithLink",co,[Gc("email"),Gc("emailLink")]),th(to.prototype,{ya:{name:"addScope",j:[Gc("scope")]},Ga:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(to,"credential",no,[eh(Gc(),Yc(),"token")]),th(ro.prototype,{ya:{name:"addScope",j:[Gc("scope")]},Ga:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(ro,"credential",io,[eh(Gc(),eh(Yc(),Jc()),"idToken"),eh(Gc(),Jc(),"accessToken",!0)]),th(oo.prototype,{Ga:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(oo,"credential",ao,[eh(Gc(),Yc(),"token"),Gc("secret",!0)]),th(Zi.prototype,{ya:{name:"addScope",j:[Gc("scope")]},credential:{name:"credential",j:[eh(Gc(),eh(Yc(),Jc()),"optionsOrIdToken"),eh(Gc(),Jc(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),th(Gi.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),th(Hi.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),rh(mo,"credential",vo,[Gc("verificationId"),Gc("verificationCode")]),th(mo.prototype,{Wa:{name:"verifyPhoneNumber",j:[Gc("phoneNumber"),$c()]}}),th(fo.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),th(Xr.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),th(Eo.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),th(So.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),th(Hc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rh(ei,"parseLink",ui,[Gc("link")]),function(){if(void 0===Xg.a||!Xg.a.INTERNAL||!Xg.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:qi,Error:Xr};rh(e,"EmailAuthProvider",so,[]),rh(e,"FacebookAuthProvider",$i,[]),rh(e,"GithubAuthProvider",to,[]),rh(e,"GoogleAuthProvider",ro,[]),rh(e,"TwitterAuthProvider",oo,[]),rh(e,"OAuthProvider",Zi,[Gc("providerId")]),rh(e,"SAMLAuthProvider",Ji,[Gc("providerId")]),rh(e,"PhoneAuthProvider",mo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof cc)}}]),rh(e,"RecaptchaVerifier",Hc,[eh(Gc(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Yc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof Xg.a.app.App)}}]),rh(e,"ActionCodeURL",ei,[]),Xg.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new cc(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),Xg.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:C((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:C(e.cc,e),addAuthTokenListener:C(e.Wb,e),removeAuthTokenListener:C(e.Ec,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Xg.a.registerVersion("@firebase/auth","0.13.5"),Xg.a.INTERNAL.extendNamespace({User:Ss})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Jg=function e(){_classCallCheck(this,e)},Zg=n("S+S0"),$g=function(){function e(e,t){this.code_=em(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return em(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}();function em(e){return"storage/"+e}function tm(){return new $g("unknown","An unknown error occurred, please check the error payload for server response.")}function nm(){return new $g("canceled","User canceled the upload/download.")}function rm(){return new $g("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function im(){return new $g("no-download-url","The given file does not have any download URLs.")}function om(e,t,n){return new $g("invalid-argument","Invalid argument in `"+t+"` at index "+e+": "+n)}function am(){return new $g("app-deleted","The Firebase app was deleted.")}function lm(e,t){return new $g("invalid-format","String does not match format '"+e+"': "+t)}function um(e){throw new $g("internal-error","Internal error: "+e)}var sm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function cm(e){switch(e){case sm.RAW:case sm.BASE64:case sm.BASE64URL:case sm.DATA_URL:return;default:throw"Expected one of the event types: ["+sm.RAW+", "+sm.BASE64+", "+sm.BASE64URL+", "+sm.DATA_URL+"]."}}var hm=function(e,t){this.data=e,this.contentType=t||null};function fm(e,t){switch(e){case sm.RAW:return new hm(dm(t));case sm.BASE64:case sm.BASE64URL:return new hm(pm(e,t));case sm.DATA_URL:return new hm((n=new gm(t)).base64?pm(sm.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw lm(sm.DATA_URL,"Malformed data URL.")}return dm(t)}(n.rest),new gm(t).contentType)}var n;throw tm()}function dm(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function pm(e,t){switch(e){case sm.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw lm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sm.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw lm(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(s){throw lm(e,"Invalid character found")}for(var l=new Uint8Array(a.length),u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l}var gm=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw lm(sm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},mm={STATE_CHANGED:"state_changed"},vm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ym(e){switch(e){case"running":case"pausing":case"canceling":return vm.RUNNING;case"paused":return vm.PAUSED;case"success":return vm.SUCCESS;case"canceled":return vm.CANCELED;case"error":default:return vm.ERROR}}function bm(e){return null!=e}function _m(e){return void 0!==e}function wm(e){return"function"==typeof e}function Cm(e){return"object"==typeof e}function km(e){return Cm(e)&&null!==e}function Tm(e){return"string"==typeof e||e instanceof String}function Sm(e){return Em(e)&&Number.isInteger(e)}function Em(e){return"number"==typeof e||e instanceof Number}function Im(e){return xm()&&e instanceof Blob}function xm(){return"undefined"!=typeof Blob}var Am=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),Om=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Am.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Am.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Am.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw um("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),bm(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return bm(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw um("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw um("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw um("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){bm(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){bm(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Nm=function(){function e(){}return e.prototype.createXhrIo=function(){return new Om},e}();function Pm(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Dm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Pm();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(xm())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var Rm=function(){function e(e,t){var n=0,r="";Im(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Im(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(xm()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Dm.apply(null,r))}var i=t.map((function(e){return Tm(e)?fm(sm.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),l=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[l++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),Mm=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new $g("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],a=0;a<o.length;a++){var l=o[a],u=l.regex.exec(t);if(u){var s=u[l.indices.path];s||(s=""),n=new e(u[l.indices.bucket],s),l.postModify(n);break}}if(null==n)throw function(e){return new $g("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}();function Lm(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return Cm(n=t)&&!Array.isArray(n)?t:null}function Vm(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function Um(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Fm(e){return"https://firebasestorage.googleapis.com/v0"+e}function Bm(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}function jm(e,t){return t}var qm=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||jm},zm=null;function Hm(e,t,n){var r=Lm(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new Mm(e.bucket,e.fullPath);return t.makeStorageReference(n)}})}(r,e),r}(e,r,n)}function Wm(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Km(e){if(!Cm(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!Cm(n))throw"Expected object for 'customMetadata' mapping."}else if(km(n))throw"Mapping for '"+t+"' cannot be an object."}}function Gm(e){if(!Cm(e)||!e)throw"Expected ListOptions object.";for(var t in e)if("maxResults"===t){if(!Sm(e.maxResults)||e.maxResults<=0)throw"Expected maxResults to be a positive number.";if(e.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==t)throw"Unknown option: "+t;if(e.pageToken&&!Tm(e.pageToken))throw"Expected pageToken to be string."}}var Qm=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ym(e){if(!e)throw tm()}function Xm(e,t){return function(n,r){var i=Hm(e,r,t);return Ym(null!==i),i}}function Jm(e){return function(t,n){var r;return(r=401===t.getStatus()?new $g("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new $g("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new $g("unauthorized","User does not have permission to access '"+e.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Zm(e){var t=Jm(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new $g("object-not-found","Object '"+e.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function $m(e,t,n){var r=Fm(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Qm(r,"GET",Xm(e,n),i);return o.errorHandler=Zm(t),o}function ev(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Fm(t.bucketOnlyServerUrl()),l=e.maxOperationRetryTime(),u=new Qm(a,"GET",function(e){return function(t,n){var r=function(e,t){var n=Lm(t);return null===n?null:function(e,t){var n={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=e.bucket();if(null===r)throw new $g("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");if(t.prefixes)for(var i=0,o=t.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),l=e.makeStorageReference(new Mm(r,a));n.prefixes.push(l)}if(t.items)for(var u=0,s=t.items;u<s.length;u++)l=e.makeStorageReference(new Mm(r,s[u].name)),n.items.push(l);return n}(e,n)}(e,n);return Ym(null!==r),r}}(e),l);return u.urlParams=o,u.errorHandler=Jm(t),u}function tv(e,t,n){var r=Fm(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Qm(r,"GET",function(e,t){return function(n,r){var i=Hm(e,r,t);return Ym(null!==i),function(e,t){var n=Lm(t);if(null===n)return null;if(!Tm(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.fullPath;return Fm("/b/"+i(e.bucket)+"/o/"+i(n))+Bm({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=Zm(t),o}function nv(e,t,n,r){var i=Fm(t.fullServerUrl()),o=Wm(n,r),a=e.maxOperationRetryTime(),l=new Qm(i,"PATCH",Xm(e,r),a);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=o,l.errorHandler=Zm(t),l}function rv(e,t){var n=Fm(t.fullServerUrl()),r=e.maxOperationRetryTime(),i=new Qm(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Zm(t),i}function iv(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var ov=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function av(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ym(!1)}return Ym(!!n&&-1!==(t||["active"]).indexOf(n)),n}var lv=function(e,t,n){if(wm(e)||bm(t)||bm(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},uv=function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o};function sv(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(a=r)===(l=i)?(u=a,s=1===a?"argument":"arguments"):(u="between "+a+" and "+l,s="arguments"),new $g("invalid-argument-count","Invalid argument count in `"+e+"`: Expected "+u+" "+s+", received "+n.length+".");var a,l,u,s;for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(c){throw c instanceof Error?om(o,e,c.message):om(o,e,c)}}var cv=function(e,t){var n=this;this.validator=function(t){n.optional&&!_m(t)||e(t)},this.optional=!!t};function hv(e,t){function n(e){if(!Tm(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new cv(r,t)}function fv(){return new cv((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||xm()&&e instanceof Blob))throw"Expected Blob or File."}))}function dv(e){return new cv(Km,e)}function pv(e){return new cv(Gm,e)}function gv(){return new cv((function(e){if(!(Em(e)&&e>=0))throw"Expected a number 0 or greater."}))}function mv(e,t){return new cv((function(t){if(!(null===t||bm(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)}),t)}function vv(e){return new cv((function(e){if(null!==e&&!wm(e))throw"Expected a Function."}),e)}function yv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var bv=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals("canceled")?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_("error"))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals("canceled")?a.completeTransitions_():(a.error_=e,a.transition_("error"))},this.promise_=new Promise((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case"running":e(n);break;case"canceling":t.transition_("canceled");break;case"pausing":t.transition_("paused")}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=iv(t,r,i),l={name:a.fullPath},u=Fm(o),s={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=Wm(a,n),h=e.maxUploadRetryTime(),f=new Qm(u,"POST",(function(e){var t;av(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ym(!1)}return Ym(Tm(t)),t}),h);return f.urlParams=l,f.headers=s,f.body=c,f.errorHandler=Jm(t),f}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new Qm(n,"POST",(function(e){var t=av(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Ym(!1)}n||Ym(!1);var i=Number(n);return Ym(!isNaN(i)),new ov(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Jm(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new ov(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(e,t,n,r,i,o,a,l){var u=new ov(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new $g("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var s=u.total-u.current,c=s;i>0&&(c=Math.min(c,i));var h=u.current,f={"X-Goog-Upload-Command":c===s?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+c);if(null===d)throw rm();var p=t.maxUploadRetryTime(),g=new Qm(n,"POST",(function(e,n){var i,a=av(e,["active","final"]),l=u.current+c,s=r.size();return i="final"===a?Xm(t,o)(e,n):null,new ov(l,s,"final"===a,i)}),p);return g.headers=f,g.body=d.uploadData(),g.progressCallback=l||null,g.errorHandler=Jm(e),g}(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(l){return e.error_=l,void e.transition_("error")}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_("success")):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=$m(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_("success")}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+l;var u=iv(t,r,i),s=Wm(u,n),c=Rm.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+s+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===c)throw rm();var h={name:u.fullPath},f=Fm(o),d=e.maxUploadRetryTime(),p=new Qm(f,"POST",Xm(e,n),d);return p.urlParams=h,p.headers=a,p.body=c.uploadData(),p.errorHandler=Jm(t),p}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_("success")}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case"canceling":case"pausing":this.state_=e,null!==this.request_&&this.request_.cancel();break;case"running":var t="paused"===this.state_;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=e,this.notifyObservers_();break;case"canceled":this.error_=nm(),this.state_=e,this.notifyObservers_();break;case"error":case"success":this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=ym(this.state_);return new uv(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==mm.STATE_CHANGED)throw"Expected one of the event types: ["+mm.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=vv(!0).validator,l=mv(null,!0).validator;function u(e){try{return void a(e)}catch(t){}try{if(l(e),!(_m(e.next)||_m(e.error)||_m(e.complete)))throw"";return}catch(t){throw o}}var s=[hv(i),mv(u,!0),vv(!0),vv(!0)];sv("on",s,arguments);var c=this;function h(e){return function(t,n,i){null!==e&&sv("on",e,arguments);var o=new lv(t,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function f(e){if(null===e)throw o;u(e)}var d=[mv(f),vv(!0),vv(!0)],p=!(_m(t)||_m(n)||_m(r));return p?h(d):h(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(ym(this.state_)){case vm.SUCCESS:yv(this.resolve_.bind(null,this.snapshot))();break;case vm.CANCELED:case vm.ERROR:yv(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(ym(this.state_)){case vm.RUNNING:case vm.PAUSED:e.next&&yv(e.next.bind(e,this.snapshot))();break;case vm.SUCCESS:e.complete&&yv(e.complete.bind(e))();break;case vm.CANCELED:case vm.ERROR:e.error&&yv(e.error.bind(e,this.error_))();break;default:e.error&&yv(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){sv("resume",[],arguments);var e="paused"===this.state_||"pausing"===this.state_;return e&&this.transition_("running"),e},e.prototype.pause=function(){sv("pause",[],arguments);var e="running"===this.state_;return e&&this.transition_("pausing"),e},e.prototype.cancel=function(){sv("cancel",[],arguments);var e="running"===this.state_||"pausing"===this.state_;return e&&this.transition_("canceling"),e},e}(),_v=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof Mm?t:Mm.makeFromUrl(t)}return e.prototype.toString=function(){return sv("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return function(){if(zm)return zm;var e=[];e.push(new qm("bucket")),e.push(new qm("generation")),e.push(new qm("metageneration")),e.push(new qm("name","fullPath",!0));var t=new qm("name");t.xform=function(e,t){return function(e){return!Tm(e)||e.length<2?e:Um(e)}(t)},e.push(t);var n=new qm("size");return n.xform=function(e,t){return bm(t)?Number(t):t},e.push(n),e.push(new qm("timeCreated")),e.push(new qm("updated")),e.push(new qm("md5Hash",null,!0)),e.push(new qm("cacheControl",null,!0)),e.push(new qm("contentDisposition",null,!0)),e.push(new qm("contentEncoding",null,!0)),e.push(new qm("contentLanguage",null,!0)),e.push(new qm("contentType",null,!0)),e.push(new qm("metadata","customMetadata",!0)),zm=e}()},e.prototype.child=function(e){sv("child",[hv()],arguments);var t=Vm(this.location.path,e),n=new Mm(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new Mm(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new Mm(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Um(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),sv("put",[fv(),dv(!0)],arguments),this.throwIfRoot_("put"),new bv(this,this.authWrapper,this.location,this.mappings(),new Rm(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=sm.RAW),sv("putString",[hv(),hv(cm,!0),dv(!0)],arguments),this.throwIfRoot_("putString");var r=fm(t,e),i=Object.assign({},n);return!bm(i.contentType)&&bm(r.contentType)&&(i.contentType=r.contentType),new bv(this,this.authWrapper,this.location,this.mappings(),new Rm(r.data,!0),i)},e.prototype.delete=function(){var e=this;return sv("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(t){var n=rv(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){sv("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return Object(Mf.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Mf.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:t})];case 1:return n=o.sent(),(r=e.prefixes).push.apply(r,n.prefixes),(i=e.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(e,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){sv("list",[pv(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=e||{},i=ev(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return sv("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(t){var n=$m(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return sv("updateMetadata",[dv()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=nv(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return sv("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(t){var n=tv(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw im();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new $g("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),wv=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),Cv=function(){function e(){this.map=new Map,this.id=-9007199254740991}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then((function(){return t.map.delete(n)}),(function(){return t.map.delete(n)}))},e.prototype.clear=function(){this.map.forEach((function(e){e&&e.cancel(!0)})),this.map.clear()},e}(),kv=function(){function e(t,n,r,i,o,a){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var l=this.app_.options;bm(l)&&(this.bucket_=e.extractBucket_(l))}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new Cv}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:Mm.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){var e=this.authProvider_.getImmediate({optional:!0});return e?e.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(){return null})):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw am();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new wv(am());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),Tv=function(){function e(e,t,n,r,i,o,a,l,u,s,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=l,this.progressCallback_=s,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var l=e.callback_(a,a.getResponseText());_m(l)?i(l):i()}catch(u){o(u)}else null!==a?((r=tm()).setServerResponseProp(a.getResponseText()),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?am():nm():new $g("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Sv(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,l=0;function u(){return 2===l}var s=!1;function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s||(s=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new Sv(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===Am.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Sv(a,n))}else{var l=n.getErrorCode()===Am.ABORT;t(!1,new Sv(!1,null,l))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!s)if(e)c.call.apply(c,Object(Mf.__spreadArrays)([null,e],t));else{var r,o=u()||a;o?c.call.apply(c,Object(Mf.__spreadArrays)([null,e],t)):(i<64&&(i*=2),1===l?(l=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,s||(null!==o?(e||(l=2),clearTimeout(o),h(0)):e||(l=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Sv=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Ev(e,t,n){var r=Bm(e.urlParams),i=e.url+r,o=Object.assign({},e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(o,t),function(e){e["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Xg.a?Xg.a.SDK_VERSION:"AppManager")}(o),new Tv(i,e.method,o,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var Iv,xv,Av=function(){function e(e,t,n,r){if(this.bucket_=null,this.authWrapper_=new kv(e,t,(function(e,t){return new _v(e,t)}),Ev,this,n),this.app_=e,null!=r)this.bucket_=Mm.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new Mm(i,""))}this.internals_=new Ov(this)}return e.prototype.ref=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(sv("ref",[hv(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new _v(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{Mm.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return sv("refFromURL",[hv(t,!1)],arguments),new _v(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){sv("setMaxUploadRetryTime",[gv()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){sv("setMaxOperationRetryTime",[gv()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Ov=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}();xv={TaskState:vm,TaskEvent:mm,StringFormat:sm,Storage:Av,Reference:_v},(Iv=Xg.a).INTERNAL.registerComponent(new Zg.Component("storage",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new Av(n,r,new Nm,t)}),"PUBLIC").setServiceProps(xv).setMultipleInstances(!0)),Iv.registerVersion("@firebase/storage","0.3.26");var Nv=function e(){_classCallCheck(this,e)},Pv=function e(){_classCallCheck(this,e)},Dv=new $a(el,[tl],(function(e){return function(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var o=e[i];o.token===Tt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[Bn(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([br(512,Yt,Xt,[[8,[Af,Df,Fd,Wd,dg,lg,eg,vg,wg,Sg,Og,Rg,Ug,qg,Kg]],[3,Yt],Le]),br(5120,Ni,Ao,[[3,Ni]]),br(4608,vl,yl,[Ni,[2,ml]]),br(5120,di,Oo,[Qi]),br(5120,Ti,Si,[]),br(5120,yn,Io,[]),br(5120,bn,xo,[]),br(4608,Ss,Es,[Pl]),br(6144,vt,null,[Ss]),br(4608,ys,_s,[]),br(5120,Gu,(function(e,t,n,r,i,o,a,l){return[new ms(e,t,n),new Ts(r),new ws(i,o,a,l)]}),[Pl,Qi,xi,Pl,Pl,ys,Oi,[2,bs]]),br(4608,Qu,Qu,[Gu,Qi]),br(135680,Ju,Ju,[Pl]),br(4608,ns,ns,[Qu,Ju,Ti]),br(6144,tn,null,[ns]),br(6144,Xu,null,[Ju]),br(4608,no,no,[Qi]),br(5120,qc,Cf,[Jh]),br(4608,sf,sf,[]),br(6144,lf,null,[sf]),br(135680,cf,cf,[Jh,go,Fi,Et,lf]),br(4608,uf,uf,[]),br(5120,hf,vf,[Jh,Ml,ff]),br(5120,Ef,Sf,[kf]),br(5120,Ai,(function(e){return[e]}),[Ef]),br(4608,hp,hp,[]),br(5120,Cd,Td,[yd,Qi,[2,bd]]),br(4608,Dd,Dd,[yd,[2,bd],[2,Ed],[2,xd],xi,Qi,[2,Id]]),br(4608,Qg,Qg,[yd,[2,bd],xi,Qi]),br(4608,Qp,Qp,[yd,[2,bd],[2,Gp],xi,Qi]),br(1073742336,Nl,Nl,[]),br(1024,We,Rs,[]),br(1024,ao,(function(){return[gf()]}),[]),br(512,kf,kf,[Et]),br(1024,Ci,(function(e,t){return[(n=e,Hu("probe",Ku),Hu("coreTokens",Object.assign({},Wu,(n||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return Ku}),Tf(t)];var n}),[[2,ao],kf]),br(512,ki,ki,[[2,Ci]]),br(131584,fo,fo,[Qi,Oi,Et,We,Yt,ki]),br(1073742336,No,No,[fo]),br(1073742336,Ms,Ms,[[3,Ms]]),br(1024,df,bf,[[3,Jh]]),br(512,_c,wc,[]),br(512,rf,rf,[]),br(256,ff,{},[]),br(1024,il,yf,[nl,[2,ol],ff]),br(512,al,al,[il,nl]),br(512,Fi,Fi,[]),br(512,go,yo,[Fi,[2,mo]]),br(1024,Hh,(function(){return[[{path:"",redirectTo:"home",pathMatch:"full"},{path:"admin",component:Of,children:[{path:"admin-clients",component:Rf},{path:"admin-orders",component:Bd},{path:"admin-products",component:ug,children:[{path:"uploader",component:ng},{path:"upload-task",component:Hp}]}]},{path:"header",component:pg},{path:"footer",component:yg},{path:"home",component:Cg},{path:"catalog",component:Eg},{path:"about-us",component:Ng},{path:"contacts",component:Mg},{path:"zakaz",component:Fg}]]}),[]),br(1024,Jh,wf,[fo,_c,rf,al,Et,go,Fi,Hh,ff,[2,Kh],[2,qh]]),br(1073742336,mf,mf,[[2,df],[2,Jh]]),br(1073742336,Pv,Pv,[]),br(1073742336,qp,qp,[]),br(1073742336,zp,zp,[]),br(1073742336,Sd,Sd,[xi]),br(1073742336,Gg,Gg,[]),br(1073742336,Jg,Jg,[]),br(1073742336,Nv,Nv,[]),br(1073742336,el,el,[]),br(256,Tt,!0,[]),br(256,yd,{apiKey:"AIzaSyDo9q7Pg2ji7WUyLtxxvlyn8QET4SeMxew",authDomain:"cars-from-sweden.firebaseapp.com",databaseURL:"https://cars-from-sweden.firebaseio.com",projectId:"cars-from-sweden",storageBucket:"cars-from-sweden.appspot.com",messagingSenderId:"1098202757346",appId:"1:1098202757346:web:5e1130316e6e82fa10c6bb"},[]),br(256,bd,"cars-from-sweden",[])])}));(function(){if(Ge)throw new Error("Cannot enable prod mode after platform setup.");Ke=!1})(),Ds().bootstrapModuleFactory(Dv).catch((function(e){return console.error(e)}))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},l=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,l=a?e[i+1]:0,u=i+2<e.length,s=u?e[i+2]:0,c=(15&l)<<2|s>>6,h=63&s;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|l>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(l=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var l=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,l=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==u)throw Error();r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==u&&r.push(l<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(t,e),t}(Error),p=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?g(o,r):"Error",l=this.serviceName+": "+a+" ("+i+").",u=new d(i,l),s=0,c=Object.keys(r);s<c.length;s++){var h=c[s];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function g(e,t){return e.replace(m,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var y=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=v(s(o[0])||""),n=v(s(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],s=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=s^l&(u^s),o=1518500249):(i=l^u^s,o=1859775393):r<60?(i=l&u|s&(l|u),o=2400959708):(i=l^u^s,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=s,s=u,u=4294967295&(l<<30|l>>>2),l=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),_=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function w(){}function C(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=p,t.FirebaseError=d,t.Sha1=b,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=s,t.base64Encode=function(e){var t=l(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new _(e,t);return n.subscribe.bind(n)},t.decode=y,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=C,t.getUA=f,t.isAdmin=function(e){var t=y(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return f().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isUWP=function(){return f().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=y(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=y(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=y(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);